(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var ff={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function l0(){if(Up)return Nl;Up=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var xp;function u0(){return xp||(xp=1,ff.exports=l0()),ff.exports}var At=u0(),df={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function o0(){if(Lp)return Tt;Lp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.iterator;function z(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function X(C,K,at){this.props=C,this.context=K,this.refs=W,this.updater=at||j}X.prototype.isReactComponent={},X.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function _t(){}_t.prototype=X.prototype;function ut(C,K,at){this.props=C,this.context=K,this.refs=W,this.updater=at||j}var vt=ut.prototype=new _t;vt.constructor=ut,Z(vt,X.prototype),vt.isPureReactComponent=!0;var jt=Array.isArray,mt={H:null,A:null,T:null,S:null},It=Object.prototype.hasOwnProperty;function N(C,K,at,tt,et,St){return at=St.ref,{$$typeof:s,type:C,key:K,ref:at!==void 0?at:null,props:St}}function A(C,K){return N(C.type,K,void 0,void 0,void 0,C.props)}function S(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(at){return K[at]})}var I=/\/+/g;function L(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,K,at,tt,et){var St=typeof C;(St==="undefined"||St==="boolean")&&(C=null);var Et=!1;if(C===null)Et=!0;else switch(St){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(C.$$typeof){case s:case e:Et=!0;break;case R:return Et=C._init,oe(Et(C._payload),K,at,tt,et)}}if(Et)return et=et(C),Et=tt===""?"."+L(C,0):tt,jt(et)?(at="",Et!=null&&(at=Et.replace(I,"$&/")+"/"),oe(et,K,at,"",function(ee){return ee})):et!=null&&(S(et)&&(et=A(et,at+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(I,"$&/")+"/")+Et)),K.push(et)),1;Et=0;var ce=tt===""?".":tt+":";if(jt(C))for(var Lt=0;Lt<C.length;Lt++)tt=C[Lt],St=ce+L(tt,Lt),Et+=oe(tt,K,at,St,et);else if(Lt=z(C),typeof Lt=="function")for(C=Lt.call(C),Lt=0;!(tt=C.next()).done;)tt=tt.value,St=ce+L(tt,Lt++),Et+=oe(tt,K,at,St,et);else if(St==="object"){if(typeof C.then=="function")return oe(ge(C),K,at,tt,et);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Et}function J(C,K,at){if(C==null)return C;var tt=[],et=0;return oe(C,tt,"","",function(St){return K.call(at,St,et++)}),tt}function ft(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(at){(C._status===0||C._status===-1)&&(C._status=1,C._result=at)},function(at){(C._status===0||C._status===-1)&&(C._status=2,C._result=at)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function kt(){}return Tt.Children={map:J,forEach:function(C,K,at){J(C,function(){K.apply(this,arguments)},at)},count:function(C){var K=0;return J(C,function(){K++}),K},toArray:function(C){return J(C,function(K){return K})||[]},only:function(C){if(!S(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Tt.Component=X,Tt.Fragment=i,Tt.Profiler=u,Tt.PureComponent=ut,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Tt.act=function(){throw Error("act(...) is not supported in production builds of React.")},Tt.cache=function(C){return function(){return C.apply(null,arguments)}},Tt.cloneElement=function(C,K,at){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=Z({},C.props),et=C.key,St=void 0;if(K!=null)for(Et in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(et=""+K.key),K)!It.call(K,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&K.ref===void 0||(tt[Et]=K[Et]);var Et=arguments.length-2;if(Et===1)tt.children=at;else if(1<Et){for(var ce=Array(Et),Lt=0;Lt<Et;Lt++)ce[Lt]=arguments[Lt+2];tt.children=ce}return N(C.type,et,void 0,void 0,St,tt)},Tt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Tt.createElement=function(C,K,at){var tt,et={},St=null;if(K!=null)for(tt in K.key!==void 0&&(St=""+K.key),K)It.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=K[tt]);var Et=arguments.length-2;if(Et===1)et.children=at;else if(1<Et){for(var ce=Array(Et),Lt=0;Lt<Et;Lt++)ce[Lt]=arguments[Lt+2];et.children=ce}if(C&&C.defaultProps)for(tt in Et=C.defaultProps,Et)et[tt]===void 0&&(et[tt]=Et[tt]);return N(C,St,void 0,void 0,null,et)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(C){return{$$typeof:g,render:C}},Tt.isValidElement=S,Tt.lazy=function(C){return{$$typeof:R,_payload:{_status:-1,_result:C},_init:ft}},Tt.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},Tt.startTransition=function(C){var K=mt.T,at={};mt.T=at;try{var tt=C(),et=mt.S;et!==null&&et(at,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(kt,ot)}catch(St){ot(St)}finally{mt.T=K}},Tt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Tt.use=function(C){return mt.H.use(C)},Tt.useActionState=function(C,K,at){return mt.H.useActionState(C,K,at)},Tt.useCallback=function(C,K){return mt.H.useCallback(C,K)},Tt.useContext=function(C){return mt.H.useContext(C)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(C,K){return mt.H.useDeferredValue(C,K)},Tt.useEffect=function(C,K){return mt.H.useEffect(C,K)},Tt.useId=function(){return mt.H.useId()},Tt.useImperativeHandle=function(C,K,at){return mt.H.useImperativeHandle(C,K,at)},Tt.useInsertionEffect=function(C,K){return mt.H.useInsertionEffect(C,K)},Tt.useLayoutEffect=function(C,K){return mt.H.useLayoutEffect(C,K)},Tt.useMemo=function(C,K){return mt.H.useMemo(C,K)},Tt.useOptimistic=function(C,K){return mt.H.useOptimistic(C,K)},Tt.useReducer=function(C,K,at){return mt.H.useReducer(C,K,at)},Tt.useRef=function(C){return mt.H.useRef(C)},Tt.useState=function(C){return mt.H.useState(C)},Tt.useSyncExternalStore=function(C,K,at){return mt.H.useSyncExternalStore(C,K,at)},Tt.useTransition=function(){return mt.H.useTransition()},Tt.version="19.0.0",Tt}var zp;function Zf(){return zp||(zp=1,df.exports=o0()),df.exports}var Wn=Zf(),mf={exports:{}},Ml={},gf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function c0(){return Bp||(Bp=1,function(s){function e(J,ft){var ot=J.length;J.push(ft);t:for(;0<ot;){var kt=ot-1>>>1,C=J[kt];if(0<u(C,ft))J[kt]=ft,J[ot]=C,ot=kt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ft=J[0],ot=J.pop();if(ot!==ft){J[0]=ot;t:for(var kt=0,C=J.length,K=C>>>1;kt<K;){var at=2*(kt+1)-1,tt=J[at],et=at+1,St=J[et];if(0>u(tt,ot))et<C&&0>u(St,tt)?(J[kt]=St,J[et]=ot,kt=et):(J[kt]=tt,J[at]=ot,kt=at);else if(et<C&&0>u(St,ot))J[kt]=St,J[et]=ot,kt=et;else break t}}return ft}function u(J,ft){var ot=J.sortIndex-ft.sortIndex;return ot!==0?ot:J.id-ft.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],R=1,M=null,z=3,j=!1,Z=!1,W=!1,X=typeof setTimeout=="function"?setTimeout:null,_t=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function vt(J){for(var ft=i(v);ft!==null;){if(ft.callback===null)a(v);else if(ft.startTime<=J)a(v),ft.sortIndex=ft.expirationTime,e(_,ft);else break;ft=i(v)}}function jt(J){if(W=!1,vt(J),!Z)if(i(_)!==null)Z=!0,ge();else{var ft=i(v);ft!==null&&oe(jt,ft.startTime-J)}}var mt=!1,It=-1,N=5,A=-1;function S(){return!(s.unstable_now()-A<N)}function D(){if(mt){var J=s.unstable_now();A=J;var ft=!0;try{t:{Z=!1,W&&(W=!1,_t(It),It=-1),j=!0;var ot=z;try{e:{for(vt(J),M=i(_);M!==null&&!(M.expirationTime>J&&S());){var kt=M.callback;if(typeof kt=="function"){M.callback=null,z=M.priorityLevel;var C=kt(M.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){M.callback=C,vt(J),ft=!0;break e}M===i(_)&&a(_),vt(J)}else a(_);M=i(_)}if(M!==null)ft=!0;else{var K=i(v);K!==null&&oe(jt,K.startTime-J),ft=!1}}break t}finally{M=null,z=ot,j=!1}ft=void 0}}finally{ft?I():mt=!1}}}var I;if(typeof ut=="function")I=function(){ut(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,I=function(){w.postMessage(null)}}else I=function(){X(D,0)};function ge(){mt||(mt=!0,I())}function oe(J,ft){It=X(function(){J(s.unstable_now())},ft)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){Z||j||(Z=!0,ge())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(z){case 1:case 2:case 3:var ft=3;break;default:ft=z}var ot=z;z=ft;try{return J()}finally{z=ot}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,ft){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ot=z;z=J;try{return ft()}finally{z=ot}},s.unstable_scheduleCallback=function(J,ft,ot){var kt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?kt+ot:kt):ot=kt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,J={id:R++,callback:ft,priorityLevel:J,startTime:ot,expirationTime:C,sortIndex:-1},ot>kt?(J.sortIndex=ot,e(v,J),i(_)===null&&J===i(v)&&(W?(_t(It),It=-1):W=!0,oe(jt,ot-kt))):(J.sortIndex=C,e(_,J),Z||j||(Z=!0,ge())),J},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(J){var ft=z;return function(){var ot=z;z=ft;try{return J.apply(this,arguments)}finally{z=ot}}}}(pf)),pf}var Pp;function h0(){return Pp||(Pp=1,gf.exports=c0()),gf.exports}var yf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function f0(){if(kp)return He;kp=1;var s=Zf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},He.flushSync=function(_){var v=d.T,R=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=R,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,M=g(R,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:z,fetchPriority:j}):R==="script"&&a.d.X(_,{crossOrigin:M,integrity:z,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,M=g(R,v.crossOrigin);a.d.L(_,R,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var qp;function d0(){if(qp)return yf.exports;qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=f0(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function m0(){if(Hp)return Ml;Hp=1;var s=h0(),e=Zf(),i=d0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),_t=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),vt=Symbol.for("react.offscreen"),jt=Symbol.for("react.memo_cache_sentinel"),mt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=mt&&t[mt]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case R:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _t:return n=t.displayName||null,n!==null?n:A(t.type)||"Memo";case ut:n=t._payload,t=t._init;try{return A(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,I,L;function w(t){if(I===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+L}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var P=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){P=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){P=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),O=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===O.length)for(l=b.length-1,c=O.length-1;1<=l&&0<=c&&b[l]!==O[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==O[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==O[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ft(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ot(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function kt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ot(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=ot(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function at(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=at(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Et=[],ce=-1;function Lt(t){return{current:t}}function ee(t){0>ce||(t.current=Et[ce],Et[ce]=null,ce--)}function Gt(t,n){ce++,Et[ce]=t.current,t.current=n}var Fe=Lt(null),ai=Lt(null),dn=Lt(null),zi=Lt(null);function Bi(t,n){switch(Gt(dn,n),Gt(ai,t),Gt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?op(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=op(t),n=cp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Fe),Gt(Fe,n)}function si(){ee(Fe),ee(ai),ee(dn)}function Ds(t){t.memoizedState!==null&&Gt(zi,t);var n=Fe.current,r=cp(n,t.type);n!==r&&(Gt(ai,t),Gt(Fe,r))}function _a(t){ai.current===t&&(ee(Fe),ee(ai)),zi.current===t&&(ee(zi),Dl._currentValue=St)}var va=Object.prototype.hasOwnProperty,Ur=s.unstable_scheduleCallback,Ea=s.unstable_cancelCallback,dc=s.unstable_shouldYield,Cs=s.unstable_requestPaint,Je=s.unstable_now,eu=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,nu=s.unstable_LowPriority,Vs=s.unstable_IdlePriority,mc=s.log,xr=s.unstable_setDisableYieldValue,Pi=null,ke=null;function Is(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof mc=="function"&&xr(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pi,t)}catch{}}var Ye=Math.clz32?Math.clz32:ru,Os=Math.log,iu=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(Os(t)/iu|0)|0}var Bn=128,ki=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=In(r):(f&=E,f!==0?l=In(f):t||(y=E&~y,y!==0&&(l=In(y))))):(E=r&~c,E!==0?l=In(E):f!==0?l=In(f):t||(y=r&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ta(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=Bn;return Bn<<=1,!(Bn&4194176)&&(Bn=128),t}function Hi(){var t=ki;return ki<<=1,!(ki&62914560)&&(ki=4194304),t}function Aa(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function au(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,O=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ye(r),F=1<<H;E[H]=0,b[H]=-1;var P=O[H];if(P!==null)for(O[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&ji(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ji(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Gi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function su(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function lu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function Qi(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var Pn=Math.random().toString(36).slice(2),we="__reactFiber$"+Pn,ye="__reactProps$"+Pn,ui="__reactContainer$"+Pn,Lr="__reactEvents$"+Pn,Sa="__reactListeners$"+Pn,kn="__reactHandles$"+Pn,Ms="__reactResources$"+Pn,Fi="__reactMarker$"+Pn;function zr(t){delete t[we],delete t[ye],delete t[Lr],delete t[Sa],delete t[kn]}function On(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[ui]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=dp(t);t!==null;){if(r=t[we])return r;t=dp(t)}return n}t=r,r=t.parentNode}return null}function oi(t){if(t=t[we]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ki(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Fi]=!0}var Us=new Set,ba={};function rn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(ba[t]=n,t=0;t<n.length;t++)Us.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},Ls={};function uu(t){return va.call(Ls,t)?!0:va.call(xs,t)?!1:gc.test(t)?Ls[t]=!0:(xs[t]=!0,!1)}function Xi(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Zi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ou(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=ou(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Br(t){t._valueTracker||(t._valueTracker=pc(t))}function zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ou(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function ne(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wa(t,y,Ke(n)):r!=null?wa(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Pr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function wa(t,n,r){n==="number"&&Ra(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function kr(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Ji(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||yc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function cu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Bs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Bs(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Da(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if($i(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));$i(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&zs(l)}break t;case"textarea":kr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var ks=!1;function hu(t,n,r){if(ks)return t(n,r);ks=!0;try{var l=t(n);return l}finally{if(ks=!1,(hi!==null||fi!==null)&&(no(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function qr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var _n=!1;if(an)try{var Hr={};Object.defineProperty(Hr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Hr,Hr),window.removeEventListener("test",Hr,Hr)}catch{_n=!1}var Hn=null,Wi=null,mi=null;function qs(){if(mi)return mi;var t,n=Wi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Hs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:Hs,this.isPropagationStopped=Hs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=De(qt),jr=D({},qt,{view:0,detail:0}),fu=De(jr),Va,Ia,Qn,Gr=D({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Va=t.screenX-Qn.screenX,Ia=t.screenY-Qn.screenY):Ia=Va=0,Qn=t),Va)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),vn=De(Gr),du=D({},Gr,{dataTransfer:0}),Ec=De(du),Qr=D({},jr,{relatedTarget:0}),Oa=De(Qr),js=D({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=De(js),mu=D({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=De(mu),Tc=D({},qt,{data:0}),Gs=De(Tc),Fr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pu[t])?!!n[t]:!1}function Yr(){return Qs}var yu=D({},jr,{key:function(t){if(t.key){var n=Fr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ua=De(yu),_u=D({},Gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=De(_u),gi=D({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),vu=De(gi),Eu=D({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=De(Eu),Au=D({},Gr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=De(Au),Xe=D({},qt,{newState:0,oldState:0}),Su=De(Xe),bu=[9,13,27,32],Fn=an&&"CompositionEvent"in window,o=null;an&&"documentMode"in document&&(o=document.documentMode);var m=an&&"TextEvent"in window&&!o,p=an&&(!Fn||o&&8<o&&11>=o),T=" ",x=!1;function k(t,n){switch(t){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Nt(t,n){if(Ot)return t==="compositionend"||!Fn&&k(t,n)?(t=qs(),mi=Wi=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=lo(n,"onChange"),0<n.length&&(r=new Ca("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Yn=null;function Ys(t){rp(t,0)}function Ru(t){var n=Yi(t);if(zs(n))return t}function Md(t,n){if(t==="change")return n}var Ud=!1;if(an){var Ac;if(an){var Sc="oninput"in document;if(!Sc){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),Sc=typeof xd.oninput=="function"}Ac=Sc}else Ac=!1;Ud=Ac&&(!document.documentMode||9<document.documentMode)}function Ld(){Me&&(Me.detachEvent("onpropertychange",zd),Yn=Me=null)}function zd(t){if(t.propertyName==="value"&&Ru(Yn)){var n=[];pi(n,Yn,t,Da(t)),hu(Ys,n)}}function zv(t,n,r){t==="focusin"?(Ld(),Me=n,Yn=r,Me.attachEvent("onpropertychange",zd)):t==="focusout"&&Ld()}function Bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Yn)}function Pv(t,n){if(t==="click")return Ru(n)}function kv(t,n){if(t==="input"||t==="change")return Ru(n)}function qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:qv;function Ks(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!va.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,n){var r=Bd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Bd(r)}}function kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ra(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Ra(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Hv(t,n){var r=qd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&kd(n.ownerDocument.documentElement,n)){if(l!==null&&bc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Pd(n,f);var y=Pd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var jv=an&&"documentMode"in document&&11>=document.documentMode,La=null,Rc=null,Xs=null,wc=!1;function Hd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wc||La==null||La!==Ra(l)||(l=La,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Ks(Xs,l)||(Xs=l,l=lo(Rc,"onSelect"),0<l.length&&(n=new Ca("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=La)))}function Kr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var za={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Dc={},jd={};an&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Xr(t){if(Dc[t])return Dc[t];if(!za[t])return t;var n=za[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in jd)return Dc[t]=n[r];return t}var Gd=Xr("animationend"),Qd=Xr("animationiteration"),Fd=Xr("animationstart"),Gv=Xr("transitionrun"),Qv=Xr("transitionstart"),Fv=Xr("transitioncancel"),Yd=Xr("transitionend"),Kd=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){Kd.set(t,n),rn(n,[t])}var En=[],Ba=0,Cc=0;function wu(){for(var t=Ba,n=Cc=Ba=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Zd(r,c,f)}}function Du(t,n,r,l){En[Ba++]=t,En[Ba++]=n,En[Ba++]=r,En[Ba++]=l,Cc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vc(t,n,r,l){return Du(t,n,r,l),Cu(t)}function tr(t,n){return Du(t,null,null,n),Cu(t)}function Zd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Cu(t){if(50<El)throw El=0,xh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={},$d=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=$d.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ft(n)},$d.set(t,n),n)}return{value:t,source:n,stack:ft(n)}}var ka=[],qa=0,Vu=null,Iu=0,An=[],Sn=0,Zr=null,yi=1,_i="";function $r(t,n){ka[qa++]=Iu,ka[qa++]=Vu,Vu=t,Iu=n}function Jd(t,n,r){An[Sn++]=yi,An[Sn++]=_i,An[Sn++]=Zr,Zr=t;var l=yi;t=_i;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ye(n)+c|r<<c|l,_i=f+t}else yi=1<<f|r<<c|l,_i=t}function Ic(t){t.return!==null&&($r(t,1),Jd(t,1,0))}function Oc(t){for(;t===Vu;)Vu=ka[--qa],ka[qa]=null,Iu=ka[--qa],ka[qa]=null;for(;t===Zr;)Zr=An[--Sn],An[Sn]=null,_i=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null}var Ze=null,Ue=null,Bt=!1,Mn=null,Kn=!1,Nc=Error(a(519));function Jr(t){var n=Error(a(418,""));throw Js(Tn(n,t)),Nc}function Wd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Al.length;r++)Vt(Al[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Pr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Br(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ji(n,l.value,l.defaultValue,l.children),Br(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||up(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=uo),n=!0):n=!1,n||Jr(t)}function tm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function Zs(t){if(t!==Ze)return!1;if(!Bt)return tm(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Jh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Jr(t),tm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?xn(t.stateNode.nextSibling):null;return!0}function $s(){Ue=Ze=null,Bt=!1}function Js(t){Mn===null?Mn=[t]:Mn.push(t)}var Ws=Error(a(460)),em=Error(a(474)),Mc={then:function(){}};function nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ou(){}function im(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Ou,Ou),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ws?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Ou,Ou);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ws?Error(a(483)):t}throw tl=n,Ws}}var tl=null;function rm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}var Ha=null,el=0;function Nu(t){var n=el;return el+=1,Ha===null&&(Ha=[]),im(Ha,t,n)}function nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function am(t){var n=t._init;return n(t._payload)}function sm(t){function n(U,V){if(t){var B=U.deletions;B===null?(U.deletions=[V],U.flags|=16):B.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=fr(U,V),U.index=0,U.sibling=null,U}function f(U,V,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<V?(U.flags|=33554434,V):B):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,B,G){return V===null||V.tag!==6?(V=Dh(B,U.mode,G),V.return=U,V):(V=c(V,B),V.return=U,V)}function b(U,V,B,G){var it=B.type;return it===_?H(U,V,B.props.children,G,B.key):V!==null&&(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ut&&am(it)===V.type)?(V=c(V,B.props),nl(V,B),V.return=U,V):(V=$u(B.type,B.key,B.props,null,U.mode,G),nl(V,B),V.return=U,V)}function O(U,V,B,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Ch(B,U.mode,G),V.return=U,V):(V=c(V,B.children||[]),V.return=U,V)}function H(U,V,B,G,it){return V===null||V.tag!==7?(V=ua(B,U.mode,G,it),V.return=U,V):(V=c(V,B),V.return=U,V)}function F(U,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Dh(""+V,U.mode,B),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return B=$u(V.type,V.key,V.props,null,U.mode,B),nl(B,V),B.return=U,B;case g:return V=Ch(V,U.mode,B),V.return=U,V;case ut:var G=V._init;return V=G(V._payload),F(U,V,B)}if(tt(V)||It(V))return V=ua(V,U.mode,B,null),V.return=U,V;if(typeof V.then=="function")return F(U,Nu(V),B);if(V.$$typeof===j)return F(U,Ku(U,V),B);Mu(U,V)}return null}function P(U,V,B,G){var it=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return it!==null?null:E(U,V,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===it?b(U,V,B,G):null;case g:return B.key===it?O(U,V,B,G):null;case ut:return it=B._init,B=it(B._payload),P(U,V,B,G)}if(tt(B)||It(B))return it!==null?null:H(U,V,B,G,null);if(typeof B.then=="function")return P(U,V,Nu(B),G);if(B.$$typeof===j)return P(U,V,Ku(U,B),G);Mu(U,B)}return null}function q(U,V,B,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(B)||null,E(V,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?B:G.key)||null,b(V,U,G,it);case g:return U=U.get(G.key===null?B:G.key)||null,O(V,U,G,it);case ut:var Rt=G._init;return G=Rt(G._payload),q(U,V,B,G,it)}if(tt(G)||It(G))return U=U.get(B)||null,H(V,U,G,it,null);if(typeof G.then=="function")return q(U,V,B,Nu(G),it);if(G.$$typeof===j)return q(U,V,B,Ku(V,G),it);Mu(V,G)}return null}function rt(U,V,B,G){for(var it=null,Rt=null,lt=V,ht=V=0,Oe=null;lt!==null&&ht<B.length;ht++){lt.index>ht?(Oe=lt,lt=null):Oe=lt.sibling;var Pt=P(U,lt,B[ht],G);if(Pt===null){lt===null&&(lt=Oe);break}t&&lt&&Pt.alternate===null&&n(U,lt),V=f(Pt,V,ht),Rt===null?it=Pt:Rt.sibling=Pt,Rt=Pt,lt=Oe}if(ht===B.length)return r(U,lt),Bt&&$r(U,ht),it;if(lt===null){for(;ht<B.length;ht++)lt=F(U,B[ht],G),lt!==null&&(V=f(lt,V,ht),Rt===null?it=lt:Rt.sibling=lt,Rt=lt);return Bt&&$r(U,ht),it}for(lt=l(lt);ht<B.length;ht++)Oe=q(lt,U,ht,B[ht],G),Oe!==null&&(t&&Oe.alternate!==null&&lt.delete(Oe.key===null?ht:Oe.key),V=f(Oe,V,ht),Rt===null?it=Oe:Rt.sibling=Oe,Rt=Oe);return t&&lt.forEach(function(vr){return n(U,vr)}),Bt&&$r(U,ht),it}function pt(U,V,B,G){if(B==null)throw Error(a(151));for(var it=null,Rt=null,lt=V,ht=V=0,Oe=null,Pt=B.next();lt!==null&&!Pt.done;ht++,Pt=B.next()){lt.index>ht?(Oe=lt,lt=null):Oe=lt.sibling;var vr=P(U,lt,Pt.value,G);if(vr===null){lt===null&&(lt=Oe);break}t&&lt&&vr.alternate===null&&n(U,lt),V=f(vr,V,ht),Rt===null?it=vr:Rt.sibling=vr,Rt=vr,lt=Oe}if(Pt.done)return r(U,lt),Bt&&$r(U,ht),it;if(lt===null){for(;!Pt.done;ht++,Pt=B.next())Pt=F(U,Pt.value,G),Pt!==null&&(V=f(Pt,V,ht),Rt===null?it=Pt:Rt.sibling=Pt,Rt=Pt);return Bt&&$r(U,ht),it}for(lt=l(lt);!Pt.done;ht++,Pt=B.next())Pt=q(lt,U,ht,Pt.value,G),Pt!==null&&(t&&Pt.alternate!==null&&lt.delete(Pt.key===null?ht:Pt.key),V=f(Pt,V,ht),Rt===null?it=Pt:Rt.sibling=Pt,Rt=Pt);return t&&lt.forEach(function(s0){return n(U,s0)}),Bt&&$r(U,ht),it}function ae(U,V,B,G){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var it=B.key;V!==null;){if(V.key===it){if(it=B.type,it===_){if(V.tag===7){r(U,V.sibling),G=c(V,B.props.children),G.return=U,U=G;break t}}else if(V.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===ut&&am(it)===V.type){r(U,V.sibling),G=c(V,B.props),nl(G,B),G.return=U,U=G;break t}r(U,V);break}else n(U,V);V=V.sibling}B.type===_?(G=ua(B.props.children,U.mode,G,B.key),G.return=U,U=G):(G=$u(B.type,B.key,B.props,null,U.mode,G),nl(G,B),G.return=U,U=G)}return y(U);case g:t:{for(it=B.key;V!==null;){if(V.key===it)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){r(U,V.sibling),G=c(V,B.children||[]),G.return=U,U=G;break t}else{r(U,V);break}else n(U,V);V=V.sibling}G=Ch(B,U.mode,G),G.return=U,U=G}return y(U);case ut:return it=B._init,B=it(B._payload),ae(U,V,B,G)}if(tt(B))return rt(U,V,B,G);if(It(B)){if(it=It(B),typeof it!="function")throw Error(a(150));return B=it.call(B),pt(U,V,B,G)}if(typeof B.then=="function")return ae(U,V,Nu(B),G);if(B.$$typeof===j)return ae(U,V,Ku(U,B),G);Mu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(r(U,V.sibling),G=c(V,B),G.return=U,U=G):(r(U,V),G=Dh(B,U.mode,G),G.return=U,U=G),y(U)):r(U,V)}return function(U,V,B,G){try{el=0;var it=ae(U,V,B,G);return Ha=null,it}catch(lt){if(lt===Ws)throw lt;var Rt=Dn(29,lt,null,U.mode);return Rt.lanes=G,Rt.return=U,Rt}finally{}}}var Wr=sm(!0),lm=sm(!1),ja=Lt(null),Uu=Lt(0);function um(t,n){t=Vi,Gt(Uu,t),Gt(ja,n),Vi=t|n.baseLanes}function Uc(){Gt(Uu,Vi),Gt(ja,ja.current)}function xc(){Vi=Uu.current,ee(ja),ee(Uu)}var bn=Lt(null),Xn=null;function er(t){var n=t.alternate;Gt(Ee,Ee.current&1),Gt(bn,t),Xn===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(Xn=t)}function om(t){if(t.tag===22){if(Gt(Ee,Ee.current),Gt(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else nr()}function nr(){Gt(Ee,Ee.current),Gt(bn,bn.current)}function vi(t){ee(bn),Xn===t&&(Xn=null),ee(Ee)}var Ee=Lt(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Kv=s.unstable_scheduleCallback,Xv=s.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Yv,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Kv(Xv,function(){t.controller.abort()})}var rl=null,zc=0,Ga=0,Qa=null;function Zv(t,n){if(rl===null){var r=rl=[];zc=0,Ga=jh(),Qa={status:"pending",value:void 0,then:function(l){r.push(l)}}}return zc++,n.then(cm,cm),n}function cm(){if(--zc===0&&rl!==null){Qa!==null&&(Qa.status="fulfilled");var t=rl;rl=null,Ga=0,Qa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $v(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var hm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zv(t,n),hm!==null&&hm(t,n)};var ta=Lt(null);function Bc(){var t=ta.current;return t!==null?t:Kt.pooledCache}function Lu(t,n){n===null?Gt(ta,ta.current):Gt(ta,n.pool)}function fm(){var t=Bc();return t===null?null:{parent:Te._currentValue,pool:t}}var ir=0,bt=null,Qt=null,he=null,zu=!1,Fa=!1,ea=!1,Bu=0,al=0,Ya=null,Jv=0;function le(){throw Error(a(321))}function Pc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function kc(t,n,r,l,c,f){return ir=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?na:rr,ea=!1,f=r(l,c),ea=!1,Fa&&(f=mm(n,r,l,c)),dm(t),f}function dm(t){S.H=Zn;var n=Qt!==null&&Qt.next!==null;if(ir=0,he=Qt=bt=null,zu=!1,al=0,Ya=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Yu(t)&&(Ve=!0))}function mm(t,n,r,l){bt=t;var c=0;do{if(Fa&&(Ya=null),al=0,Fa=!1,25<=c)throw Error(a(301));if(c+=1,he=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ia,f=n(r,l)}while(Fa);return f}function Wv(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function qc(){var t=Bu!==0;return Bu=0,t}function Hc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function jc(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}ir=0,he=Qt=bt=null,Fa=!1,al=Bu=0,Ya=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?bt.memoizedState=he=t:he=he.next=t,he}function fe(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=he===null?bt.memoizedState:he.next;if(n!==null)he=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},he===null?bt.memoizedState=he=t:he=he.next=t}return he}var Pu;Pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var n=al;return al+=1,Ya===null&&(Ya=[]),t=im(Ya,t,n),n=bt,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?na:rr),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===j)return qe(t)}throw Error(a(438,String(t)))}function Gc(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Pu(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=jt;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=fe();return Qc(n,Qt,t)}function Qc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,O=n,H=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Mt&F)===F:(ir&F)===F){var P=O.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===Ga&&(H=!0);else if((ir&P)===P){O=O.next,P===Ga&&(H=!0);continue}else F={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,bt.lanes|=P,dr|=P;F=O.action,ea&&r(f,F),f=O.hasEagerState?O.eagerState:r(f,F)}else P={lane:F,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,bt.lanes|=F,dr|=F;O=O.next}while(O!==null&&O!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(Ve=!0,H&&(r=Qa,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function gm(t,n,r){var l=bt,c=fe(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Qt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Xc(_m.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Ka(9,ym.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));f||ir&60||pm(l,n,r)}return r}function pm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=Pu(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function ym(t,n,r,l){n.value=r,n.getSnapshot=l,vm(n)&&Em(t)}function _m(t,n,r){return r(function(){vm(n)&&Em(t)})}function vm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function Em(t){var n=tr(t,2);n!==null&&$e(n,t,2)}function Yc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),ea){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Tm(t,n,r,l){return t.baseState=r,Qc(t,Qt,typeof l=="function"?l:Ei)}function tE(t,n,r,l,c){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Am(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Am(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=S.T,y={};S.T=y;try{var E=r(c,l),b=S.S;b!==null&&b(y,E),Sm(t,n,E)}catch(O){Kc(t,n,O)}finally{S.T=f}}else try{f=r(c,l),Sm(t,n,f)}catch(O){Kc(t,n,O)}}function Sm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){bm(t,n,l)},function(l){return Kc(t,n,l)}):bm(t,n,r)}function bm(t,n,r){n.status="fulfilled",n.value=r,Rm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Am(t,r)))}function Kc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Rm(n),n=n.next;while(n!==l)}t.action=null}function Rm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wm(t,n){return n}function Dm(t,n){if(Bt){var r=Kt.formState;if(r!==null){t:{var l=bt;if(Bt){if(Ue){e:{for(var c=Ue,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=xn(c.nextSibling),l=c.data==="F!";break t}}Jr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:n},r.queue=l,r=Qm.bind(null,bt,l),l.dispatch=r,l=Yc(!1),f=th.bind(null,bt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=tE.bind(null,bt,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Cm(t){var n=fe();return Vm(n,Qt,t)}function Vm(t,n,r){n=Qc(t,n,wm)[0],t=qu(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?sl(n):n;var l=fe(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(bt.flags|=2048,Ka(9,eE.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function eE(t,n){t.action=n}function Im(t){var n=fe(),r=Qt;if(r!==null)return Vm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=bt.updateQueue,n===null&&(n=Pu(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Om(){return fe().memoizedState}function Hu(t,n,r,l){var c=tn();bt.flags|=t,c.memoizedState=Ka(1|n,r,{destroy:void 0},l===void 0?null:l)}function ju(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Pc(l,Qt.memoizedState.deps)?c.memoizedState=Ka(n,r,f,l):(bt.flags|=t,c.memoizedState=Ka(1|n,r,f,l))}function Nm(t,n){Hu(8390656,8,t,n)}function Xc(t,n){ju(2048,8,t,n)}function Mm(t,n){return ju(4,2,t,n)}function Um(t,n){return ju(4,4,t,n)}function xm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Lm(t,n,r){r=r!=null?r.concat([t]):null,ju(4,4,xm.bind(null,n,t),r)}function Zc(){}function zm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Pc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Bm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Pc(n,l[1]))return l[0];if(l=t(),ea){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function $c(t,n,r){return r===void 0||ir&1073741824?t.memoizedState=n:(t.memoizedState=r,t=kg(),bt.lanes|=t,dr|=t,r)}function Pm(t,n,r,l){return sn(r,n)?r:ja.current!==null?(t=$c(t,r,l),sn(t,n)||(Ve=!0),t):ir&42?(t=kg(),bt.lanes|=t,dr|=t,n):(Ve=!0,t.memoizedState=r)}function km(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,th(t,!1,n,r);try{var b=c(),O=S.S;if(O!==null&&O(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=$v(b,l);ll(t,n,H,cn(t))}else ll(t,n,l,cn(t))}catch(F){ll(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{et.p=f,S.T=y}}function nE(){}function Jc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=qm(t).queue;km(t,c,n,St,r===null?nE:function(){return Hm(t),r(l)})}function qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:St},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Hm(t){var n=qm(t).next.queue;ll(t,n,{},cn())}function Wc(){return qe(Dl)}function jm(){return fe().memoizedState}function Gm(){return fe().memoizedState}function iE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=lr(r);var l=ur(n,t,r);l!==null&&($e(l,n,r),cl(l,n,r)),n={cache:Lc()},t.payload=n;return}n=n.return}}function rE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Fm(n,r):(r=Vc(t,n,r,l),r!==null&&($e(r,t,l),Ym(r,n,l)))}function Qm(t,n,r){var l=cn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Fm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Du(t,n,c,0),Kt===null&&wu(),!1}catch{}finally{}if(r=Vc(t,n,c,l),r!==null)return $e(r,t,l),Ym(r,n,l),!0}return!1}function th(t,n,r,l){if(l={lane:2,revertLane:jh(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=Vc(t,r,l,2),n!==null&&$e(n,t,2)}function Gu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Fm(t,n){Fa=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Ym(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gi(t,r)}}var Zn={readContext:qe,use:ku,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Zn.useCacheRefresh=le,Zn.useMemoCache=le,Zn.useHostTransitionStatus=le,Zn.useFormState=le,Zn.useActionState=le,Zn.useOptimistic=le;var na={readContext:qe,use:ku,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Nm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,xm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(ea){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(ea){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=rE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yc(t);var n=t.queue,r=Qm.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Zc,useDeferredValue:function(t,n){var r=tn();return $c(r,t,n)},useTransition:function(){var t=Yc(!1);return t=km.bind(null,bt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));Mt&60||pm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Nm(_m.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,ym.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Kt.identifierPrefix;if(Bt){var r=_i,l=yi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Bu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Jv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=iE.bind(null,bt)}};na.useMemoCache=Gc,na.useHostTransitionStatus=Wc,na.useFormState=Dm,na.useActionState=Dm,na.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=th.bind(null,bt,!0,r),r.dispatch=n,[t,n]};var rr={readContext:qe,use:ku,useCallback:zm,useContext:qe,useEffect:Xc,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:Um,useMemo:Bm,useReducer:qu,useRef:Om,useState:function(){return qu(Ei)},useDebugValue:Zc,useDeferredValue:function(t,n){var r=fe();return Pm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=qu(Ei)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:gm,useId:jm};rr.useCacheRefresh=Gm,rr.useMemoCache=Gc,rr.useHostTransitionStatus=Wc,rr.useFormState=Cm,rr.useActionState=Cm,rr.useOptimistic=function(t,n){var r=fe();return Tm(r,Qt,t,n)};var ia={readContext:qe,use:ku,useCallback:zm,useContext:qe,useEffect:Xc,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:Um,useMemo:Bm,useReducer:Fc,useRef:Om,useState:function(){return Fc(Ei)},useDebugValue:Zc,useDeferredValue:function(t,n){var r=fe();return Qt===null?$c(r,t,n):Pm(r,Qt.memoizedState,t,n)},useTransition:function(){var t=Fc(Ei)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:gm,useId:jm};ia.useCacheRefresh=Gm,ia.useMemoCache=Gc,ia.useHostTransitionStatus=Wc,ia.useFormState=Im,ia.useActionState=Im,ia.useOptimistic=function(t,n){var r=fe();return Qt!==null?Tm(r,Qt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function eh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var nh={isMounted:function(t){return(t=t._reactInternals)?ot(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=lr(l);c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&($e(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=lr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ur(t,c,l),n!==null&&($e(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=lr(r);l.tag=2,n!=null&&(l.callback=n),n=ur(t,l,r),n!==null&&($e(n,t,r),cl(n,t,r))}};function Km(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(r,l)||!Ks(c,f):!0}function Xm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&nh.enqueueReplaceState(n,n.state,null)}function ra(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zm(t){Qu(t)}function $m(t){console.error(t)}function Jm(t){Qu(t)}function Fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ih(t,n,r){return r=lr(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(t,n)},r}function tg(t){return t=lr(t),t.tag=3,t}function eg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Wm(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Wm(n,r,l),typeof c!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function aE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Xn===null?Bh():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Mc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return r.flags|=65536,l===Mc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),kh(t,l,c)),!1}throw Error(a(435,r.tag))}return kh(t,l,c),Bh(),!1}if(Bt)return n=bn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Nc&&(t=Error(a(422),{cause:l}),Js(Tn(t,r)))):(l!==Nc&&(n=Error(a(423),{cause:l}),Js(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=ih(t.stateNode,l,c),_h(t,c),re!==4&&(re=2)),!1;var f=Error(a(520),{cause:l});if(f=Tn(f,r),_l===null?_l=[f]:_l.push(f),re!==4&&(re=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=ih(r.stateNode,l,t),_h(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(mr===null||!mr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=tg(c),eg(c,t,r,l),_h(r,c),!1}r=r.return}while(r!==null);return!1}var ng=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?lm(n,null,r,l):Wr(n,t.child,r,l)}function ig(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return sa(n),l=kc(t,n,r,y,f,c),E=qc(),t!==null&&!Ve?(Hc(t,n,c),Ti(t,n,c)):(Bt&&E&&Ic(n),n.flags|=1,xe(t,n,l,c),n.child)}function rg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!wh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,ag(t,n,f,l,c)):(t=$u(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!fh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ks,r(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=fr(f,l),t.ref=n.ref,t.return=n,n.child=t}function ag(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,fh(t,c))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return rh(t,n,r,l,c)}function sg(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ul(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return lg(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,y!==null?y.cachePool:null),y!==null?um(n,y):Uc(),om(n);else return n.lanes=n.childLanes=536870912,lg(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Lu(n,y.cachePool),um(n,y),nr(),n.memoizedState=null):(t!==null&&Lu(n,null),Uc(),nr());return xe(t,n,c,r),n.child}function lg(t,n,r,l){var c=Bc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Lu(n,null),Uc(),om(n),t!==null&&ol(t,n,l,!0),null}function ul(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function rh(t,n,r,l,c){return sa(n),r=kc(t,n,r,l,void 0,c),l=qc(),t!==null&&!Ve?(Hc(t,n,c),Ti(t,n,c)):(Bt&&l&&Ic(n),n.flags|=1,xe(t,n,r,c),n.child)}function ug(t,n,r,l,c,f){return sa(n),n.updateQueue=null,r=mm(n,l,r,c),dm(t),l=qc(),t!==null&&!Ve?(Hc(t,n,f),Ti(t,n,f)):(Bt&&l&&Ic(n),n.flags|=1,xe(t,n,r,f),n.child)}function og(t,n,r,l,c){if(sa(n),n.stateNode===null){var f=Pa,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Pa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(eh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&nh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ra(r,E);f.props=b;var O=f.context,H=r.contextType;y=Pa,typeof H=="object"&&H!==null&&(y=qe(H));var F=r.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==y)&&Xm(n,f,l,y),sr=!1;var P=n.memoizedState;f.state=P,fl(n,l,f,c),hl(),O=n.memoizedState,E||P!==O||sr?(typeof F=="function"&&(eh(n,r,F,l),O=n.memoizedState),(b=sr||Km(n,r,b,l,P,O,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=O),f.props=l,f.state=O,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),y=n.memoizedProps,H=ra(r,y),f.props=H,F=n.pendingProps,P=f.context,O=r.contextType,b=Pa,typeof O=="object"&&O!==null&&(b=qe(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==b)&&Xm(n,f,l,b),sr=!1,P=n.memoizedState,f.state=P,fl(n,l,f,c),hl();var q=n.memoizedState;y!==F||P!==q||sr||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(eh(n,r,E,l),q=n.memoizedState),(H=sr||Km(n,r,H,l,P,q,b)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ul(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wr(n,t.child,null,c),n.child=Wr(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function cg(t,n,r,l){return $s(),n.flags|=256,xe(t,n,r,l),n.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function sh(t){return{baseLanes:t,cachePool:fm()}}function lh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function hg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?er(n):nr(),Bt){var E=Ue,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Zr!==null?{id:yi,overflow:_i}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,Ue=null,b=!0):b=!1}b||Jr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(nr(),c=n.mode,E=oh({mode:"hidden",children:E},c),l=ua(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=sh(r),c.childLanes=lh(t,y,r),n.memoizedState=ah,l):(er(n),uh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(er(n),n.flags&=-257,n=ch(t,n,r)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),c=l.fallback,E=n.mode,l=oh({mode:"visible",children:l.children},E),c=ua(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Wr(n,t.child,null,r),l=n.child,l.memoizedState=sh(r),l.childLanes=lh(t,y,r),n.memoizedState=ah,n=c);else if(er(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var O=y.dgst;y=O,l=Error(a(419)),l.stack="",l.digest=y,Js({value:l,source:null,stack:null}),n=ch(t,n,r)}else if(Ve||ol(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Kt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,tr(t,l),$e(y,t,l),ng}E.data==="$?"||Bh(),n=ch(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=EE.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Ue=xn(E.nextSibling),Ze=n,Bt=!0,Mn=null,Kn=!1,t!==null&&(An[Sn++]=yi,An[Sn++]=_i,An[Sn++]=Zr,yi=t.id,_i=t.overflow,Zr=n),n=uh(n,l.children),n.flags|=4096);return n}return c?(nr(),c=l.fallback,E=n.mode,b=t.child,O=b.sibling,l=fr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,O!==null?c=fr(O,c):(c=ua(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=sh(r):(b=E.cachePool,b!==null?(O=Te._currentValue,b=b.parent!==O?{parent:O,pool:O}:b):b=fm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=lh(t,y,r),n.memoizedState=ah,l):(er(n),r=t.child,t=r.sibling,r=fr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function uh(t,n){return n=oh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oh(t,n){return zg(t,n,0,null)}function ch(t,n,r){return Wr(n,t.child,null,r),t=uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,r)}function hh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function dg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ee.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,r,n);else if(t.tag===19)fg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&xu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),hh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&xu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}hh(n,!0,r,null,f);break;case"together":hh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),dr|=n.lanes,!(r&n.childLanes))if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=fr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function fh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function sE(t,n,r){switch(n.tag){case 3:Bi(n,n.stateNode.containerInfo),ar(n,Te,t.memoizedState.cache),$s();break;case 27:case 5:Ds(n);break;case 4:Bi(n,n.stateNode.containerInfo);break;case 10:ar(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):r&n.child.childLanes?hg(t,n,r):(er(n),t=Ti(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return dg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,sg(t,n,r);case 24:ar(n,Te,t.memoizedState.cache)}return Ti(t,n,r)}function mg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!fh(t,r)&&!(n.flags&128))return Ve=!1,sE(t,n,r);Ve=!!(t.flags&131072)}else Ve=!1,Bt&&n.flags&1048576&&Jd(n,Iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")wh(l)?(t=ra(l,t),n.tag=1,n=og(null,n,l,t,r)):(n.tag=0,n=rh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Z){n.tag=11,n=ig(null,n,l,t,r);break t}else if(c===_t){n.tag=14,n=rg(null,n,l,t,r);break t}}throw n=A(l)||l,Error(a(306,n,""))}}return n;case 0:return rh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ra(l,n.pendingProps),og(t,n,l,c,r);case 3:t:{if(Bi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,yh(t,n),fl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ar(n,Te,f),f!==c.cache&&gh(n,[Te],r,!0),hl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=cg(t,n,f,r);break t}else if(f!==l){l=Tn(Error(a(424)),n),Js(l),n=cg(t,n,f,r);break t}else for(Ue=xn(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,Mn=null,Kn=!0,r=lm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),f===l){n=Ti(t,n,r);break t}xe(t,n,f,r)}n=n.child}return n;case 26:return ul(t,n),t===null?(r=yp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=oo(dn.current).createElement(r),l[we]=n,l[ye]=t,Le(l,r,t),$t(l),n.stateNode=l):n.memoizedState=yp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ds(n),t===null&&Bt&&(l=n.stateNode=mp(n.type,n.pendingProps,dn.current),Ze=n,Kn=!0,Ue=xn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?xe(t,n,l,r):n.child=Wr(n,null,l,r),ul(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Ue)&&(l=LE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ue=xn(l.firstChild),Kn=!1,c=!0):c=!1),c||Jr(n)),Ds(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=kc(t,n,Wv,null,null,r),Dl._currentValue=c),ul(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=zE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Jr(n)),null;case 13:return hg(t,n,r);case 4:return Bi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return ig(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ar(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sa(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return rg(t,n,n.type,n.pendingProps,r);case 15:return ag(t,n,n.type,n.pendingProps,r);case 19:return dg(t,n,r);case 22:return sg(t,n,r);case 24:return sa(n),l=qe(Te),t===null?(c=Bc(),c===null&&(c=Kt,f=Lc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},ph(n),ar(n,Te,c)):(t.lanes&r&&(yh(t,n),fl(n,null,null,r),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ar(n,Te,l)):(l=f.cache,ar(n,Te,l),l!==c.cache&&gh(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var dh=Lt(null),aa=null,Ai=null;function ar(t,n,r){Gt(dh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=dh.current,ee(dh)}function mh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function gh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),mh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),mh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===zi.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}c=c.return}t!==null&&gh(n,t,r,l),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sa(t){aa=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return gg(aa,t)}function Ku(t,n){return aa===null&&sa(t),gg(t,n)}function gg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var sr=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Wt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Cu(t),Zd(t,null,r),n}return Du(t,l,n,r),Cu(t)}function cl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gi(t,r)}}function _h(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var vh=!1;function hl(){if(vh){var t=Qa;if(t!==null)throw t}}function fl(t,n,r,l){vh=!1;var c=t.updateQueue;sr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,O=b.next;b.next=null,y===null?f=O:y.next=O,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=O=b=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Mt&P)===P:(l&P)===P){P!==0&&P===Ga&&(vh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,pt=E;P=n;var ae=r;switch(pt.tag){case 1:if(rt=pt.payload,typeof rt=="function"){F=rt.call(ae,F,P);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=pt.payload,P=typeof rt=="function"?rt.call(ae,F,P):rt,P==null)break t;F=D({},F,P);break t;case 2:sr=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=q,b=F):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=O,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),dr|=y,t.lanes=y,t.memoizedState=F}}function pg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function yg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)pg(r[t],n)}function dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Yt(n,n.return,E)}}function or(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(O){Yt(c,b,O)}}}l=l.next}while(l!==f)}}catch(O){Yt(n,n.return,O)}}function _g(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{yg(n,r)}catch(l){Yt(t,t.return,l)}}}function vg(t,n,r){r.props=ra(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Yt(t,n,l)}}function la(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Yt(t,n,f)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Yt(t,n,c)}else r.current=null}function Eg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Yt(t,t.return,c)}}function Tg(t,n,r){try{var l=t.stateNode;OE(l,t.type,r,n),l[ye]=n}catch(c){Yt(t,t.return,c)}}function Ag(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Eh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ag(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Th(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=uo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Th(t,n,r),t=t.sibling;t!==null;)Th(t,n,r),t=t.sibling}function Xu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,n,r),t=t.sibling;t!==null;)Xu(t,n,r),t=t.sibling}var bi=!1,ie=!1,Ah=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,bg=!1;function lE(t,n){if(t=t.containerInfo,Zh=po,t=qd(t),bc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,O=0,H=0,F=t,P=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)P=F,F=q;for(;;){if(F===t)break e;if(P===r&&++O===c&&(E=y),P===f&&++H===l&&(b=y),(q=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for($h={focusedElem:t,selectionRange:r},po=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var rt=ra(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pt){Yt(r,r.return,pt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)ef(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return rt=bg,bg=!1,rt}function Rg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&dl(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(r,r.return,E)}else{var c=ra(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(r,r.return,E)}}l&64&&_g(r),l&512&&la(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{yg(l,t)}catch(E){Yt(r,r.return,E)}}break;case 26:wi(t,r),l&512&&la(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&Eg(r),l&512&&la(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&Cg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ie;var f=bi,y=ie;bi=c,(ie=n)&&!y?cr(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=f,ie=y}l&512&&(r.memoizedProps.mode==="manual"?la(r,r.return):ln(r,r.return));break;default:wi(t,r)}}function wg(t){var n=t.alternate;n!==null&&(t.alternate=null,wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,un=!1;function Ri(t,n,r){for(r=r.child;r!==null;)Dg(t,n,r),r=r.sibling}function Dg(t,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pi,r)}catch{}switch(r.tag){case 26:ie||ln(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ie||ln(r,n);var l=de,c=un;for(de=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);zr(r),de=l,un=c;break;case 5:ie||ln(r,n);case 6:c=de;var f=un;if(de=null,Ri(t,n,r),de=c,un=f,de!==null)if(un)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Yt(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Yt(r,n,y)}break;case 18:de!==null&&(un?(n=de,r=r.stateNode,n.nodeType===8?tf(n.parentNode,r):n.nodeType===1&&tf(n,r),Ol(n)):tf(de,r.stateNode));break;case 4:l=de,c=un,de=r.stateNode.containerInfo,un=!0,Ri(t,n,r),de=l,un=c;break;case 0:case 11:case 14:case 15:ie||or(2,r,n),ie||or(4,r,n),Ri(t,n,r);break;case 1:ie||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&vg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ie||ln(r,n),ie=(l=ie)||r.memoizedState!==null,Ri(t,n,r),ie=l;break;default:Ri(t,n,r)}}function Cg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ol(t)}catch(r){Yt(n,n.return,r)}}function uE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sg),n;default:throw Error(a(435,t.tag))}}function Sh(t,n){var r=uE(t);n.forEach(function(l){var c=TE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,un=!1;break t;case 3:de=E.stateNode.containerInfo,un=!0;break t;case 4:de=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(de===null)throw Error(a(160));Dg(f,y,c),de=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Vg(n,t),n=n.sibling}var Un=null;function Vg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),wn(t),l&4&&(or(3,t,t.return),dl(3,t),or(5,t,t.return));break;case 1:Rn(n,t),wn(t),l&512&&(ie||r===null||ln(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(Rn(n,t),wn(t),l&512&&(ie||r===null||ln(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,r),f[we]=t,$t(f),l=f;break t;case"link":var y=Ep("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Ep("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,$t(f),l=f}t.stateNode=l}else Tp(c,t.type,t.stateNode);else t.stateNode=vp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Tp(c,t.type,t.stateNode):vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Tg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var O=b.nextSibling,H=b.nodeName;b[Fi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=O}for(var F=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);Le(c,F,f),c[we]=t,c[ye]=f}catch(rt){Yt(t,t.return,rt)}}case 5:if(Rn(n,t),wn(t),l&512&&(ie||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Tg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Ah=!0);break;case 6:if(Rn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(fo=null,c=Un,Un=co(n.containerInfo),Rn(n,t),Un=c,wn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Ol(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}Ah&&(Ah=!1,Ig(t));break;case 4:l=Un,Un=co(t.stateNode.containerInfo),Rn(n,t),wn(t),Un=l;break;case 12:Rn(n,t),wn(t);break;case 13:Rn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Nh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 22:if(l&512&&(ie||r===null||ln(r,r.return)),b=t.memoizedState!==null,O=r!==null&&r.memoizedState!==null,H=bi,F=ie,bi=H||b,ie=F||O,Rn(n,t),ie=F,bi=H,wn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||ie,r===null||O||n||Xa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=O.stateNode,E=O.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Yt(O,O.return,rt)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=b?"":O.memoizedProps}catch(rt){Yt(O,O.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Sh(t,r))));break;case 19:Rn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 21:break;default:Rn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(Ag(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=Eh(t);Xu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(pn(y,""),l.flags&=-33);var E=Eh(t);Xu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,O=Eh(t);Th(t,O,b);break;default:throw Error(a(161))}}}catch(H){Yt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(t,n.alternate,n),n=n.sibling}function Xa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),Xa(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&vg(n,n.return,r),Xa(n);break;case 26:case 27:case 5:ln(n,n.return),Xa(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Xa(n);break;default:Xa(n)}t=t.sibling}}function cr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:cr(c,f,r),dl(4,f);break;case 1:if(cr(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Yt(l,l.return,O)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)pg(b[c],E)}catch(O){Yt(l,l.return,O)}}r&&y&64&&_g(f),la(f,f.return);break;case 26:case 27:case 5:cr(c,f,r),r&&l===null&&y&4&&Eg(f),la(f,f.return);break;case 12:cr(c,f,r);break;case 13:cr(c,f,r),r&&y&4&&Cg(c,f);break;case 22:f.memoizedState===null&&cr(c,f,r),la(f,f.return);break;default:cr(c,f,r)}n=n.sibling}}function bh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Rh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function hr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Og(t,n,r,l),n=n.sibling}function Og(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hr(t,n,r,l),c&2048&&dl(9,n);break;case 3:hr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){hr(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else hr(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?hr(t,n,r,l):ml(t,n):f._visibility&4?hr(t,n,r,l):(f._visibility|=4,Za(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&bh(n.alternate,n);break;case 24:hr(t,n,r,l),c&2048&&Rh(n.alternate,n);break;default:hr(t,n,r,l)}}function Za(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,O=y.flags;switch(y.tag){case 0:case 11:case 15:Za(f,y,E,b,c),dl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Za(f,y,E,b,c):ml(f,y):(H._visibility|=4,Za(f,y,E,b,c)),c&&O&2048&&bh(y.alternate,y);break;case 24:Za(f,y,E,b,c),c&&O&2048&&Rh(y.alternate,y);break;default:Za(f,y,E,b,c)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ml(r,l),c&2048&&bh(l.alternate,l);break;case 24:ml(r,l),c&2048&&Rh(l.alternate,l);break;default:ml(r,l)}n=n.sibling}}var gl=8192;function $a(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 26:$a(t),t.flags&gl&&t.memoizedState!==null&&ZE(Un,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var n=Un;Un=co(t.stateNode.containerInfo),$a(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=gl,gl=16777216,$a(t),gl=n):$a(t));break;default:$a(t)}}function Mg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,xg(l,t)}Mg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ug(t),t=t.sibling}function Ug(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&or(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Zu(t)):pl(t);break;default:pl(t)}}function Zu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,xg(l,t)}Mg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Zu(n));break;default:Zu(n)}t=t.sibling}}function xg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:or(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(wg(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function oE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new oE(t,n,r,l)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $u(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")wh(t)&&(y=1);else if(typeof t=="string")y=KE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return ua(r.children,c,f,n);case v:y=8,c|=24;break;case R:return t=Dn(12,r,n,c|2),t.elementType=R,t.lanes=f,t;case W:return t=Dn(13,r,n,c),t.elementType=W,t.lanes=f,t;case X:return t=Dn(19,r,n,c),t.elementType=X,t.lanes=f,t;case vt:return zg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case j:y=10;break t;case z:y=9;break t;case Z:y=11;break t;case _t:y=14;break t;case ut:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Dn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ua(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function zg(t,n,r,l){t=Dn(22,t,l,n),t.elementType=vt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var y=tr(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if(c._pendingVisibility&2){var y=tr(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Dh(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function Ch(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Bg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Ap(n)){if(n=bn.current,n!==null&&((Mt&4194176)===Mt?Xn!==null:(Mt&62914560)!==Mt&&!(Mt&536870912)||n!==Xn))throw tl=Mc,em;t.flags|=8192}}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hi():536870912,t.lanes|=n,Wa|=n)}function yl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function cE(t,n,r){var l=n.pendingProps;switch(Oc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?Di(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Lh(Mn),Mn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Di(n),r!==null?(Jt(n),Bg(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Di(n),Jt(n),Bg(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),Jt(n),n.flags&=-16777217),null;case 27:_a(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}t=Fe.current,Zs(n)?Wd(n):(t=mp(c,l,r),n.stateNode=t,Di(n))}return Jt(n),null;case 5:if(_a(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(t=Fe.current,Zs(n))Wd(n);else{switch(c=oo(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dn.current,Zs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||up(t.nodeValue,r)),t||Jr(n)}else t=oo(t).createTextNode(l),t[we]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else $s(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(Lh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),Jt(n),null;case 4:return si(),t===null&&Yh(n.stateNode.containerInfo),Jt(n),null;case 10:return Si(n.type),Jt(n),null;case 19:if(ee(Ee),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=xu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lg(r,t),r=r.sibling;return Gt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Wu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=xu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*Je()-c.renderingStartTime>Wu&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,Gt(Ee,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return vi(n),xc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(ta),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(Te),Jt(n),null;case 25:return null}throw Error(a(156,n.tag))}function hE(t,n){switch(Oc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),si(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _a(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Ee),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),xc(),t!==null&&ee(ta),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function Pg(t,n){switch(Oc(n),n.tag){case 3:Si(Te),si();break;case 26:case 27:case 5:_a(n);break;case 4:si();break;case 13:vi(n);break;case 19:ee(Ee);break;case 10:Si(n.type);break;case 22:case 23:vi(n),xc(),t!==null&&ee(ta);break;case 24:Si(Te)}}var fE={getCacheForType:function(t){var n=qe(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},dE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Kt=null,wt=null,Mt=0,Xt=0,on=null,Ci=!1,Ja=!1,Vh=!1,Vi=0,re=0,dr=0,oa=0,Ih=0,Cn=0,Wa=0,_l=null,$n=null,Oh=!1,Nh=0,Wu=1/0,to=null,mr=null,eo=!1,ca=null,vl=0,Mh=0,Uh=null,El=0,xh=null;function cn(){if(Wt&2&&Mt!==0)return Mt&-Mt;if(S.T!==null){var t=Ga;return t!==0?t:jh()}return lu()}function kg(){Cn===0&&(Cn=!(Mt&536870912)||Bt?Ns():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function $e(t,n,r){(t===Kt&&Xt===2||t.cancelPendingCommit!==null)&&(ts(t,0),Ii(t,Mt,Cn,!1)),se(t,r),(!(Wt&2)||t!==Kt)&&(t===Kt&&(!(Wt&2)&&(oa|=r),re===4&&Ii(t,Mt,Cn,!1)),Jn(t))}function qg(t,n,r){if(Wt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||qi(t,n),c=l?pE(t,n):Ph(t,n,!0),f=l;do{if(c===0){Ja&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Ci);else{if(r=t.current.alternate,f&&!mE(r)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&(ts(E,y).flags|=256),y=Ph(E,y,!1),y!==2){if(Vh&&!b){E.errorRecoveryDisabledLanes|=f,oa|=f,c=4;break t}f=$n,$n=c,f!==null&&Lh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ii(l,n,Cn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Nh+300-Je(),10<f)){if(Ii(l,n,Cn,!Ci),mn(l,0)!==0)break t;l.timeoutHandle=hp(Hg.bind(null,l,r,$n,to,Oh,n,Cn,oa,Wa,Ci,2,-0,0),f);break t}Hg(l,r,$n,to,Oh,n,Cn,oa,Wa,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Lh(t){$n===null?$n=t:$n.push.apply($n,t)}function Hg(t,n,r,l,c,f,y,E,b,O,H,F,P){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:XE},Ng(n),n=$E(),n!==null)){t.cancelPendingCommit=n(Xg.bind(null,t,r,l,c,y,E,b,1,F,P)),Ii(t,f,y,!O);return}Xg(t,r,l,c,y,E,b,H,F,P)}function mE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,r,l){n&=~Ih,n&=~oa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ji(t,r,n)}function no(){return Wt&6?!0:(Tl(0),!1)}function zh(){if(wt!==null){if(Xt===0)var t=wt.return;else t=wt,Ai=aa=null,jc(t),Ha=null,el=0,t=wt;for(;t!==null;)Pg(t.alternate,t),t=t.return;wt=null}}function ts(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,ME(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),zh(),Kt=t,wt=r=fr(t.current,null),Mt=n,Xt=0,on=null,Ci=!1,Ja=qi(t,n),Vh=!1,Wa=Cn=Ih=oa=dr=re=0,$n=_l=null,Oh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,wu(),r}function jg(t,n){bt=null,S.H=Zn,n===Ws?(n=rm(),Xt=3):n===em?(n=rm(),Xt=4):Xt=n===ng?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(re=1,Fu(t,Tn(n,t.current)))}function Gg(){var t=S.H;return S.H=Zn,t===null?Zn:t}function Qg(){var t=S.A;return S.A=fE,t}function Bh(){re=4,Ci||(Mt&4194176)!==Mt&&bn.current!==null||(Ja=!0),!(dr&134217727)&&!(oa&134217727)||Kt===null||Ii(Kt,Mt,Cn,!1)}function Ph(t,n,r){var l=Wt;Wt|=2;var c=Gg(),f=Qg();(Kt!==t||Mt!==n)&&(to=null,ts(t,n)),n=!1;var y=re;t:do try{if(Xt!==0&&wt!==null){var E=wt,b=on;switch(Xt){case 8:zh(),y=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var O=Xt;if(Xt=0,on=null,es(t,E,b,O),r&&Ja){y=0;break t}break;default:O=Xt,Xt=0,on=null,es(t,E,b,O)}}gE(),y=re;break}catch(H){jg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=aa=null,Wt=l,S.H=c,S.A=f,wt===null&&(Kt=null,Mt=0,wu()),y}function gE(){for(;wt!==null;)Fg(wt)}function pE(t,n){var r=Wt;Wt|=2;var l=Gg(),c=Qg();Kt!==t||Mt!==n?(to=null,Wu=Je()+500,ts(t,n)):Ja=qi(t,n);t:do try{if(Xt!==0&&wt!==null){n=wt;var f=on;e:switch(Xt){case 1:Xt=0,on=null,es(t,n,f,1);break;case 2:if(nm(f)){Xt=0,on=null,Yg(n);break}n=function(){Xt===2&&Kt===t&&(Xt=7),Jn(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:nm(f)?(Xt=0,on=null,Yg(n)):(Xt=0,on=null,es(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Ap(y)){Xt=0,on=null;var b=E.sibling;if(b!==null)wt=b;else{var O=E.return;O!==null?(wt=O,io(O)):wt=null}break e}}Xt=0,on=null,es(t,n,f,5);break;case 6:Xt=0,on=null,es(t,n,f,6);break;case 8:zh(),re=6;break t;default:throw Error(a(462))}}yE();break}catch(H){jg(t,H)}while(!0);return Ai=aa=null,S.H=l,S.A=c,Wt=r,wt!==null?0:(Kt=null,Mt=0,wu(),re)}function yE(){for(;wt!==null&&!dc();)Fg(wt)}function Fg(t){var n=mg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function Yg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ug(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ug(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:jc(n);default:Pg(r,n),n=wt=Lg(n,Vi),n=mg(r,n,Vi)}t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function es(t,n,r,l){Ai=aa=null,jc(n),Ha=null,el=0;var c=n.return;try{if(aE(t,c,n,r,Mt)){re=1,Fu(t,Tn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;re=1,Fu(t,Tn(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Ja||Mt&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kg(n,t)):io(n)}function io(t){var n=t;do{if(n.flags&32768){Kg(n,Ci);return}t=n.return;var r=cE(n.alternate,n,Vi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);re===0&&(re=5)}function Kg(t,n){do{var r=hE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);re=6,wt=null}function Xg(t,n,r,l,c,f,y,E,b,O){var H=S.T,F=et.p;try{et.p=2,S.T=null,_E(t,n,r,l,F,c,f,y,E,b,O)}finally{S.T=H,et.p=F}}function _E(t,n,r,l,c,f,y,E){do ns();while(ca!==null);if(Wt&6)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var O=b.lanes|b.childLanes;if(O|=Cc,au(t,l,O,f,y,E),t===Kt&&(wt=Kt=null,Mt=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||eo||(eo=!0,Mh=O,Uh=r,AE(li,function(){return ns(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=S.T,S.T=null,f=et.p,et.p=2,y=Wt,Wt|=4,lE(t,b),Vg(b,t),Hv($h,t.containerInfo),po=!!Zh,$h=Zh=null,t.current=b,Rg(t,b.alternate,b),Cs(),Wt=y,et.p=f,S.T=r):t.current=b,eo?(eo=!1,ca=t,vl=l):Zg(t,O),O=t.pendingLanes,O===0&&(mr=null),Is(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)O=n[b],c(O.value,{componentStack:O.stack});return vl&3&&ns(),O=t.pendingLanes,l&4194218&&O&42?t===xh?El++:(El=0,xh=t):El=0,Tl(0),null}function Zg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function ns(){if(ca!==null){var t=ca,n=Mh;Mh=0;var r=su(vl),l=S.T,c=et.p;try{if(et.p=32>r?32:r,S.T=null,ca===null)var f=!1;else{r=Uh,Uh=null;var y=ca,E=vl;if(ca=null,vl=0,Wt&6)throw Error(a(331));var b=Wt;if(Wt|=4,Ug(y.current),Og(y,y.current,E,r),Wt=b,Tl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pi,y)}catch{}f=!0}return f}finally{et.p=c,S.T=l,Zg(t,n)}}return!1}function $g(t,n,r){n=Tn(r,n),n=ih(t.stateNode,n,2),t=ur(t,n,2),t!==null&&(se(t,2),Jn(t))}function Yt(t,n,r){if(t.tag===3)$g(t,t,r);else for(;n!==null;){if(n.tag===3){$g(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){t=Tn(r,t),r=tg(2),l=ur(n,r,2),l!==null&&(eg(r,l,n,t),se(l,2),Jn(l));break}}n=n.return}}function kh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new dE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Vh=!0,c.add(r),t=vE.bind(null,t,n,r),n.then(t,t))}function vE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Mt&r)===r&&(re===4||re===3&&(Mt&62914560)===Mt&&300>Je()-Nh?!(Wt&2)&&ts(t,0):Ih|=r,Wa===Mt&&(Wa=0)),Jn(t)}function Jg(t,n){n===0&&(n=Hi()),t=tr(t,n),t!==null&&(se(t,n),Jn(t))}function EE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Jg(t,r)}function TE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Jg(t,r)}function AE(t,n){return Ur(t,n)}var ro=null,is=null,qh=!1,ao=!1,Hh=!1,ha=0;function Jn(t){t!==is&&t.next===null&&(is===null?ro=is=t:is=is.next=t),ao=!0,qh||(qh=!0,bE(SE))}function Tl(t,n){if(!Hh&&ao){Hh=!0;do for(var r=!1,l=ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,ep(l,f))}else f=Mt,f=mn(l,l===Kt?f:0),!(f&3)||qi(l,f)||(r=!0,ep(l,f));l=l.next}while(r);Hh=!1}}function SE(){ao=qh=!1;var t=0;ha!==0&&(NE()&&(t=ha),ha=0);for(var n=Je(),r=null,l=ro;l!==null;){var c=l.next,f=Wg(l,n);f===0?(l.next=null,r===null?ro=c:r.next=c,c===null&&(is=r)):(r=l,(t!==0||f&3)&&(ao=!0)),l=c}Tl(t)}function Wg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,b=c[y];b===-1?(!(E&r)||E&l)&&(c[y]=Ta(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,r=Mt,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||qi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Ea(l),su(r)){case 2:case 8:r=Re;break;case 32:r=li;break;case 268435456:r=Vs;break;default:r=li}return l=tp.bind(null,t),r=Ur(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function tp(t,n){var r=t.callbackNode;if(ns()&&t.callbackNode!==r)return null;var l=Mt;return l=mn(t,t===Kt?l:0),l===0?null:(qg(t,l,n),Wg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?tp.bind(null,t):null)}function ep(t,n){if(ns())return null;qg(t,n,!0)}function bE(t){UE(function(){Wt&6?Ur(pe,t):t()})}function jh(){return ha===0&&(ha=Ns()),ha}function np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function ip(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function RE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=np((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?np(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ca("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ha!==0){var b=y?ip(c,y):new FormData(c);Jc(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?ip(c,y):new FormData(c),Jc(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Xd.length;Gh++){var Qh=Xd[Gh],wE=Qh.toLowerCase(),DE=Qh[0].toUpperCase()+Qh.slice(1);Nn(wE,"on"+DE)}Nn(Gd,"onAnimationEnd"),Nn(Qd,"onAnimationIteration"),Nn(Fd,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Gv,"onTransitionRun"),Nn(Qv,"onTransitionStart"),Nn(Fv,"onTransitionCancel"),Nn(Yd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function rp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,O=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,O=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=b}}}}function Vt(t,n){var r=n[Lr];r===void 0&&(r=n[Lr]=new Set);var l=t+"__bubble";r.has(l)||(ap(n,t,2,!1),r.add(l))}function Fh(t,n,r){var l=0;n&&(l|=4),ap(r,t,l,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[so]){t[so]=!0,Us.forEach(function(r){r!=="selectionchange"&&(CE.has(r)||Fh(r,!1,t),Fh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[so]||(n[so]=!0,Fh("selectionchange",!1,n))}}function ap(t,n,r,l){switch(Cp(n)){case 2:var c=t0;break;case 8:c=e0;break;default:c=lf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Kh(t,n,r,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=On(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}hu(function(){var O=f,H=Da(r),F=[];t:{var P=Kd.get(t);if(P!==void 0){var q=Ca,rt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":q=Ua;break;case"focusin":rt="focus",q=Oa;break;case"focusout":rt="blur",q=Oa;break;case"beforeblur":case"afterblur":q=Oa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vu;break;case Gd:case Qd:case Fd:q=Na;break;case Yd:q=Tu;break;case"scroll":case"scrollend":q=fu;break;case"wheel":q=xa;break;case"copy":case"cut":case"paste":q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fs;break;case"toggle":case"beforetoggle":q=Su}var pt=(n&4)!==0,ae=!pt&&(t==="scroll"||t==="scrollend"),U=pt?P!==null?P+"Capture":null:P;pt=[];for(var V=O,B;V!==null;){var G=V;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||U===null||(G=qr(V,U),G!=null&&pt.push(Sl(V,G,B))),ae)break;V=V.return}0<pt.length&&(P=new q(P,rt,null,r,H),F.push({event:P,listeners:pt}))}}if(!(n&7)){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&r!==yn&&(rt=r.relatedTarget||r.fromElement)&&(On(rt)||rt[ui]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(rt=r.relatedTarget||r.toElement,q=O,rt=rt?On(rt):null,rt!==null&&(ae=ot(rt),pt=rt.tag,rt!==ae||pt!==5&&pt!==27&&pt!==6)&&(rt=null)):(q=null,rt=O),q!==rt)){if(pt=vn,G="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(pt=Fs,G="onPointerLeave",U="onPointerEnter",V="pointer"),ae=q==null?P:Yi(q),B=rt==null?P:Yi(rt),P=new pt(G,V+"leave",q,r,H),P.target=ae,P.relatedTarget=B,G=null,On(H)===O&&(pt=new pt(U,V+"enter",rt,r,H),pt.target=B,pt.relatedTarget=ae,G=pt),ae=G,q&&rt)e:{for(pt=q,U=rt,V=0,B=pt;B;B=rs(B))V++;for(B=0,G=U;G;G=rs(G))B++;for(;0<V-B;)pt=rs(pt),V--;for(;0<B-V;)U=rs(U),B--;for(;V--;){if(pt===U||U!==null&&pt===U.alternate)break e;pt=rs(pt),U=rs(U)}pt=null}else pt=null;q!==null&&sp(F,P,q,pt,!1),rt!==null&&ae!==null&&sp(F,ae,rt,pt,!0)}}t:{if(P=O?Yi(O):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var it=Md;else if(ve(P))if(Ud)it=kv;else{it=Bv;var Rt=zv}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?O&&Ps(O.elementType)&&(it=Md):it=Pv;if(it&&(it=it(t,O))){pi(F,it,r,H);break t}Rt&&Rt(t,P,O),t==="focusout"&&O&&P.type==="number"&&O.memoizedProps.value!=null&&wa(P,"number",P.value)}switch(Rt=O?Yi(O):window,t){case"focusin":(ve(Rt)||Rt.contentEditable==="true")&&(La=Rt,Rc=O,Xs=null);break;case"focusout":Xs=Rc=La=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,Hd(F,r,H);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":Hd(F,r,H)}var lt;if(Fn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else Ot?k(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(Ot||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&Ot&&(lt=qs()):(Hn=H,Wi="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),Rt=lo(O,ht),0<Rt.length&&(ht=new Gs(ht,t,null,r,H),F.push({event:ht,listeners:Rt}),lt?ht.data=lt:(lt=$(r),lt!==null&&(ht.data=lt)))),(lt=m?_e(t,r):Nt(t,r))&&(ht=lo(O,"onBeforeInput"),0<ht.length&&(Rt=new Gs("onBeforeInput","beforeinput",null,r,H),F.push({event:Rt,listeners:ht}),Rt.data=lt)),RE(F,t,O,r,H)}rp(F,n)})}function Sl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function lo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qr(t,r),c!=null&&l.unshift(Sl(t,c,f)),c=qr(t,n),c!=null&&l.push(Sl(t,c,f))),t=t.return}return l}function rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,O=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||O===null||(b=O,c?(O=qr(r,f),O!=null&&y.unshift(Sl(r,O,b))):c||(O=qr(r,f),O!=null&&y.push(Sl(r,O,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var VE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function lp(t){return(typeof t=="string"?t:""+t).replace(VE,`
`).replace(IE,"")}function up(t,n){return n=lp(n),lp(t)===n}function uo(){}function Ft(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,r,l);break;case"style":cu(t,l,f);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=uo);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_c.get(r)||r,Xi(t,r,l))}}function Xh(t,n,r,l,c,f){switch(r){case"style":cu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[ye]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Xi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,f,y,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,b=null,O=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":O=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ft(t,n,l,H,r,null)}}Pr(t,f,E,b,O,y,c,!1),Br(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,y,E,r,null)}Ji(t,l,c,f),Br(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Vt(Al[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(l=r[O],l!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,O,l,r,null)}return;default:if(Ps(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Xh(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function OE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,O=null,H=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,F)}}for(var P in l){var q=l[P];if(F=r[P],l.hasOwnProperty(P)&&(q!=null||F!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":O=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Ft(t,n,P,q,l,F)}}$i(t,y,E,b,O,H,f,c);return;case"select":q=y=E=P=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,r=y,l=q,P!=null?zt(t,!!r,P,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":q=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}kr(t,P,q);return;case"option":for(var rt in r)if(P=r[rt],r.hasOwnProperty(rt)&&P!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Ft(t,n,rt,null,l,P)}for(b in l)if(P=l[b],q=r[b],l.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in r)P=r[pt],r.hasOwnProperty(pt)&&P!=null&&!l.hasOwnProperty(pt)&&Ft(t,n,pt,null,l,P);for(O in l)if(P=l[O],q=r[O],l.hasOwnProperty(O)&&P!==q&&(P!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ft(t,n,O,P,l,q)}return;default:if(Ps(n)){for(var ae in r)P=r[ae],r.hasOwnProperty(ae)&&P!==void 0&&!l.hasOwnProperty(ae)&&Xh(t,n,ae,void 0,l,P);for(H in l)P=l[H],q=r[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||Xh(t,n,H,P,l,q);return}}for(var U in r)P=r[U],r.hasOwnProperty(U)&&P!=null&&!l.hasOwnProperty(U)&&Ft(t,n,U,null,l,P);for(F in l)P=l[F],q=r[F],!l.hasOwnProperty(F)||P===q||P==null&&q==null||Ft(t,n,F,P,l,q)}var Zh=null,$h=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function NE(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,fp=typeof Promise=="function"?Promise:void 0,UE=typeof queueMicrotask=="function"?queueMicrotask:typeof fp<"u"?function(t){return fp.resolve(null).then(t).catch(xE)}:hp;function xE(t){setTimeout(function(){throw t})}function tf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Ol(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Ol(n)}function ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ef(r),zr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function LE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function zE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function dp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function mp(t,n,r){switch(n=oo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Vn=new Map,gp=new Set;function co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Oi=et.d;et.d={f:BE,r:PE,D:kE,C:qE,L:HE,m:jE,X:QE,S:GE,M:FE};function BE(){var t=Oi.f(),n=no();return t||n}function PE(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?Hm(n):Oi.r(t)}var as=typeof document>"u"?null:document;function pp(t,n,r){var l=as;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),gp.has(c)||(gp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function kE(t){Oi.D(t),pp("dns-prefetch",t,null)}function qE(t,n){Oi.C(t,n),pp("preconnect",t,n)}function HE(t,n,r){Oi.L(t,n,r);var l=as;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ne(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ne(r.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Vn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function jE(t,n){Oi.m(t,n);var r=as;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Vn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Rl(f)))return}l=r.createElement("link"),Le(l,"link",t),$t(l),r.head.appendChild(l)}}}function GE(t,n,r){Oi.S(t,n,r);var l=as;if(l&&t){var c=Ki(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(bl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(f))&&nf(t,r);var b=y=l.createElement("link");$t(b),Le(b,"link",t),b._p=new Promise(function(O,H){b.onload=O,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ho(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function QE(t,n){Oi.X(t,n);var r=as;if(r&&t){var l=Ki(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=D({src:t,async:!0},n),(n=Vn.get(c))&&rf(t,n),f=r.createElement("script"),$t(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function FE(t,n){Oi.M(t,n);var r=as;if(r&&t){var l=Ki(r).hoistableScripts,c=ls(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&rf(t,n),f=r.createElement("script"),$t(f),Le(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yp(t,n,r,l){var c=(c=dn.current)?co(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ss(r.href),r=Ki(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ss(r.href);var f=Ki(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||YE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(r),r=Ki(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ss(t){return'href="'+ne(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function _p(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),$t(n),t.head.appendChild(n))}function ls(t){return'[src="'+ne(t)+'"]'}function Rl(t){return"script[async]"+t}function vp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(r.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),Le(l,"style",c),ho(l,r.precedence,t),n.instance=l;case"stylesheet":c=ss(r.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=_p(r),(c=Vn.get(c))&&nf(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,ho(f,r.precedence,t),n.instance=f;case"script":return f=ls(r.src),(c=t.querySelector(Rl(f)))?(n.instance=c,$t(c),c):(l=r,(c=Vn.get(f))&&(l=D({},r),rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,ho(l,r.precedence,t));return n.instance}function ho(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function Ep(t,n,r){if(fo===null){var l=new Map,c=fo=new Map;c.set(r,l)}else c=fo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Fi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Tp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ap(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wl=null;function XE(){}function ZE(t,n,r){if(wl===null)throw Error(a(475));var l=wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ss(r.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,r=_p(r),(c=Vn.get(c))&&nf(r,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=mo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $E(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&af(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&af(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function mo(){if(this.count--,this.count===0){if(this.stylesheets)af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function af(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,n.forEach(JE,t),go=null,mo.call(t))}function JE(t,n){if(!(n.state.loading&4)){var r=go.get(t);if(r)var l=r.get(null);else{r=new Map,go.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:j,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function WE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Aa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Aa(0),this.hiddenUpdates=Aa(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Sp(t,n,r,l,c,f,y,E,b,O,H,F){return t=new WE(t,n,r,y,E,b,O,F),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=Lc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},ph(f),t}function bp(t){return t?(t=Pa,t):Pa}function Rp(t,n,r,l,c,f){c=bp(c),l.context===null?l.context=c:l.pendingContext=c,l=lr(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ur(t,l,n),r!==null&&($e(r,t,n),cl(r,t,n))}function wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function sf(t,n){wp(t,n),(t=t.alternate)&&wp(t,n)}function Dp(t){if(t.tag===13){var n=tr(t,67108864);n!==null&&$e(n,t,67108864),sf(t,67108864)}}var po=!0;function t0(t,n,r,l){var c=S.T;S.T=null;var f=et.p;try{et.p=2,lf(t,n,r,l)}finally{et.p=f,S.T=c}}function e0(t,n,r,l){var c=S.T;S.T=null;var f=et.p;try{et.p=8,lf(t,n,r,l)}finally{et.p=f,S.T=c}}function lf(t,n,r,l){if(po){var c=uf(l);if(c===null)Kh(t,n,l,yo,r),Vp(t,l);else if(i0(c,t,n,r,l))l.stopPropagation();else if(Vp(t,l),n&4&&-1<n0.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ye(y);E.entanglements[1]|=b,y&=~b}Jn(f),!(Wt&6)&&(Wu=Je()+500,Tl(0))}}break;case 13:E=tr(f,2),E!==null&&$e(E,f,2),no(),sf(f,2)}if(f=uf(l),f===null&&Kh(t,n,l,yo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Kh(t,n,l,null,r)}}function uf(t){return t=Da(t),of(t)}var yo=null;function of(t){if(yo=null,t=On(t),t!==null){var n=ot(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=kt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case pe:return 2;case Re:return 8;case li:case nu:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var cf=!1,gr=null,pr=null,yr=null,Cl=new Map,Vl=new Map,_r=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,n){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Dp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function i0(t,n,r,l,c){switch(n){case"focusin":return gr=Il(gr,t,n,r,l,c),!0;case"dragenter":return pr=Il(pr,t,n,r,l,c),!0;case"mouseover":return yr=Il(yr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Cl.set(f,Il(Cl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function Ip(t){var n=On(t.target);if(n!==null){var r=ot(n);if(r!==null){if(n=r.tag,n===13){if(n=kt(r),n!==null){t.blockedOn=n,Qi(t.priority,function(){if(r.tag===13){var l=cn(),c=tr(r,l);c!==null&&$e(c,r,l),sf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=uf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=oi(r),n!==null&&Dp(n),t.blockedOn=r,!1;n.shift()}return!0}function Op(t,n,r){_o(t)&&r.delete(n)}function r0(){cf=!1,gr!==null&&_o(gr)&&(gr=null),pr!==null&&_o(pr)&&(pr=null),yr!==null&&_o(yr)&&(yr=null),Cl.forEach(Op),Vl.forEach(Op)}function vo(t,n){t.blockedOn===n&&(t.blockedOn=null,cf||(cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,r0)))}var Eo=null;function Np(t){Eo!==t&&(Eo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eo===t&&(Eo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(of(l||r)===null)continue;break}var f=oi(r);f!==null&&(t.splice(n,3),n-=3,Jc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Ol(t){function n(b){return vo(b,t)}gr!==null&&vo(gr,t),pr!==null&&vo(pr,t),yr!==null&&vo(yr,t),Cl.forEach(n),Vl.forEach(n);for(var r=0;r<_r.length;r++){var l=_r[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_r.length&&(r=_r[0],r.blockedOn===null);)Ip(r),r.blockedOn===null&&_r.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[ye]||null;if(typeof f=="function")y||Np(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(of(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Np(r)}}}function hf(t){this._internalRoot=t}To.prototype.render=hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Rp(r,l,t,n,null,null)},To.prototype.unmount=hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ns(),Rp(t.current,2,null,t,null,null),no(),n[ui]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<_r.length&&n!==0&&n<_r[r].priority;r++);_r.splice(r,0,t),r===0&&Ip(t)}};var Mp=e.version;if(Mp!=="19.0.0")throw Error(a(527,Mp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var a0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:On,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Pi=Ao.inject(a0),ke=Ao}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Zm,f=$m,y=Jm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Sp(t,1,!1,null,null,r,l,c,f,y,E,null),t[ui]=n.current,Yh(t.nodeType===8?t.parentNode:t),new hf(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Zm,y=$m,E=Jm,b=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=Sp(t,1,!0,n,r??null,l,c,f,y,E,b,O),n.context=bp(null),r=n.current,l=cn(),c=lr(l),c.callback=null,ur(r,c,l),n.current.lanes=l,se(n,l),Jn(n),t[ui]=n.current,Yh(t),new To(n)},Ml.version="19.0.0",Ml}var jp;function g0(){if(jp)return mf.exports;jp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mf.exports=m0(),mf.exports}var p0=g0(),Gp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},y0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,M=(h&3)<<4|g>>4;let z=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(z=64)),a.push(i[R],i[M],i[z],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Zy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):y0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const M=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||M==null)throw new _0;const z=h<<2|g>>4;if(a.push(z),v!==64){const j=g<<4&240|v>>2;if(a.push(j),M!==64){const Z=v<<6&192|M;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v0=function(s){const e=Zy(s);return $y.encodeByteArray(e,!0)},xo=function(s){return v0(s).replace(/\./g,"")},E0=function(s){try{return $y.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=()=>T0().__FIREBASE_DEFAULTS__,S0=()=>{if(typeof process>"u"||typeof Gp>"u")return;const s=Gp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},b0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&E0(s[1]);return e&&JSON.parse(e)},$f=()=>{try{return A0()||S0()||b0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},R0=s=>{var e,i;return(i=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},w0=s=>{const e=R0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Jy=()=>{var s;return(s=$f())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xo(JSON.stringify(i)),xo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I0(){var s;const e=(s=$f())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function O0(){return!I0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function M0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=U0,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wy.prototype.create)}}class Wy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?x0(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,g,a)}}function x0(s,e){return s.replace(L0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const L0=/\{\$([^}]+)}/g;function wf(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Qp(h)&&Qp(d)){if(!wf(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Qp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(s){return s&&s._delegate?s._delegate:s}class jl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new D0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P0(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:B0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B0(s){return s===fa?void 0:s}function P0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new z0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const q0={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},H0=xt.INFO,j0={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},G0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=j0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=H0,this._logHandler=G0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const Q0=(s,e)=>e.some(i=>s instanceof i);let Fp,Yp;function F0(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y0(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Df=new WeakMap,n_=new WeakMap,_f=new WeakMap,Jf=new WeakMap;function K0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Tr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&e_.set(i,s)}).catch(()=>{}),Jf.set(e,s),e}function X0(s){if(Df.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Df.set(s,e)}let Cf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Df.get(s);if(e==="objectStoreNames")return s.objectStoreNames||n_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Tr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Z0(s){Cf=s(Cf)}function $0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(vf(this),e,...i);return n_.set(a,e.sort?e.sort():[e]),Tr(a)}:Y0().includes(s)?function(...e){return s.apply(vf(this),e),Tr(e_.get(this))}:function(...e){return Tr(s.apply(vf(this),e))}}function J0(s){return typeof s=="function"?$0(s):(s instanceof IDBTransaction&&X0(s),Q0(s,F0())?new Proxy(s,Cf):s)}function Tr(s){if(s instanceof IDBRequest)return K0(s);if(_f.has(s))return _f.get(s);const e=J0(s);return e!==s&&(_f.set(s,e),Jf.set(e,s)),e}const vf=s=>Jf.get(s);function W0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=Tr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Tr(d.result),_.oldVersion,_.newVersion,Tr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const tT=["get","getKey","getAll","getAllKeys","count"],eT=["put","add","delete","clear"],Ef=new Map;function Kp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=eT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||tT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Ef.set(e,h),h}Z0(s=>({...s,get:(e,i,a)=>Kp(e,i)||s.get(e,i,a),has:(e,i)=>!!Kp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function iT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",Xp="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new t_("@firebase/app"),rT="@firebase/app-compat",aT="@firebase/analytics-compat",sT="@firebase/analytics",lT="@firebase/app-check-compat",uT="@firebase/app-check",oT="@firebase/auth",cT="@firebase/auth-compat",hT="@firebase/database",fT="@firebase/data-connect",dT="@firebase/database-compat",mT="@firebase/functions",gT="@firebase/functions-compat",pT="@firebase/installations",yT="@firebase/installations-compat",_T="@firebase/messaging",vT="@firebase/messaging-compat",ET="@firebase/performance",TT="@firebase/performance-compat",AT="@firebase/remote-config",ST="@firebase/remote-config-compat",bT="@firebase/storage",RT="@firebase/storage-compat",wT="@firebase/firestore",DT="@firebase/vertexai",CT="@firebase/firestore-compat",VT="firebase",IT="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",OT={[Vf]:"fire-core",[rT]:"fire-core-compat",[sT]:"fire-analytics",[aT]:"fire-analytics-compat",[uT]:"fire-app-check",[lT]:"fire-app-check-compat",[oT]:"fire-auth",[cT]:"fire-auth-compat",[hT]:"fire-rtdb",[fT]:"fire-data-connect",[dT]:"fire-rtdb-compat",[mT]:"fire-fn",[gT]:"fire-fn-compat",[pT]:"fire-iid",[yT]:"fire-iid-compat",[_T]:"fire-fcm",[vT]:"fire-fcm-compat",[ET]:"fire-perf",[TT]:"fire-perf-compat",[AT]:"fire-rc",[ST]:"fire-rc-compat",[bT]:"fire-gcs",[RT]:"fire-gcs-compat",[wT]:"fire-fst",[CT]:"fire-fst-compat",[DT]:"fire-vertex","fire-js":"fire-js",[VT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,NT=new Map,Of=new Map;function Zp(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function zo(s){const e=s.name;if(Of.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Of.set(e,s);for(const i of Lo.values())Zp(i,s);for(const i of NT.values())Zp(i,s);return!0}function MT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function UT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ar=new Wy("app","Firebase",xT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=IT;function i_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Ar.create("bad-app-name",{appName:String(u)});if(i||(i=Jy()),!i)throw Ar.create("no-options");const h=Lo.get(u);if(h){if(wf(i,h.options)&&wf(a,h.config))return h;throw Ar.create("duplicate-app",{appName:u})}const d=new k0(u);for(const _ of Of.values())d.addComponent(_);const g=new LT(i,a,d);return Lo.set(u,g),g}function BT(s=If){const e=Lo.get(s);if(!e&&s===If&&Jy())return i_();if(!e)throw Ar.create("no-app",{appName:s});return e}function fs(s,e,i){var a;let u=(a=OT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}zo(new jl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",kT=1,Gl="firebase-heartbeat-store";let Tf=null;function r_(){return Tf||(Tf=W0(PT,kT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ar.create("idb-open",{originalErrorMessage:s.message})})),Tf}async function qT(s){try{const i=(await r_()).transaction(Gl),a=await i.objectStore(Gl).get(a_(s));return await i.done,a}catch(e){if(e instanceof Ts)Mi.warn(e.message);else{const i=Ar.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function $p(s,e){try{const a=(await r_()).transaction(Gl,"readwrite");await a.objectStore(Gl).put(e,a_(s)),await a.done}catch(i){if(i instanceof Ts)Mi.warn(i.message);else{const a=Ar.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(a.message)}}}function a_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1024,jT=30;class GT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Jp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>jT){const d=YT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Mi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Jp(),{heartbeatsToSend:a,unsentEntries:u}=QT(this._heartbeatsCache.heartbeats),h=xo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Jp(){return new Date().toISOString().substring(0,10)}function QT(s,e=HT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Wp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Wp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class FT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?M0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return $p(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return $p(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Wp(s){return xo(JSON.stringify({version:2,heartbeats:s})).length}function YT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){zo(new jl("platform-logger",e=>new nT(e),"PRIVATE")),zo(new jl("heartbeat",e=>new GT(e),"PRIVATE")),fs(Vf,Xp,s),fs(Vf,Xp,"esm2017"),fs("fire-js","")}KT("");var XT="firebase",ZT="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(XT,ZT,"app");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,s_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function S(){}S.prototype=A.prototype,N.D=A.prototype,N.prototype=new S,N.prototype.constructor=N,N.C=function(D,I,L){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return A.prototype[I].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,A,S){S||(S=0);var D=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)D[I]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(I=0;16>I;++I)D[I]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=N.g[0],S=N.g[1],I=N.g[2];var L=N.g[3],w=A+(L^S&(I^L))+D[0]+3614090360&4294967295;A=S+(w<<7&4294967295|w>>>25),w=L+(I^A&(S^I))+D[1]+3905402710&4294967295,L=A+(w<<12&4294967295|w>>>20),w=I+(S^L&(A^S))+D[2]+606105819&4294967295,I=L+(w<<17&4294967295|w>>>15),w=S+(A^I&(L^A))+D[3]+3250441966&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(L^S&(I^L))+D[4]+4118548399&4294967295,A=S+(w<<7&4294967295|w>>>25),w=L+(I^A&(S^I))+D[5]+1200080426&4294967295,L=A+(w<<12&4294967295|w>>>20),w=I+(S^L&(A^S))+D[6]+2821735955&4294967295,I=L+(w<<17&4294967295|w>>>15),w=S+(A^I&(L^A))+D[7]+4249261313&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(L^S&(I^L))+D[8]+1770035416&4294967295,A=S+(w<<7&4294967295|w>>>25),w=L+(I^A&(S^I))+D[9]+2336552879&4294967295,L=A+(w<<12&4294967295|w>>>20),w=I+(S^L&(A^S))+D[10]+4294925233&4294967295,I=L+(w<<17&4294967295|w>>>15),w=S+(A^I&(L^A))+D[11]+2304563134&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(L^S&(I^L))+D[12]+1804603682&4294967295,A=S+(w<<7&4294967295|w>>>25),w=L+(I^A&(S^I))+D[13]+4254626195&4294967295,L=A+(w<<12&4294967295|w>>>20),w=I+(S^L&(A^S))+D[14]+2792965006&4294967295,I=L+(w<<17&4294967295|w>>>15),w=S+(A^I&(L^A))+D[15]+1236535329&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(I^L&(S^I))+D[1]+4129170786&4294967295,A=S+(w<<5&4294967295|w>>>27),w=L+(S^I&(A^S))+D[6]+3225465664&4294967295,L=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(L^A))+D[11]+643717713&4294967295,I=L+(w<<14&4294967295|w>>>18),w=S+(L^A&(I^L))+D[0]+3921069994&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(I^L&(S^I))+D[5]+3593408605&4294967295,A=S+(w<<5&4294967295|w>>>27),w=L+(S^I&(A^S))+D[10]+38016083&4294967295,L=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(L^A))+D[15]+3634488961&4294967295,I=L+(w<<14&4294967295|w>>>18),w=S+(L^A&(I^L))+D[4]+3889429448&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(I^L&(S^I))+D[9]+568446438&4294967295,A=S+(w<<5&4294967295|w>>>27),w=L+(S^I&(A^S))+D[14]+3275163606&4294967295,L=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(L^A))+D[3]+4107603335&4294967295,I=L+(w<<14&4294967295|w>>>18),w=S+(L^A&(I^L))+D[8]+1163531501&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(I^L&(S^I))+D[13]+2850285829&4294967295,A=S+(w<<5&4294967295|w>>>27),w=L+(S^I&(A^S))+D[2]+4243563512&4294967295,L=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(L^A))+D[7]+1735328473&4294967295,I=L+(w<<14&4294967295|w>>>18),w=S+(L^A&(I^L))+D[12]+2368359562&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(S^I^L)+D[5]+4294588738&4294967295,A=S+(w<<4&4294967295|w>>>28),w=L+(A^S^I)+D[8]+2272392833&4294967295,L=A+(w<<11&4294967295|w>>>21),w=I+(L^A^S)+D[11]+1839030562&4294967295,I=L+(w<<16&4294967295|w>>>16),w=S+(I^L^A)+D[14]+4259657740&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(S^I^L)+D[1]+2763975236&4294967295,A=S+(w<<4&4294967295|w>>>28),w=L+(A^S^I)+D[4]+1272893353&4294967295,L=A+(w<<11&4294967295|w>>>21),w=I+(L^A^S)+D[7]+4139469664&4294967295,I=L+(w<<16&4294967295|w>>>16),w=S+(I^L^A)+D[10]+3200236656&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(S^I^L)+D[13]+681279174&4294967295,A=S+(w<<4&4294967295|w>>>28),w=L+(A^S^I)+D[0]+3936430074&4294967295,L=A+(w<<11&4294967295|w>>>21),w=I+(L^A^S)+D[3]+3572445317&4294967295,I=L+(w<<16&4294967295|w>>>16),w=S+(I^L^A)+D[6]+76029189&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(S^I^L)+D[9]+3654602809&4294967295,A=S+(w<<4&4294967295|w>>>28),w=L+(A^S^I)+D[12]+3873151461&4294967295,L=A+(w<<11&4294967295|w>>>21),w=I+(L^A^S)+D[15]+530742520&4294967295,I=L+(w<<16&4294967295|w>>>16),w=S+(I^L^A)+D[2]+3299628645&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(I^(S|~L))+D[0]+4096336452&4294967295,A=S+(w<<6&4294967295|w>>>26),w=L+(S^(A|~I))+D[7]+1126891415&4294967295,L=A+(w<<10&4294967295|w>>>22),w=I+(A^(L|~S))+D[14]+2878612391&4294967295,I=L+(w<<15&4294967295|w>>>17),w=S+(L^(I|~A))+D[5]+4237533241&4294967295,S=I+(w<<21&4294967295|w>>>11),w=A+(I^(S|~L))+D[12]+1700485571&4294967295,A=S+(w<<6&4294967295|w>>>26),w=L+(S^(A|~I))+D[3]+2399980690&4294967295,L=A+(w<<10&4294967295|w>>>22),w=I+(A^(L|~S))+D[10]+4293915773&4294967295,I=L+(w<<15&4294967295|w>>>17),w=S+(L^(I|~A))+D[1]+2240044497&4294967295,S=I+(w<<21&4294967295|w>>>11),w=A+(I^(S|~L))+D[8]+1873313359&4294967295,A=S+(w<<6&4294967295|w>>>26),w=L+(S^(A|~I))+D[15]+4264355552&4294967295,L=A+(w<<10&4294967295|w>>>22),w=I+(A^(L|~S))+D[6]+2734768916&4294967295,I=L+(w<<15&4294967295|w>>>17),w=S+(L^(I|~A))+D[13]+1309151649&4294967295,S=I+(w<<21&4294967295|w>>>11),w=A+(I^(S|~L))+D[4]+4149444226&4294967295,A=S+(w<<6&4294967295|w>>>26),w=L+(S^(A|~I))+D[11]+3174756917&4294967295,L=A+(w<<10&4294967295|w>>>22),w=I+(A^(L|~S))+D[2]+718787259&4294967295,I=L+(w<<15&4294967295|w>>>17),w=S+(L^(I|~A))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var S=A-this.blockSize,D=this.B,I=this.h,L=0;L<A;){if(I==0)for(;L<=S;)u(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(D[I++]=N.charCodeAt(L++),I==this.blockSize){u(this,D),I=0;break}}else for(;L<A;)if(D[I++]=N[L++],I==this.blockSize){u(this,D),I=0;break}}this.h=I,this.o+=A},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var S=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=S&255,S/=256;for(this.u(N),N=Array(16),A=S=0;4>A;++A)for(var D=0;32>D;D+=8)N[S++]=this.g[A]>>>D&255;return N};function h(N,A){var S=g;return Object.prototype.hasOwnProperty.call(S,N)?S[N]:S[N]=A(N)}function d(N,A){this.h=A;for(var S=[],D=!0,I=N.length-1;0<=I;I--){var L=N[I]|0;D&&L==A||(S[I]=L,D=!1)}this.g=S}var g={};function _(N){return-128<=N&&128>N?h(N,function(A){return new d([A|0],0>A?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return M;if(0>N)return X(v(-N));for(var A=[],S=1,D=0;N>=S;D++)A[D]=N/S|0,S*=4294967296;return new d(A,0)}function R(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return X(R(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(A,8)),D=M,I=0;I<N.length;I+=8){var L=Math.min(8,N.length-I),w=parseInt(N.substring(I,I+L),A);8>L?(L=v(Math.pow(A,L)),D=D.j(L).add(v(w))):(D=D.j(S),D=D.add(v(w)))}return D}var M=_(0),z=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-X(this).m();for(var N=0,A=1,S=0;S<this.g.length;S++){var D=this.i(S);N+=(0<=D?D:4294967296+D)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(W(this))return"-"+X(this).toString(N);for(var A=v(Math.pow(N,6)),S=this,D="";;){var I=jt(S,A).g;S=_t(S,I.j(A));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(N);if(S=I,Z(S))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function W(N){return N.h==-1}s.l=function(N){return N=_t(this,N),W(N)?-1:Z(N)?0:1};function X(N){for(var A=N.g.length,S=[],D=0;D<A;D++)S[D]=~N.g[D];return new d(S,~N.h).add(z)}s.abs=function(){return W(this)?X(this):this},s.add=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],D=0,I=0;I<=A;I++){var L=D+(this.i(I)&65535)+(N.i(I)&65535),w=(L>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);D=w>>>16,L&=65535,w&=65535,S[I]=w<<16|L}return new d(S,S[S.length-1]&-2147483648?-1:0)};function _t(N,A){return N.add(X(A))}s.j=function(N){if(Z(this)||Z(N))return M;if(W(this))return W(N)?X(this).j(X(N)):X(X(this).j(N));if(W(N))return X(this.j(X(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var A=this.g.length+N.g.length,S=[],D=0;D<2*A;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<N.g.length;I++){var L=this.i(D)>>>16,w=this.i(D)&65535,ge=N.i(I)>>>16,oe=N.i(I)&65535;S[2*D+2*I]+=w*oe,ut(S,2*D+2*I),S[2*D+2*I+1]+=L*oe,ut(S,2*D+2*I+1),S[2*D+2*I+1]+=w*ge,ut(S,2*D+2*I+1),S[2*D+2*I+2]+=L*ge,ut(S,2*D+2*I+2)}for(D=0;D<A;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=A;D<2*A;D++)S[D]=0;return new d(S,0)};function ut(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function vt(N,A){this.g=N,this.h=A}function jt(N,A){if(Z(A))throw Error("division by zero");if(Z(N))return new vt(M,M);if(W(N))return A=jt(X(N),A),new vt(X(A.g),X(A.h));if(W(A))return A=jt(N,X(A)),new vt(X(A.g),A.h);if(30<N.g.length){if(W(N)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var S=z,D=A;0>=D.l(N);)S=mt(S),D=mt(D);var I=It(S,1),L=It(D,1);for(D=It(D,2),S=It(S,2);!Z(D);){var w=L.add(D);0>=w.l(N)&&(I=I.add(S),L=w),D=It(D,1),S=It(S,1)}return A=_t(N,I.j(A)),new vt(I,A)}for(I=M;0<=N.l(A);){for(S=Math.max(1,Math.floor(N.m()/A.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(S),w=L.j(A);W(w)||0<w.l(N);)S-=D,L=v(S),w=L.j(A);Z(L)&&(L=z),I=I.add(L),N=_t(N,w)}return new vt(I,N)}s.A=function(N){return jt(this,N).h},s.and=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],D=0;D<A;D++)S[D]=this.i(D)&N.i(D);return new d(S,this.h&N.h)},s.or=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],D=0;D<A;D++)S[D]=this.i(D)|N.i(D);return new d(S,this.h|N.h)},s.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),S=[],D=0;D<A;D++)S[D]=this.i(D)^N.i(D);return new d(S,this.h^N.h)};function mt(N){for(var A=N.g.length+1,S=[],D=0;D<A;D++)S[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(S,N.h)}function It(N,A){var S=A>>5;A%=32;for(var D=N.g.length-S,I=[],L=0;L<D;L++)I[L]=0<A?N.i(L+S)>>>A|N.i(L+S+1)<<32-A:N.i(L+S);return new d(I,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,s_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Sr=d}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,xl,u_,Co,Nf,o_,c_,h_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof So=="object"&&So];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in p))break t;p=p[x]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,x={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function M(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function z(o,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:M,z.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,x,k){for(var $=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)$[Ot-2]=arguments[Ot];return m.prototype[x].apply(T,$)}}function W(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function X(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=o.length||0,k=T.length||0;o.length=x+k;for(let $=0;$<k;$++)o[x+$]=T[$]}else o.push(T)}}class _t{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ut(o){return/^[\s\xa0]*$/.test(o)}function vt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function jt(o){return jt[" "](o),o}jt[" "]=function(){};var mt=vt().indexOf("Gecko")!=-1&&!(vt().toLowerCase().indexOf("webkit")!=-1&&vt().indexOf("Edge")==-1)&&!(vt().indexOf("Trident")!=-1||vt().indexOf("MSIE")!=-1)&&vt().indexOf("Edge")==-1;function It(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function A(o){const m={};for(const p in o)m[p]=o[p];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)o[p]=T[p];for(let k=0;k<S.length;k++)p=S[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function I(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function w(){var o=kt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new _t(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ft,ot=!1,kt=new ge,C=()=>{const o=g.Promise.resolve(void 0);ft=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){L(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ot=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function St(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(mt){t:{try{jt(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Et[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}Z(St,tt);var Et={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ee(o,m,p,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++Lt,this.da=this.fa=!1}function Gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,x){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var $=dn(o,m,T,x);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new ee(m,this.src,k,!!T,x),m.fa=p,o.push(m)),m};function ai(o,m){var p=m.type;if(p in o.g){var T=o.g[p],x=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=x)&&Array.prototype.splice.call(T,x,1),k&&(Gt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function dn(o,m,p,T){for(var x=0;x<o.length;++x){var k=o[x];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return x}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),Bi={};function si(o,m,p,T,x){if(Array.isArray(m)){for(var k=0;k<m.length;k++)si(o,m[k],p,T,x);return null}return p=eu(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,x):Ds(o,m,p,!1,T,x)}function Ds(o,m,p,T,x,k){if(!m)throw Error("Invalid event type");var $=v(x)?!!x.capture:!!x,Ot=Cs(o);if(Ot||(o[zi]=Ot=new Fe(o)),p=Ot.add(m,p,T,$,k),p.proxy)return p;if(T=_a(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(x=$),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(Ea(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _a(){function o(p){return m.call(o.src,o.listener,p)}const m=dc;return o}function va(o,m,p,T,x){if(Array.isArray(m))for(var k=0;k<m.length;k++)va(o,m[k],p,T,x);else T=v(T)?!!T.capture:!!T,p=eu(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=dn(k,p,T,x),-1<p&&(Gt(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=Cs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dn(m,p,T,x)),(p=-1<o?m[o]:null)&&Ur(p))}function Ur(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ai(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ea(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Cs(m))?(ai(p,o),p.h==0&&(p.src=null,m[zi]=null)):Gt(o)}}}function Ea(o){return o in Bi?Bi[o]:Bi[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new St(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Ur(o),o=p.call(T,m)}return o}function Cs(o){return o=o[zi],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){at.call(this),this.i=new Fe(this),this.M=this,this.F=null}Z(pe,at),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){va(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,p)for(var k=p.length-1;0<=k;k--){var $=m.g=p[k];x=li($,T,!0,m)&&x}if($=m.g=o,x=li($,T,!0,m)&&x,x=li($,T,!1,m)&&x,p)for(k=0;k<p.length;k++)$=m.g=p[k],x=li($,T,!1,m)&&x}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Gt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function li(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,k=0;k<m.length;++k){var $=m[k];if($&&!$.da&&$.capture==p){var Ot=$.listener,_e=$.ha||$.src;$.fa&&ai(o.i,$),x=Ot.call(_e,T)!==!1&&x}}return x&&!T.defaultPrevented}function nu(o,m,p){if(typeof o=="function")p&&(o=z(o,p));else if(o&&typeof o.handleEvent=="function")o=z(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Vs(o){o.g=nu(()=>{o.g=null,o.i&&(o.i=!1,Vs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends at{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(o){at.call(this),this.h=o,this.g={}}Z(xr,at);var Pi=[];function ke(o){It(o.g,function(m,p){this.g.hasOwnProperty(p)&&Ur(m)},o),o.g={}}xr.prototype.N=function(){xr.aa.N.call(this),ke(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=g.JSON.stringify,zn=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Os(){}Os.prototype.h=null;function iu(o){return o.h||(o.h=o.i())}function ru(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){tt.call(this,"d")}Z(ki,tt);function In(){tt.call(this,"c")}Z(In,tt);var mn={},qi=null;function Ta(){return qi=qi||new pe}mn.La="serverreachability";function Ns(o){tt.call(this,mn.La,o)}Z(Ns,tt);function Hi(o){const m=Ta();Re(m,new Ns(m))}mn.STAT_EVENT="statevent";function Aa(o,m){tt.call(this,mn.STAT_EVENT,o),this.stat=m}Z(Aa,tt);function se(o){const m=Ta();Re(m,new Aa(m,o))}mn.Ma="timingevent";function au(o,m){tt.call(this,mn.Ma,o),this.size=m}Z(au,tt);function ji(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function su(o,m,p,T,x,k){o.info(function(){if(o.g)if(k)for(var $="",Ot=k.split("&"),_e=0;_e<Ot.length;_e++){var Nt=Ot[_e].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var ve=Ce.split("_");$=2<=ve.length&&ve[1]=="type"?$+(Ce+"="+Nt+"&"):$+(Ce+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+$})}function lu(o,m,p,T,x,k,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+k+" "+$})}function Qi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}Gi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Is(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lr;function Sa(){}Z(Sa,Os),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},Lr=new Sa;function kn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var Fi={},zr={};function On(o,m,p){o.L=1,o.v=kr(ne(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),$t(o),o.A=ne(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ms,o.g=Tu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new mc(z(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Pi[0]=x.toString()),x=Pi);for(var k=0;k<x.length;k++){var $=si(p,x[k],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Hi(),su(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=vn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?Hi(3):Hi(2)),ba(this);var p=this.g.Z();this.X=p;e:if(Yi(this)){var T=du(this.g);o="";var x=T.length,k=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rn(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,lu(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ut(Ot)){var Nt=Ot;break e}}Nt=null}if(p=Nt)Qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,p);else{this.o=!1,this.s=3,se(12),We(this),rn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=Ki(this,$),Me==zr){ve==4&&(this.s=4,se(14),p=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Fi){this.s=4,se(15),Qi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Qi(this.i,this.l,Me,null),an(this,Me);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Qi(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),rn(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Yr(Ce),Ce.M=!0,se(11))}}else Qi(this.i,this.l,$,null),an(this,$);ve==4&&We(this),this.o&&!this.J&&(ve==4?_u(this.j,this):(this.o=!1,$t(this)))}else Ec(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),rn(this)}}}catch{}finally{}};function Yi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Ki(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?zr:(p=Number(m.substring(p,T)),isNaN(p)?Fi:(T+=1,T+p>m.length?zr:(m=m.slice(T,T+p),o.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,We(this)};function $t(o){o.S=Date.now()+o.I,Us(o,o.I)}function Us(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ji(z(o.ba,o),m)}function ba(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(Hi(),se(17)),We(this),this.s=2,rn(this)):Us(this,this.S-o)};function rn(o){o.j.G==0||o.J||_u(o.j,o)}function We(o){ba(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ke(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function an(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Xi(p.h,o))){if(!o.K&&Xi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ua(p),Na(p);else break t;Qs(p),se(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=ji(z(p.Za,p),6e3));if(1>=uu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&Ua(p),!ut(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let Nt=x[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Nt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const pi=Nt[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var k=T.h;k.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Zi(k,k.h),k.h=null))}if(T.D){const Ys=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(T.ya=Ys,zt(T.I,T.D,Ys))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=Eu(T,T.J?T.ia:null,T.W),$.K){gn(T.h,$);var Ot=$,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(ba(Ot),$t(Ot)),T.g=$}else pu(T);0<p.i.length&&Ma(p)}else Nt[0]!="stop"&&Nt[0]!="close"||gi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?gi(p,7):js(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}Hi(4)}catch{}}var gc=class{constructor(o,m){this.g=o,this.map=m}};function xs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function uu(o){return o.h?1:o.g?o.g.size:0}function Xi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Zi(o,m){o.g?o.g.add(m):o.h=m}function gn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}xs.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return W(o.i)}function ou(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function pc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Br(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=pc(o),T=ou(o),x=T.length,k=0;k<x;k++)m.call(void 0,T[k],p&&p[k],o)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),x=null;if(0<=T){var k=o[p].substring(0,T);x=o[p].substring(T+1)}else k=o[p];m(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,$i(this,o.j),this.o=o.o,this.g=o.g,Pr(this,o.s),this.l=o.l;var m=o.i,p=new qn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),wa(this,p),this.m=o.m}else o&&(m=String(o).match(zs))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Ji(m[2]||""),this.g=Ji(m[3]||"",!0),Pr(this,m[4]),this.l=Ji(m[5]||"",!0),wa(this,m[6]||"",!0),this.m=Ji(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(pn(m,Bs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(pn(m,Bs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(pn(p,p.charAt(0)=="/"?Ps:cu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",pn(p,vc)),o.join("")};function ne(o){return new ci(o)}function $i(o,m,p){o.j=p?Ji(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function wa(o,m,p){m instanceof qn?(o.i=m,ks(o.i,o.h)):(p||(m=pn(m,_c)),o.i=new qn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function kr(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ji(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,yc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function yc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Bs=/[#\/\?@]/g,cu=/[#\?:]/g,Ps=/[#\?]/g,_c=/[#\?@]/g,vc=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ra(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=qn.prototype,s.add=function(o,m){yn(this),this.i=null,o=di(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Da(o,m){yn(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return yn(o),m=di(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=o[T];for(let k=0;k<x.length;k++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){Da(o,m),0<p.length&&(o.i=null,o.g.set(di(o,m),W(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var x=k;$[T]!==""&&(x+="="+encodeURIComponent(String($[T]))),o.push(x)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ks(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(Da(this,T),fi(this,x,p))},o)),o.j=m}function hu(o,m){const p=new Gi;if(g.Image){const T=new Image;T.onload=j(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function qr(o,m){const p=new Gi,T=new AbortController,x=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(x),k.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function Hr(){this.g=new Ye}function Hn(o,m,p){const T=p||"";try{Br(o,function(x,k){let $=x;v(x)&&($=Is(x)),m.push(T+k+"="+encodeURIComponent($))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Wi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Wi,Os),Wi.prototype.g=function(){return new mi(this.l,this.j)},Wi.prototype.i=function(o){return function(){return o}}({});function mi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(mi,pe),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&qs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Hs(o){let m="";return It(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Hs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function qt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,pe);var Ca=/^https?$/i,jr=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lr.g(),this.v=this.o?iu(this.o):iu(Lr),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){fu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),x=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(jr,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,$]of p)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gr(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){fu(this,k)}};function fu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Va(o),Qn(o)}function Va(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},s.bb=function(){Ia(this)};function Ia(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)nu(o.Ea,0,o);else if(Re(o,"readystatechange"),vn(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var x=String(o.D).match(zs)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!Ca.test(x?x.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var k=2<vn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Va(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Gr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Gr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function du(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ut(o[T]))continue;var p=I(o[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[x]||[];m[x]=k,k.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Oa(o){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qr("baseRetryDelayMs",5e3,o),this.cb=Qr("retryDelaySeedMs",1e4,o),this.Wa=Qr("forwardChannelMaxRetries",2,o),this.wa=Qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(o&&o.concurrentRequestLimit),this.Da=new Hr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Oa.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Eu(this,null,this.W),Ma(this)};function js(o){if(mu(o),o.G==3){var m=o.U++,p=ne(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),Fr(o,p),m=new kn(o,o.j,m),m.L=2,m.v=kr(ne(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}vu(o)}function Na(o){o.g&&(Yr(o),o.g.cancel(),o.g=null)}function mu(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ua(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ma(o){if(!Ls(o.h)&&!o.s){o.s=!0;var m=o.Ga;ft||C(),ot||(ft(),ot=!0),kt.add(m,o),o.B=0}}function Tc(o,m){return uu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ji(z(o.Ga,o,m),Fs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new kn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=A(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=gu(this,x,m),p=ne(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),Fr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Hs(k)))+"&"+m:this.m&&De(p,this.m,k)),Zi(this.h,x),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),x.T=!0,On(x,p,null)):On(x,p,m),this.G=2}}else this.G==3&&(o?Gs(this,o):this.i.length==0||Ls(this.h)||Gs(this))};function Gs(o,m){var p;m?p=m.l:p=o.U++;const T=ne(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),Fr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new kn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=gu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Zi(o.h,p),On(p,T,m)}function Fr(o,m){o.H&&It(o.H,function(p,T){zt(m,T,p)}),o.l&&Br({},function(p,T){zt(m,T,p)})}function gu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?z(o.l.Na,o.l,o):null;t:{var x=o.i;let k=-1;for(;;){const $=["count="+p];k==-1?0<p?(k=x[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let Ot=!0;for(let _e=0;_e<p;_e++){let Nt=x[_e].g;const Ce=x[_e].map;if(Nt-=k,0>Nt)k=Math.max(0,x[_e].g-100),Ot=!1;else try{Hn(Ce,$,"req"+Nt+"_")}catch{T&&T(Ce)}}if(Ot){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function pu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ft||C(),ot||(ft(),ot=!0),kt.add(m,o),o.v=0}}function Qs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ji(z(o.Fa,o),Fs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ji(z(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Na(this),yu(this))};function Yr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function yu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),Fr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=kr(ne(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Na(this),Qs(this),se(19))};function Ua(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function _u(o,m){var p=null;if(o.g==m){Ua(o),Yr(o),o.g=null;var T=2}else if(Xi(o.h,m))p=m.D,gn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ta(),Re(T,new au(T,p)),Ma(o)}else pu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&Qs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),x){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Fs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=z(o.fb,o),T=o.Xa;const x=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$i(T,"https"),kr(T),x?hu(T.toString(),p):qr(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),vu(o),mu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function vu(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function Eu(o,m,p){var T=p instanceof ci?ne(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pr(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var k=new ci(null);T&&$i(k,T),m&&(k.g=m),x&&Pr(k,x),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),Fr(o,T),T}function Tu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Wi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function xa(){}xa.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Oa(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ut(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ut(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}Z(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){js(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Is(o),o=p);m.i.push(new gc(m.Ya++,o)),m.G==3&&Ma(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Xe.aa.N.call(this)};function Su(o){ki.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Su,ki);function bu(){In.call(this),this.status=1}Z(bu,In);function Fn(o){this.g=o}Z(Fn,Au),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Su(o))},Fn.prototype.sa=function(o){Re(this.g,new bu)},Fn.prototype.ra=function(){Re(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,h_=function(){return new xa},c_=function(){return Ta()},o_=mn,Nf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Co=ye,ui.COMPLETE="complete",u_=ui,ru.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,xl=ru,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,l_=qt}).apply(typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{});const ey="@firebase/firestore",ny="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new t_("@firebase/firestore");function us(){return ma.logLevel}function nt(s,...e){if(ma.logLevel<=xt.DEBUG){const i=e.map(Wf);ma.debug(`Firestore (${As}): ${s}`,...i)}}function Ui(s,...e){if(ma.logLevel<=xt.ERROR){const i=e.map(Wf);ma.error(`Firestore (${As}): ${s}`,...i)}}function ms(s,...e){if(ma.logLevel<=xt.WARN){const i=e.map(Wf);ma.warn(`Firestore (${As}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+s;throw Ui(e),new Error(e)}function Ht(s,e){s||dt()}function yt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class JT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class WT{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ni,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ni)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new f_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Ge(e)}}class tA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new tA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,UT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new iy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=iA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Dt(s,e){return s<e?-1:s>e?1:0}function Uf(s,e){const i=Mf().encode(s),a=Mf().encode(e);for(let u=0;u<Math.min(i.length,a.length);u++){const h=Dt(i[u],a[u]);if(h!==0)return h}return Dt(i.length,a.length)}function gs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=-62135596800,ay=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ay);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ry)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ay}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(e){return new gt(e)}static min(){return new gt(new Se(0,0))}static max(){return new gt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(),a===void 0?a=e.length-i:a>e.length-i&&dt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),u=ti.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):Uf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Zt extends ti{construct(e,i,a){return new Zt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new st(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const rA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return rA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sy}static keyField(){return new Be([sy])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new st(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new st(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new st(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new st(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Zt.fromString(e))}static fromName(e){return new ct(Zt.fromString(e).popFirst(5))}static empty(){return new ct(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function aA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=gt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new wr(u,ct.empty(),e)}function sA(s){return new wr(s.readTime,s.key,Ql)}class wr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new wr(gt.min(),ct.empty(),Ql)}static max(){return new wr(gt.max(),ct.empty(),Ql)}}function lA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==uA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++g,g===h&&a(d)},R=>u(R))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function cA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function $o(s){return s==null}function Bo(s){return s===0&&1/s==-1/0}function hA(s){return typeof s=="number"&&Number.isInteger(s)&&!Bo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="";function fA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ly(e)),e=dA(s.get(i),e);return ly(e)}function dA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case m_:i+="";break;default:i+=h}}return i}function ly(s){return s+m_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Nr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function g_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}}class bo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new hn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new p_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const mA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dr(s){if(Ht(!!s),typeof s=="string"){let e=0;const i=mA.exec(s);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Cr(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="server_timestamp",__="__type__",v_="__previous_value__",E_="__local_write_time__";function ed(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[__])===null||i===void 0?void 0:i.stringValue)===y_}function Jo(s){const e=s.mapValue.fields[v_];return ed(e)?Jo(e):e}function Fl(s){const e=Dr(s.mapValue.fields[E_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i,a,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Po="(default)";class Yl{constructor(e,i){this.projectId=e,this.database=i||Po}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===Po}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__type__",pA="__max__",Ro={mapValue:{}},A_="__vector__",ko="value";function Vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ed(s)?4:_A(s)?9007199254740991:yA(s)?10:11:dt()}function ii(s,e){if(s===e)return!0;const i=Vr(s);if(i!==Vr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fl(s).isEqual(Fl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Dr(u.timestampValue),g=Dr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Cr(u.bytesValue).isEqual(Cr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),g=ue(h.doubleValue);return d===g?Bo(d)===Bo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return gs(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(uy(d)!==uy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return dt()}}function Kl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ps(s,e){if(s===e)return 0;const i=Vr(s),a=Vr(e);if(i!==a)return Dt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return cy(s.timestampValue,e.timestampValue);case 4:return cy(Fl(s),Fl(e));case 5:return Uf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Cr(h),_=Cr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const R=Dt(g[v],_[v]);if(R!==0)return R}return Dt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Dt(ue(h.latitude),ue(d.latitude));return g!==0?g:Dt(ue(h.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return hy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,R;const M=h.fields||{},z=d.fields||{},j=(g=M[ko])===null||g===void 0?void 0:g.arrayValue,Z=(_=z[ko])===null||_===void 0?void 0:_.arrayValue,W=Dt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((R=Z==null?void 0:Z.values)===null||R===void 0?void 0:R.length)||0);return W!==0?W:hy(j,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ro.mapValue&&d===Ro.mapValue)return 0;if(h===Ro.mapValue)return 1;if(d===Ro.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let M=0;M<_.length&&M<R.length;++M){const z=Uf(_[M],R[M]);if(z!==0)return z;const j=ps(g[_[M]],v[R[M]]);if(j!==0)return j}return Dt(_.length,R.length)}(s.mapValue,e.mapValue);default:throw dt()}}function cy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Dr(s),a=Dr(e),u=Dt(i.seconds,a.seconds);return u!==0?u:Dt(i.nanos,a.nanos)}function hy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ps(i[u],a[u]);if(h)return h}return Dt(i.length,a.length)}function ys(s){return xf(s)}function xf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Dr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Cr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ct.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=xf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${xf(i.fields[d])}`;return u+"}"}(s.mapValue):dt()}function Vo(s){switch(Vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jo(s);return e?16+Vo(e):16;case 5:return 2*s.stringValue.length;case 6:return Cr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Vo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Nr(a.fields,(h,d)=>{u+=h.length+Vo(d)}),u}(s.mapValue);default:throw dt()}}function Lf(s){return!!s&&"integerValue"in s}function nd(s){return!!s&&"arrayValue"in s}function fy(s){return!!s&&"nullValue"in s}function dy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Io(s){return!!s&&"mapValue"in s}function yA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[T_])===null||i===void 0?void 0:i.stringValue)===A_}function Pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Nr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Pl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function _A(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Io(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Pl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Io(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Nr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new nn(Pl(this.value))}}function S_(s){const e=[];return Nr(s.fields,(i,a)=>{const u=new Be([i]);if(Io(a)){const h=S_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,gt.min(),gt.min(),gt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,gt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,gt.min(),gt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,gt.min(),gt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function my(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ct.comparator(ct.fromName(d.referenceValue),i.key):a=ps(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function gy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function vA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{}class Ae extends b_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new TA(e,i,a):i==="array-contains"?new bA(e,a):i==="in"?new RA(e,a):i==="not-in"?new wA(e,a):i==="array-contains-any"?new DA(e,a):new Ae(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new AA(e,a):new SA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&Vr(this.value)===Vr(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends b_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ri(e,i)}matches(e){return R_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function R_(s){return s.op==="and"}function w_(s){return EA(s)&&R_(s)}function EA(s){for(const e of s.filters)if(e instanceof ri)return!1;return!0}function zf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ys(s.value);if(w_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function D_(s,e){return s instanceof Ae?function(a,u){return u instanceof Ae&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof ri?function(a,u){return u instanceof ri&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&D_(d,u.filters[g]),!0):!1}(s,e):void dt()}function C_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(s):s instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(C_).join(" ,")+"}"}(s):"Filter"}class TA extends Ae{constructor(e,i,a){super(e,i,a),this.key=ct.fromName(a.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class AA extends Ae{constructor(e,i){super(e,"in",i),this.keys=V_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class SA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=V_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function V_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ct.fromName(a.referenceValue))}class bA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Kl(i.arrayValue,this.value)}}class RA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class wA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class DA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function py(s,e=null,i=[],a=[],u=null,h=null,d=null){return new CA(s,e,i,a,u,h,d)}function id(s){const e=yt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>zf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),$o(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ys(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ys(a)).join(",")),e.le=i}return e.le}function rd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!D_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gy(s.startAt,e.startAt)&&gy(s.endAt,e.endAt)}function Bf(s){return ct.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VA(s,e,i,a,u,h,d,g){return new Wo(s,e,i,a,u,h,d,g)}function ad(s){return new Wo(s)}function yy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function IA(s){return s.collectionGroup!==null}function kl(s){const e=yt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Ho(h,a))}),i.has(Be.keyField().canonicalString())||e.he.push(new Ho(Be.keyField(),a))}return e.he}function ei(s){const e=yt(s);return e.Pe||(e.Pe=OA(e,kl(s))),e.Pe}function OA(s,e){if(s.limitType==="F")return py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=s.endAt?new qo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new qo(s.startAt.position,s.startAt.inclusive):null;return py(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Pf(s,e,i){return new Wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function tc(s,e){return rd(ei(s),ei(e))&&s.limitType===e.limitType}function I_(s){return`${id(ei(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>C_(u)).join(", ")}]`),$o(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${a})`}(ei(s))}; limitType=${s.limitType})`}function ec(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ct.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of kl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=my(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,kl(a),u)||a.endAt&&!function(d,g,_){const v=my(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,kl(a),u))}(s,e)}function NA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function O_(s){return(e,i)=>{let a=!1;for(const u of kl(s)){const h=MA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function MA(s,e,i){const a=s.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ps(_,v):dt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return g_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new te(ct.comparator);function xi(){return UA}const N_=new te(ct.comparator);function Ll(...s){let e=N_;for(const i of s)e=e.insert(i.key,i);return e}function M_(s){let e=N_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function da(){return ql()}function U_(){return ql()}function ql(){return new pa(s=>s.toString(),(s,e)=>s.isEqual(e))}const xA=new te(ct.comparator),LA=new be(ct.comparator);function Ct(...s){let e=LA;for(const i of s)e=e.add(i);return e}const zA=new be(Dt);function BA(){return zA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function x_(s){return{integerValue:""+s}}function PA(s,e){return hA(e)?x_(e):sd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function kA(s,e,i){return s instanceof jo?function(u,h){const d={fields:{[__]:{stringValue:y_},[E_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=Jo(h)),h&&(d.fields[v_]=h),{mapValue:d}}(i,e):s instanceof Xl?z_(s,e):s instanceof Zl?B_(s,e):function(u,h){const d=L_(u,h),g=_y(d)+_y(u.Ie);return Lf(d)&&Lf(u.Ie)?x_(g):sd(u.serializer,g)}(s,e)}function qA(s,e,i){return s instanceof Xl?z_(s,e):s instanceof Zl?B_(s,e):i}function L_(s,e){return s instanceof Go?function(a){return Lf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class jo extends nc{}class Xl extends nc{constructor(e){super(),this.elements=e}}function z_(s,e){const i=P_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Zl extends nc{constructor(e){super(),this.elements=e}}function B_(s,e){let i=P_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class Go extends nc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function _y(s){return ue(s.integerValue||s.doubleValue)}function P_(s){return nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function HA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Xl&&u instanceof Xl||a instanceof Zl&&u instanceof Zl?gs(a.elements,u.elements,ii):a instanceof Go&&u instanceof Go?ii(a.Ie,u.Ie):a instanceof jo&&u instanceof jo}(s.transform,e.transform)}class jA{constructor(e,i){this.version=e,this.transformResults=i}}class Ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ic{}function k_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ld(s.key,Ln.none()):new $l(s.key,s.data,Ln.none());{const i=s.data,a=nn.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Mr(s.key,a,new hn(u.toArray()),Ln.none())}}function GA(s,e,i){s instanceof $l?function(u,h,d){const g=u.value.clone(),_=Ey(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Mr?function(u,h,d){if(!Oo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Ey(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(q_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Hl(s,e,i,a){return s instanceof $l?function(h,d,g,_){if(!Oo(h.precondition,d))return g;const v=h.value.clone(),R=Ty(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Mr?function(h,d,g,_){if(!Oo(h.precondition,d))return g;const v=Ty(h.fieldTransforms,_,d),R=d.data;return R.setAll(q_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(s,e,i,a):function(h,d,g){return Oo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function QA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=L_(a.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(a.field,h))}return i||null}function vy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&gs(a,u,(h,d)=>HA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends ic{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mr extends ic{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function q_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Ey(s,e,i){const a=new Map;Ht(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,qA(d,g,i[u]))}return a}function Ty(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,kA(h,d,e))}return a}class ld extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FA extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&GA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Hl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Hl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=U_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=k_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(gt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,a)=>vy(i,a))&&gs(this.baseMutations,e.baseMutations,(i,a)=>vy(i,a))}}class ud{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Ht(e.mutations.length===a.length);let u=function(){return xA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new ud(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Ut;function ZA(s){switch(s){case Y.OK:return dt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return dt()}}function H_(s){if(s===void 0)return Ui("GRPC error has no .code"),Y.UNKNOWN;switch(s){case me.OK:return Y.OK;case me.CANCELLED:return Y.CANCELLED;case me.UNKNOWN:return Y.UNKNOWN;case me.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case me.INTERNAL:return Y.INTERNAL;case me.UNAVAILABLE:return Y.UNAVAILABLE;case me.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case me.NOT_FOUND:return Y.NOT_FOUND;case me.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case me.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case me.ABORTED:return Y.ABORTED;case me.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case me.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case me.DATA_LOSS:return Y.DATA_LOSS;default:return dt()}}(Ut=me||(me={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Sr([4294967295,4294967295],0);function Ay(s){const e=Mf().encode(s),i=new s_;return i.update(e),new Uint8Array(i.digest())}function Sy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Sr([i,a],0),new Sr([u,h],0)]}class od{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Sr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Sr.fromNumber(a)));return u.compare($A)===1&&(u=new Sr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Ay(e),[a,u]=Sy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new od(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Ay(e),[a,u]=Sy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new rc(gt.min(),u,new te(Dt),xi(),Ct())}}class Jl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jl(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class j_{constructor(e,i){this.targetId=e,this.ge=i}}class G_{constructor(e,i,a=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class by{constructor(){this.pe=0,this.ye=Ry(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),a=Ct();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt()}}),new Jl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=Ry()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class JA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=xi(),this.$e=wo(),this.Ue=wo(),this.Ke=new te(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Bf(h))if(a===0){const d=new ct(h.path);this.ze(i,d,Qe.newNoDocument(d,gt.min()))}else Ht(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Cr(a).toUint8Array()}catch(_){if(_ instanceof p_)return ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new od(d,u,h)}catch(_){return ms(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Bf(g.target)){const _=new ct(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Ct();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new rc(e,i,this.Ke,this.Qe,a);return this.Qe=xi(),this.$e=wo(),this.Ue=wo(),this.Ke=new te(Dt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new by,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new by),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function wo(){return new te(ct.comparator)}function Ry(){return new te(ct.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},tS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eS={and:"AND",or:"OR"};class nS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kf(s,e){return s.useProto3Json||$o(e)?e:{value:e}}function Qo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iS(s,e){return Qo(s,e.toTimestamp())}function ni(s){return Ht(!!s),gt.fromTimestamp(function(i){const a=Dr(i);return new Se(a.seconds,a.nanos)}(s))}function cd(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function F_(s){const e=Zt.fromString(s);return Ht($_(e)),e}function Hf(s,e){return cd(s.databaseId,e.path)}function Af(s,e){const i=F_(e);if(i.get(1)!==s.databaseId.projectId)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new st(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ct(K_(i))}function Y_(s,e){return cd(s.databaseId,e)}function rS(s){const e=F_(s);return e.length===4?Zt.emptyPath():K_(e)}function jf(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function K_(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function wy(s,e,i){return{name:Hf(s,e),fields:i.value.mapValue.fields}}function aS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(Ht(R===void 0||typeof R=="string"),Pe.fromBase64String(R||"")):(Ht(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Pe.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const R=v.code===void 0?Y.UNKNOWN:H_(v.code);return new st(R,v.message||"")}(d);i=new G_(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=Af(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):gt.min(),g=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=a.targetIds||[],R=a.removedTargetIds||[];i=new No(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=Af(s,a.document),h=a.readTime?ni(a.readTime):gt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new No([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=Af(s,a.document),h=a.removedTargetIds||[];i=new No([],h,u,null)}else{if(!("filter"in e))return dt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new XA(u,h),g=a.targetId;i=new j_(g,d)}}return i}function sS(s,e){let i;if(e instanceof $l)i={update:wy(s,e.key,e.value)};else if(e instanceof ld)i={delete:Hf(s,e.key)};else if(e instanceof Mr)i={update:wy(s,e.key,e.data),updateMask:gS(e.fieldMask)};else{if(!(e instanceof FA))return dt();i={verify:Hf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof jo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Go)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw dt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:iS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt()}(s,e.precondition)),i}function lS(s,e){return s&&s.length>0?(Ht(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(gt.min())&&(d=ni(h)),new jA(d,u.transformResults||[])}(i,e))):[]}function uS(s,e){return{documents:[Y_(s,e.path)]}}function oS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Y_(s,u);const h=function(v){if(v.length!==0)return Z_(ri.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(z){return{field:cs(z.field),direction:fS(z.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=kf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function cS(s){let e=rS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Ht(a===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(M){const z=X_(M);return z instanceof ri&&w_(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(z=>function(Z){return new Ho(hs(Z.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(M){let z;return z=typeof M=="object"?M.value:M,$o(z)?null:z}(i.limit));let _=null;i.startAt&&(_=function(M){const z=!!M.before,j=M.values||[];return new qo(j,z)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const z=!M.before,j=M.values||[];return new qo(j,z)}(i.endAt)),VA(e,u,d,h,g,"F",_,v)}function hS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function X_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=hs(i.unaryFilter.field);return Ae.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(a=>X_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(s):dt()}function fS(s){return WA[s]}function dS(s){return tS[s]}function mS(s){return eS[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return Be.fromServerFormat(s.fieldPath)}function Z_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(dy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(fy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(fy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:dS(i.op),value:i.value}}}(s):s instanceof ri?function(i){const a=i.getFilters().map(u=>Z_(u));return a.length===1?a[0]:{compositeFilter:{op:mS(i.op),filters:a}}}(s):dt()}function gS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function $_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,i,a,u,h=gt.min(),d=gt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.Tt=e}}function yS(s){const e=cS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Tn=new vS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(wr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class vS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Zt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(J_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new _s(0)}static Kn(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LruGarbageCollector",ES=1048576;function Vy([s,e],[i,a]){const u=Dt(s,i);return u===0?Dt(e,a):u}class TS{constructor(e){this.Hn=e,this.buffer=new be(Vy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Vy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Cy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?nt(Cy,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.er(3e5)})}}class SS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Zo.ae);const a=new TS(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Dy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,d=Date.now(),this.nthSequenceNumber(e,u))).next(M=>(a=M,g=Date.now(),this.removeTargets(e,a,i))).next(M=>(h=M,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(M=>(v=Date.now(),us()<=xt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M})))}}function bS(s,e){return new SS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.changes=new pa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Hl(a.mutation,u,hn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=da();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ll();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=da();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=xi();const d=ql(),g=function(){return ql()}();return i.forEach((_,v)=>{const R=a.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof Mr)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),Hl(R.mutation,v,R.mutation.getFieldMask(),Se.now())):d.set(v.key,hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var M;return g.set(v,new wS(R,(M=d.get(v))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(e,i){const a=ql();let u=new te((d,g)=>d-g),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=a.get(_)||hn.empty();R=g.applyToLocalView(v,R),a.set(_,R);const M=(u.get(g.batchId)||Ct()).add(_);u=u.insert(g.batchId,M)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,R=_.value,M=U_();R.forEach(z=>{if(!h.has(z)){const j=k_(i.get(z),a.get(z));j!==null&&M.set(z,j),h=h.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):IA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(da());let g=Ql,_=h;return d.next(v=>Q.forEach(v,(R,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(z=>{_=_.insert(R,z)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(R=>({batchId:g,changes:M_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(a=>{let u=Ll();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(M,z){return new Wo(z,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(R=>{R.forEach((M,z)=>{d=d.insert(M,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Qe.newInvalidDocument(R)))});let g=Ll();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&Hl(R.mutation,v,hn.empty(),Se.now()),ec(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:yS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new te(ct.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=da();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=da(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new te((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let R=h.get(v.largestBatchId);R===null&&(R=da(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const g=da(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>g.set(v,R)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new KA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ne(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ct(new Zt([])),a=new Ne(i,e),u=new Ne(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ct(new Zt([])),a=new Ne(i,e),u=new Ne(i,e+1);let h=Ct();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ct.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?td:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Dt);return i.forEach(u=>{const h=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ct.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ct(h),0);let g=new be(Dt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Ne(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ne(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.kr=e,this.docs=function(){return new te(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=xi();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=xi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||lA(sA(R),a)<=0||(u.has(R.key)||ec(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new MS(this)}getSize(e){return Q.resolve(this.size)}}class MS extends RS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.persistence=e,this.Qr=new pa(i=>id(i),rd),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new hd,this.targetCount=0,this.Kr=_s.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Zo(0),this.zr=!1,this.zr=!0,this.jr=new IS,this.referenceDelegate=e(this),this.Hr=new US(this),this.indexManager=new _S,this.remoteDocumentCache=function(u){return new NS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new pS(i),this.Yr=new CS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new OS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new xS(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class xS extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class fd{constructor(e){this.persistence=e,this.ti=new hd,this.ni=null}static ri(e){return new fd(e)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ct.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,gt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.oi=new pa(a=>fA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=bS(this,i)}static ri(e,i){return new Fo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,gt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vo(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new dd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return O0()?8:cA(V0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new LS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(us()<=xt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(us()<=xt.DEBUG&&nt("QueryEngine","Query:",os(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(us()<=xt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Q.resolve())}rs(e,i){if(yy(i))return Q.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Pf(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Pf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return yy(i)||u.isEqual(gt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(us()<=xt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.hs(e,d,i,aA(u,Ql)).next(g=>g))})}cs(e,i){let a=new be(O_(e));return i.forEach((u,h)=>{ec(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return us()<=xt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",os(i)),this.ns.getDocumentsMatchingQuery(e,i,wr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="LocalStore",BS=3e8;class PS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(Dt),this.Is=new pa(h=>id(h),rd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function kS(s,e,i,a){return new PS(s,e,i,a)}async function tv(s,e){const i=yt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){g.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function qS(s,e){const i=yt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,R){const M=v.batch,z=M.keys();let j=Q.resolve();return z.forEach(Z=>{j=j.next(()=>R.getEntry(_,Z)).next(W=>{const X=v.docVersions.get(Z);Ht(X!==null),W.version.compareTo(X)<0&&(M.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),R.addEntry(W)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,M))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function ev(s){const e=yt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function HS(s,e){const i=yt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((R,M)=>{const z=u.get(M);if(!z)return;g.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,M).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,M)));let j=z.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(M)!==null?j=j.withResumeToken(Pe.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):R.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(R.resumeToken,a)),u=u.insert(M,j),function(W,X,_t){return W.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=BS?!0:_t.addedDocuments.size+_t.modifiedDocuments.size+_t.removedDocuments.size>0}(z,j,R)&&g.push(i.Hr.updateTargetData(h,j))});let _=xi(),v=Ct();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(jS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!a.isEqual(gt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(M=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(R)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function jS(s,e,i){let a=Ct(),u=Ct();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=xi();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(gt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(md,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function GS(s,e){const i=yt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function QS(s,e){const i=yt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new Er(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Gf(s,e,i){const a=yt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;nt(md,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function Iy(s,e,i){const a=yt(s);let u=gt.min(),h=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const M=yt(_),z=M.Is.get(R);return z!==void 0?Q.resolve(M.Ts.get(z)):M.Hr.getTargetData(v,R)}(a,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:gt.min(),i?h:Ct())).next(g=>(FS(a,NA(e),g),{documents:g,gs:h})))}function FS(s,e,i){let a=s.Es.get(e)||gt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Oy{constructor(){this.activeTargetIds=BA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YS{constructor(){this.ho=new Oy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Oy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="ConnectivityMonitor";class My{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Ny,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(Ny,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Qf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",XS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Po?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Qf(),g=this.bo(e,i.toUriEncodedString());nt(Sf,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,a).then(v=>(nt(Sf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ms(Sf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=XS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class JS extends ZS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Qf();return new Promise((d,g)=>{const _=new l_;_.setWithCredentials(!0),_.listenOnce(u_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Co.NO_ERROR:const R=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Co.TIMEOUT:nt(je,`RPC '${e}' ${h} timed out`),g(new st(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const M=_.getStatus();if(nt(je,`RPC '${e}' ${h} failed with status:`,M,"response text:",_.getResponseText()),M>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const j=z==null?void 0:z.error;if(j&&j.status&&j.message){const Z=function(X){const _t=X.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(_t)>=0?_t:Y.UNKNOWN}(j.status);g(new st(Z,j.message))}else g(new st(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new st(Y.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{nt(je,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=Qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=h_(),g=c_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const R=h.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${R}`,_);const M=d.createWebChannel(R,_);let z=!1,j=!1;const Z=new $S({Fo:X=>{j?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(z||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),M.open(),z=!0),nt(je,`RPC '${e}' stream ${u} sending:`,X),M.send(X))},Mo:()=>M.close()}),W=(X,_t,ut)=>{X.listen(_t,vt=>{try{ut(vt)}catch(jt){setTimeout(()=>{throw jt},0)}})};return W(M,xl.EventType.OPEN,()=>{j||(nt(je,`RPC '${e}' stream ${u} transport opened.`),Z.Qo())}),W(M,xl.EventType.CLOSE,()=>{j||(j=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),Z.Uo())}),W(M,xl.EventType.ERROR,X=>{j||(j=!0,ms(je,`RPC '${e}' stream ${u} transport errored:`,X),Z.Uo(new st(Y.UNAVAILABLE,"The operation could not be completed")))}),W(M,xl.EventType.MESSAGE,X=>{var _t;if(!j){const ut=X.data[0];Ht(!!ut);const vt=ut,jt=(vt==null?void 0:vt.error)||((_t=vt[0])===null||_t===void 0?void 0:_t.error);if(jt){nt(je,`RPC '${e}' stream ${u} received error:`,jt);const mt=jt.status;let It=function(S){const D=me[S];if(D!==void 0)return H_(D)}(mt),N=jt.message;It===void 0&&(It=Y.INTERNAL,N="Unknown error status: "+mt+" with message "+jt.message),j=!0,Z.Uo(new st(It,N)),M.close()}else nt(je,`RPC '${e}' stream ${u} received:`,ut),Z.Ko(ut)}}),W(g,o_.STAT_EVENT,X=>{X.stat===Nf.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===Nf.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(s){return new nS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="PersistentStream";class iv{constructor(e,i,a,u,h,d,g,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(Ui(i.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new st(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Uy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Uy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WS extends iv{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=aS(this.serializer,e),a=function(h){if(!("targetChange"in h))return gt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?ni(d.readTime):gt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=jf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Bf(_)?{documents:uS(h,_)}:{query:oS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Q_(h,d.resumeToken);const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){g.readTime=Qo(h,d.snapshotVersion.toTimestamp());const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=hS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=jf(this.serializer),i.removeTarget=e,this.I_(i)}}class t1 extends iv{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=lS(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=jf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>sS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class n1 extends e1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,qf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new st(Y.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,qf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Y.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class i1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ui(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class r1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ya(this)&&(nt(ga,"Restarting streams for network reachability change."),await async function(_){const v=yt(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await sc(v)}(this))})}),this.j_=new i1(a,u)}}async function sc(s){if(ya(s))for(const e of s.G_)await e(!0)}async function Wl(s){for(const e of s.G_)await e(!1)}function rv(s,e){const i=yt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),_d(i)?yd(i):Rs(i).c_()&&pd(i,e))}function gd(s,e){const i=yt(s),a=Rs(i);i.K_.delete(e),a.c_()&&av(i,e),i.K_.size===0&&(a.c_()?a.P_():ya(i)&&i.j_.set("Unknown"))}function pd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(gt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function av(s,e){s.H_.Ne(e),Rs(s).w_(e)}function yd(s){s.H_=new JA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function _d(s){return ya(s)&&!Rs(s).u_()&&s.K_.size>0}function ya(s){return yt(s).W_.size===0}function sv(s){s.H_=void 0}async function a1(s){s.j_.set("Online")}async function s1(s){s.K_.forEach((e,i)=>{pd(s,e)})}async function l1(s,e){sv(s),_d(s)?(s.j_.q_(e),yd(s)):s.j_.set("Unknown")}async function u1(s,e,i){if(s.j_.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){nt(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yo(s,a)}else if(e instanceof No?s.H_.We(e):e instanceof j_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(gt.min()))try{const a=await ev(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.K_.get(v);R&&h.K_.set(v,R.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const R=h.K_.get(_);if(!R)return;h.K_.set(_,R.withResumeToken(Pe.EMPTY_BYTE_STRING,R.snapshotVersion)),av(h,_);const M=new Er(R.target,_,v,R.sequenceNumber);pd(h,M)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){nt(ga,"Failed to raise snapshot:",a),await Yo(s,a)}}async function Yo(s,e,i){if(!bs(e))throw e;s.W_.add(1),await Wl(s),s.j_.set("Offline"),i||(i=()=>ev(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(ga,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await sc(s)})}function lv(s,e){return e().catch(i=>Yo(s,i,e))}async function lc(s){const e=yt(s),i=Ir(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:td;for(;o1(e);)try{const u=await GS(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,c1(e,u)}catch(u){await Yo(e,u)}uv(e)&&ov(e)}function o1(s){return ya(s)&&s.U_.length<10}function c1(s,e){s.U_.push(e);const i=Ir(s);i.c_()&&i.S_&&i.b_(e.mutations)}function uv(s){return ya(s)&&!Ir(s).u_()&&s.U_.length>0}function ov(s){Ir(s).start()}async function h1(s){Ir(s).C_()}async function f1(s){const e=Ir(s);for(const i of s.U_)e.b_(i.mutations)}async function d1(s,e,i){const a=s.U_.shift(),u=ud.from(a,e,i);await lv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await lc(s)}async function m1(s,e){e&&Ir(s).S_&&await async function(a,u){if(function(d){return ZA(d)&&d!==Y.ABORTED}(u.code)){const h=a.U_.shift();Ir(a).h_(),await lv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await lc(a)}}(s,e),uv(s)&&ov(s)}async function xy(s,e){const i=yt(s);i.asyncQueue.verifyOperationInProgress(),nt(ga,"RemoteStore received new credentials");const a=ya(i);i.W_.add(3),await Wl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await sc(i)}async function g1(s,e){const i=yt(s);e?(i.W_.delete(2),await sc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,a,u){const h=yt(i);return h.M_(),new WS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:a1.bind(null,s),No:s1.bind(null,s),Lo:l1.bind(null,s),p_:u1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),_d(s)?yd(s):s.j_.set("Unknown")):(await s.J_.stop(),sv(s))})),s.J_}function Ir(s){return s.Y_||(s.Y_=function(i,a,u){const h=yt(i);return h.M_(),new t1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:h1.bind(null,s),Lo:m1.bind(null,s),D_:f1.bind(null,s),v_:d1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await lc(s)):(await s.Y_.stop(),s.U_.length>0&&(nt(ga,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new vd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ed(s,e){if(Ui("AsyncQueue",`${e}: ${s}`),bs(s))return new st(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ct.comparator(i.key,a.key):(i,a)=>ct.comparator(i.key,a.key),this.keyedMap=Ll(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ds;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Z_=new te(ct.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class vs{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new vs(e,i,ds.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class y1{constructor(){this.queries=zy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=yt(i),h=u.queries;u.queries=zy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new st(Y.ABORTED,"Firestore shutting down"))}}function zy(){return new pa(s=>I_(s),tc)}async function cv(s,e){const i=yt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new p1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Ed(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Td(i)}async function hv(s,e){const i=yt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function _1(s,e){const i=yt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&Td(i)}function v1(s,e,i){const a=yt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function Td(s){s.ia.forEach(e=>{e.next()})}var Ff,By;(By=Ff||(Ff={}))._a="default",By.Cache="cache";class fv{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new vs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class E1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=O_(e),this.wa=new ds(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Ly,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,M)=>{const z=u.get(R),j=ec(this.query,M)?M:null,Z=!!z&&this.mutatedKeys.has(z.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;z&&j?z.data.isEqual(j.data)?Z!==W&&(a.track({type:3,doc:j}),X=!0):this.va(z,j)||(a.track({type:2,doc:j}),X=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!z&&j?(a.track({type:0,doc:j}),X=!0):z&&!j&&(a.track({type:1,doc:z}),X=!0,(_||v)&&(g=!0)),X&&(j?(d=d.add(j),h=W?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),a.track({type:1,doc:R})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,M)=>function(j,Z){const W=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return W(j)-W(Z)}(R.type,M.type)||this.ya(R.doc,M.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new vs(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ly,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new mv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new dv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ad="SyncEngine";class T1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class A1{constructor(e){this.key=e,this.Ba=!1}}class S1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pa(g=>I_(g),tc),this.qa=new Map,this.Qa=new Set,this.$a=new te(ct.comparator),this.Ua=new Map,this.Ka=new hd,this.Wa={},this.Ga=new Map,this.za=_s.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function b1(s,e,i=!0){const a=Ev(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await gv(a,e,i,!0),u}async function R1(s,e){const i=Ev(s);await gv(i,e,!0,!1)}async function gv(s,e,i,a){const u=await QS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await w1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&rv(s.remoteStore,u),g}async function w1(s,e,i,a,u){s.Ha=(M,z,j)=>async function(W,X,_t,ut){let vt=X.view.ba(_t);vt.ls&&(vt=await Iy(W.localStore,X.query,!1).then(({documents:N})=>X.view.ba(N,vt)));const jt=ut&&ut.targetChanges.get(X.targetId),mt=ut&&ut.targetMismatches.get(X.targetId)!=null,It=X.view.applyChanges(vt,W.isPrimaryClient,jt,mt);return ky(W,X.targetId,It.Ma),It.snapshot}(s,M,z,j);const h=await Iy(s.localStore,e,!0),d=new E1(e,h.gs),g=d.ba(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);ky(s,i,v.Ma);const R=new T1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function D1(s,e,i){const a=yt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!tc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&gd(a.remoteStore,u.targetId),Yf(a,u.targetId)}).catch(Ss)):(Yf(a,u.targetId),await Gf(a.localStore,u.targetId,!0))}async function C1(s,e){const i=yt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),gd(i.remoteStore,a.targetId))}async function V1(s,e,i){const a=L1(s);try{const u=await function(d,g){const _=yt(d),v=Se.now(),R=g.reduce((j,Z)=>j.add(Z.key),Ct());let M,z;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=xi(),W=Ct();return _.ds.getEntries(j,R).next(X=>{Z=X,Z.forEach((_t,ut)=>{ut.isValidDocument()||(W=W.add(_t))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,Z)).next(X=>{M=X;const _t=[];for(const ut of g){const vt=QA(ut,M.get(ut.key).overlayedDocument);vt!=null&&_t.push(new Mr(ut.key,vt,S_(vt.value.mapValue),Ln.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,_t,g)}).next(X=>{z=X;const _t=X.applyToLocalDocumentSet(M,W);return _.documentOverlayCache.saveOverlays(j,X.batchId,_t)})}).then(()=>({batchId:z.batchId,changes:M_(M)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(Dt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await tu(a,u.changes),await lc(a.remoteStore)}catch(u){const h=Ed(u,"Failed to persist write");i.reject(h)}}async function pv(s,e){const i=yt(s);try{const a=await HS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Ht(d.Ba):u.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await tu(i,a,e)}catch(a){await Ss(a)}}function Py(s,e,i){const a=yt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=yt(d);_.onlineState=g;let v=!1;_.queries.forEach((R,M)=>{for(const z of M.ta)z.sa(g)&&(v=!0)}),v&&Td(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function I1(s,e,i){const a=yt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new te(ct.comparator);d=d.insert(h,Qe.newNoDocument(h,gt.min()));const g=Ct().add(h),_=new rc(gt.min(),new Map,new te(Dt),d,g);await pv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),Sd(a)}else await Gf(a.localStore,e,!1).then(()=>Yf(a,e,i)).catch(Ss)}async function O1(s,e){const i=yt(s),a=e.batch.batchId;try{const u=await qS(i.localStore,e);_v(i,a,null),yv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,u)}catch(u){await Ss(u)}}async function N1(s,e,i){const a=yt(s);try{const u=await function(d,g){const _=yt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,g).next(M=>(Ht(M!==null),R=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(a.localStore,e);_v(a,e,i),yv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await tu(a,u)}catch(u){await Ss(u)}}function yv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function _v(s,e,i){const a=yt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||vv(s,a)})}function vv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(gd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Sd(s))}function ky(s,e,i){for(const a of i)a instanceof dv?(s.Ka.addReference(a.key,e),M1(s,a)):a instanceof mv?(nt(Ad,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||vv(s,a.key)):dt()}function M1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(Ad,"New document in limbo: "+i),s.Qa.add(a),Sd(s))}function Sd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ct(Zt.fromString(e)),a=s.za.next();s.Ua.set(a,new A1(i)),s.$a=s.$a.insert(i,a),rv(s.remoteStore,new Er(ei(ad(i.path)),a,"TargetPurposeLimboResolution",Zo.ae))}}async function tu(s,e,i){const a=yt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var R;if((v||i)&&a.isPrimaryClient){const M=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;a.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(v){u.push(v);const M=dd.Yi(_.targetId,v);h.push(M)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const R=yt(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Q.forEach(v,z=>Q.forEach(z.Hi,j=>R.persistence.referenceDelegate.addReference(M,z.targetId,j)).next(()=>Q.forEach(z.Ji,j=>R.persistence.referenceDelegate.removeReference(M,z.targetId,j)))))}catch(M){if(!bs(M))throw M;nt(md,"Failed to update sequence numbers: "+M)}for(const M of v){const z=M.targetId;if(!M.fromCache){const j=R.Ts.get(z),Z=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(Z);R.Ts=R.Ts.insert(z,W)}}}(a.localStore,h))}async function U1(s,e){const i=yt(s);if(!i.currentUser.isEqual(e)){nt(Ad,"User change. New user:",e.toKey());const a=await tv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new st(Y.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Rs)}}function x1(s,e){const i=yt(s),a=i.Ua.get(e);if(a&&a.Ba)return Ct().add(a.key);{let u=Ct();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function Ev(s){const e=yt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=x1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I1.bind(null,e),e.La.p_=_1.bind(null,e.eventManager),e.La.Ja=v1.bind(null,e.eventManager),e}function L1(s){const e=yt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N1.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return kS(this.persistence,new zS,e.initialUser,this.serializer)}Xa(e){return new W_(fd.ri,this.serializer)}Za(e){return new YS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class z1 extends Ko{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof Fo);const a=this.persistence.referenceDelegate.garbageCollector;return new AS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new W_(a=>Fo.ri(a,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Py(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=U1.bind(null,this.syncEngine),await g1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y1}()}createDatastore(e){const i=ac(e.databaseInfo.databaseId),a=function(h){return new JS(h)}(e.databaseInfo);return function(h,d,g,_){return new n1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new r1(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Py(this.syncEngine,i,0),function(){return My.D()?new My:new KS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,R){const M=new S1(u,h,d,g,_,v);return R&&(M.ja=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=yt(u);nt(ga,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class B1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Ed(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Rf(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Or,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await tv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function qy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await P1(s);nt(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>xy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>xy(e.remoteStore,u)),s._onlineComponents=e}async function P1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Or,"Using user provided OfflineComponentProvider");try{await Rf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await Rf(s,new Ko)}}else nt(Or,"Using default OfflineComponentProvider"),await Rf(s,new z1(void 0));return s._offlineComponents}async function Av(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Or,"Using user provided OnlineComponentProvider"),await qy(s,s._uninitializedComponentsProvider._online)):(nt(Or,"Using default OnlineComponentProvider"),await qy(s,new Kf))),s._onlineComponents}function k1(s){return Av(s).then(e=>e.syncEngine)}async function Sv(s){const e=await Av(s),i=e.eventManager;return i.onListen=b1.bind(null,e.syncEngine),i.onUnlisten=D1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=R1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=C1.bind(null,e.syncEngine),i}function q1(s,e,i={}){const a=new Ni;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new Tv({next:z=>{R.su(),d.enqueueAndForget(()=>hv(h,M));const j=z.docs.has(g);!j&&z.fromCache?v.reject(new st(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&z.fromCache&&_&&_.source==="server"?v.reject(new st(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(z)},error:z=>v.reject(z)}),M=new fv(ad(g.path),R,{includeMetadataChanges:!0,Ta:!0});return cv(h,M)}(await Sv(s),s.asyncQueue,e,i,a)),a.promise}function H1(s,e,i={}){const a=new Ni;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new Tv({next:z=>{R.su(),d.enqueueAndForget(()=>hv(h,M)),z.fromCache&&_.source==="server"?v.reject(new st(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),M=new fv(g,R,{includeMetadataChanges:!0,Ta:!0});return cv(h,M)}(await Sv(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(s,e,i){if(!i)throw new st(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function j1(s,e,i,a){if(e===!0&&a===!0)throw new st(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function jy(s){if(!ct.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gy(s){if(ct.isDocumentKey(s))throw new st(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt()}function Li(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new st(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bd(s);throw new st(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="firestore.googleapis.com",Qy=!0;class Fy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new st(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wv,this.ssl=Qy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Qy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ES)throw new st(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}j1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new st(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new $T;switch(a.type){case"firstParty":return new eA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new st(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Hy.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Hy.delete(i),a.terminate())}(this),Promise.resolve()}}function G1(s,e,i,a={}){var u;const h=(s=Li(s,uc))._getSettings(),d=`${e}:${i}`;if(h.host!==wv&&h.host!==d&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),a.mockUserToken){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Ge.MOCK_USER;else{g=C0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new st(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new JT(new f_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class fn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class br extends oc{constructor(e,i,a){super(e,i,ad(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ct(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Yy(s,e,...i){if(s=Rr(s),Rv("collection","path",e),s instanceof uc){const a=Zt.fromString(e,...i);return Gy(a),new br(s,null,a)}{if(!(s instanceof fn||s instanceof br))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return Gy(a),new br(s.firestore,null,a)}}function Mo(s,e,...i){if(s=Rr(s),arguments.length===1&&(e=d_.newId()),Rv("doc","path",e),s instanceof uc){const a=Zt.fromString(e,...i);return jy(a),new fn(s,null,new ct(a))}{if(!(s instanceof fn||s instanceof br))throw new st(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return jy(a),new fn(s.firestore,s instanceof br?s.converter:null,new ct(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="AsyncQueue";class Xy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nv(this,"async_queue_retry"),this.Su=()=>{const a=bf();a&&nt(Ky,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ni;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;nt(Ky,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ui("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=vd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class ws extends uc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Xy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xy(e),this._firestoreClient=void 0,await e}}}function Q1(s,e){const i=typeof s=="object"?s:BT(),a=typeof s=="string"?s:Po,u=MT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=w0("firestore");h&&G1(u,...h)}return u}function Rd(s){if(s._terminated)throw new st(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||F1(s),s._firestoreClient}function F1(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,R){return new gA(g,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,bv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new B1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Pe.fromBase64String(e))}catch(i){throw new st(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Es(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^__.*__$/;class K1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class Dv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Mr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Cv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Vd{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Cv(this.Lu)&&Y1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class X1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ac(e)}ju(e,i,a,u=!1){return new Vd({Lu:e,methodName:i,zu:a,path:Be.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(s){const e=s._freezeSettings(),i=ac(s._databaseId);return new X1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Z1(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Id("Data must be an object, but it was:",d,a);const g=Iv(a,d);let _,v;if(h.merge)_=new hn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const M of h.mergeFields){const z=Xf(e,M,i);if(!d.contains(z))throw new st(Y.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);Nv(R,z)||R.push(z)}_=new hn(R),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new K1(new nn(g),_,v)}class hc extends wd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hc}}function $1(s,e,i,a){const u=s.ju(1,e,i);Id("Data must be an object, but it was:",u,a);const h=[],d=nn.empty();Nr(a,(_,v)=>{const R=Od(e,_,i);v=Rr(v);const M=u.Uu(R);if(v instanceof hc)h.push(R);else{const z=fc(v,M);z!=null&&(h.push(R),d.set(R,z))}});const g=new hn(h);return new Dv(d,g,u.fieldTransforms)}function J1(s,e,i,a,u,h){const d=s.ju(1,e,i),g=[Xf(e,a,i)],_=[u];if(h.length%2!=0)throw new st(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<h.length;z+=2)g.push(Xf(e,h[z])),_.push(h[z+1]);const v=[],R=nn.empty();for(let z=g.length-1;z>=0;--z)if(!Nv(v,g[z])){const j=g[z];let Z=_[z];Z=Rr(Z);const W=d.Uu(j);if(Z instanceof hc)v.push(j);else{const X=fc(Z,W);X!=null&&(v.push(j),R.set(j,X))}}const M=new hn(v);return new Dv(R,M,d.fieldTransforms)}function fc(s,e){if(Ov(s=Rr(s)))return Id("Unsupported field value:",e,s),Iv(s,e);if(s instanceof wd)return function(a,u){if(!Cv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=fc(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Rr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return PA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Qo(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qo(u.serializer,h)}}if(a instanceof Dd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Es)return{bytesValue:Q_(u.serializer,a._byteString)};if(a instanceof fn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:cd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Cd)return function(d,g){return{mapValue:{fields:{[T_]:{stringValue:A_},[ko]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return sd(g.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${bd(a)}`)}(s,e)}function Iv(s,e){const i={};return g_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(s,(a,u)=>{const h=fc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Ov(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Dd||s instanceof Es||s instanceof fn||s instanceof wd||s instanceof Cd)}function Id(s,e,i){if(!Ov(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=bd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Xf(s,e,i){if((e=Rr(e))instanceof cc)return e._internalPath;if(typeof e=="string")return Od(s,e);throw Xo("Field path arguments must be of type string or ",s,!1,void 0,i)}const W1=new RegExp("[~\\*/\\[\\]]");function Od(s,e,i){if(e.search(W1)>=0)throw Xo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cc(...e.split("."))._internalPath}catch{throw Xo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new st(Y.INVALID_ARGUMENT,g+s+_)}function Nv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Uv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tb extends Mv{data(){return super.data()}}function Uv(s,e){return typeof e=="string"?Od(s,e):e instanceof cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new st(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{convertValue(e,i="none"){switch(Vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Nr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[ko].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Cd(h)}convertGeoPoint(e){return new Dd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Jo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=Dr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Zt.fromString(e);Ht($_(a));const u=new Yl(a.get(1),a.get(3)),h=new ct(a.popFirst(5));return u.isEqual(i)||Ui(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xv extends Mv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Uv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uo extends xv{data(e={}){return super.data(e)}}class rb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Bl(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Uo(this._firestore,this._userDataWriter,a.key,a,new Bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),R=d.indexOf(g.doc.key)),{type:ab(g.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function ab(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){s=Li(s,fn);const e=Li(s.firestore,ws);return q1(Rd(e),s._key).then(i=>hb(e,s,i))}class Lv extends nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function lb(s){s=Li(s,oc);const e=Li(s.firestore,ws),i=Rd(e),a=new Lv(e);return eb(s._query),H1(i,s._query).then(u=>new rb(e,a,s,u))}function ub(s,e,i,...a){s=Li(s,fn);const u=Li(s.firestore,ws),h=Vv(u);let d;return d=typeof(e=Rr(e))=="string"||e instanceof cc?J1(h,"updateDoc",s._key,e,i,a):$1(h,"updateDoc",s._key,e),Nd(u,[d.toMutation(s._key,Ln.exists(!0))])}function ob(s){return Nd(Li(s.firestore,ws),[new ld(s._key,Ln.none())])}function cb(s,e){const i=Li(s.firestore,ws),a=Mo(s),u=ib(s.converter,e);return Nd(i,[Z1(Vv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ln.exists(!1))]).then(()=>a)}function Nd(s,e){return function(a,u){const h=new Ni;return a.asyncQueue.enqueueAndForget(async()=>V1(await k1(a),u,h)),h.promise}(Rd(s),e)}function hb(s,e,i){const a=i.docs.get(e._key),u=new Lv(s);return new xv(s,u,e._key,a,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){As=u})(zT),zo(new jl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new ws(new WT(a.getProvider("auth-internal")),new nA(d,a.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new st(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),fs(ey,ny,e),fs(ey,ny,"esm2017")})();const fb={apiKey:"AIzaSyDqgVFER5qlTGlj3WulPR3zGxHW5GisHSY",authDomain:"dynamo-web-c0e68.firebaseapp.com",projectId:"dynamo-web-c0e68",storageBucket:"dynamo-web-c0e68.firebasestorage.app",messagingSenderId:"200877536030",appId:"1:200877536030:web:1391eb69031725dc568f0f",measurementId:"G-GXBM1B0KST"},db=i_(fb),Ul=Q1(db);function mb(){const[s,e]=Wn.useState(!1),[i,a]=Wn.useState(""),[u,h]=Wn.useState(""),[d,g]=Wn.useState(null),[_,v]=Wn.useState({});Wn.useEffect(()=>{(async()=>{if(localStorage.getItem("adminAuth")==="true"){e(!0);return}const D=Mo(Ul,"config","admin"),I=await sb(D);I.exists()?h(I.data().adminPassword):console.error("No se encontró la contraseña en Firestore.")})()},[]);const R=()=>{i===u?(localStorage.setItem("adminAuth","true"),e(!0)):alert("Contraseña incorrecta.")},M=A=>{g(A.id),v({...A})},z=A=>{v({..._,[A.target.name]:A.target.value})},j=A=>{v(S=>({...S,cantidad:Math.max(0,Number(S.cantidad)+A)}))},Z=async()=>{await ub(Mo(Ul,"inventario",d),_),_t(X.map(A=>A.id===d?_:A)),g(null)},W=()=>{g(null),v({})},[X,_t]=Wn.useState([]),[ut,vt]=Wn.useState({nombre:"",descripcion:"",cantidad:"",estado:"",observaciones:""});Wn.useEffect(()=>{jt()},[]);const jt=async()=>{const S=(await lb(Yy(Ul,"inventario"))).docs.map(D=>({id:D.id,...D.data()}));_t(S)},mt=A=>{vt({...ut,[A.target.name]:A.target.value})},It=async A=>{A.preventDefault();const S=await cb(Yy(Ul,"inventario"),ut);_t([...X,{id:S.id,...ut}]),vt({nombre:"",descripcion:"",cantidad:"",estado:"",observaciones:""})},N=async A=>{await ob(Mo(Ul,"inventario",A)),_t(X.filter(S=>S.id!==A))};return At.jsx("div",{className:"flex-container",children:s?At.jsxs(At.Fragment,{children:[At.jsx("h1",{children:"Inventario Laboratorio de Impresión 3D"}),At.jsxs("form",{onSubmit:It,style:{marginBottom:"20px"},children:[At.jsx("input",{type:"text",name:"nombre",value:ut.nombre,onChange:mt,placeholder:"Nombre",required:!0}),At.jsx("input",{type:"text",name:"descripcion",value:ut.descripcion,onChange:mt,placeholder:"Descripción",required:!0}),At.jsx("input",{type:"number",name:"cantidad",value:ut.cantidad,onChange:mt,placeholder:"Cantidad",required:!0}),At.jsx("input",{type:"text",name:"estado",value:ut.estado,onChange:mt,placeholder:"Estado",required:!0}),At.jsx("input",{type:"text",name:"observaciones",value:ut.observaciones,onChange:mt,placeholder:"Observaciones"}),At.jsx("button",{type:"submit",children:"Agregar"})]}),At.jsx("h2",{children:"Lista de Items"}),X.length===0?At.jsx("p",{children:"No hay items en el inventario."}):At.jsx("ul",{children:X.map(A=>At.jsx("li",{children:d===A.id?At.jsxs(At.Fragment,{children:[At.jsx("input",{type:"text",name:"nombre",value:_.nombre,onChange:z}),At.jsx("input",{type:"text",name:"descripcion",value:_.descripcion,onChange:z}),At.jsxs("div",{className:"quantity--container",children:[At.jsx("button",{className:"quantity--button",onClick:()=>j(-1),children:"-"}),At.jsx("input",{className:"quantity--input",type:"number",name:"cantidad",value:_.cantidad,onChange:z,readOnly:!0}),At.jsx("button",{className:"quantity--button",onClick:()=>j(1),children:"+"})]}),At.jsx("input",{type:"text",name:"estado",value:_.estado,onChange:z}),At.jsx("input",{type:"text",name:"observaciones",value:_.observaciones,onChange:z}),At.jsx("button",{className:"confirm--button",onClick:Z,children:"Confirmar"}),At.jsx("button",{className:"cancel--button",onClick:W,children:"Cancelar"})]}):At.jsxs(At.Fragment,{children:[At.jsxs("p",{children:[At.jsx("strong",{children:A.nombre})," - ",A.descripcion]}),At.jsxs("p",{children:["Cantidad: ",A.cantidad," | Estado: ",A.estado," | Observaciones: ",A.observaciones]}),At.jsxs("div",{className:"options--container",children:[At.jsx("button",{className:"edit--button",onClick:()=>M(A),children:"Editar"}),At.jsx("button",{className:"delete--button",onClick:()=>N(A.id),children:"Borrar"})]})]})},A.id))})]}):At.jsxs("div",{children:[At.jsx("h1",{children:"Acceso Administrador"}),At.jsx("input",{type:"password",placeholder:"Ingresa la contraseña",value:i,onChange:A=>a(A.target.value)}),At.jsx("button",{onClick:R,children:"Ingresar"})]})})}p0.createRoot(document.getElementById("root")).render(At.jsx(Wn.StrictMode,{children:At.jsx(mb,{})}));
