(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var ff={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function l0(){if(xp)return Ol;xp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:r,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Up;function u0(){return Up||(Up=1,ff.exports=l0()),ff.exports}var tt=u0(),df={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function o0(){if(Lp)return At;Lp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),M=Symbol.iterator;function U(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,W={};function X(C,K,st){this.props=C,this.context=K,this.refs=W,this.updater=st||j}X.prototype.isReactComponent={},X.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},X.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function vt(){}vt.prototype=X.prototype;function ot(C,K,st){this.props=C,this.context=K,this.refs=W,this.updater=st||j}var Et=ot.prototype=new vt;Et.constructor=ot,Z(Et,X.prototype),Et.isPureReactComponent=!0;var Ht=Array.isArray,dt={H:null,A:null,T:null,S:null},It=Object.prototype.hasOwnProperty;function O(C,K,st,et,nt,St){return st=St.ref,{$$typeof:s,type:C,key:K,ref:st!==void 0?st:null,props:St}}function A(C,K){return O(C.type,K,void 0,void 0,void 0,C.props)}function S(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(st){return K[st]})}var I=/\/+/g;function z(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,K,st,et,nt){var St=typeof C;(St==="undefined"||St==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(St){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case s:case e:Tt=!0;break;case R:return Tt=C._init,oe(Tt(C._payload),K,st,et,nt)}}if(Tt)return nt=nt(C),Tt=et===""?"."+z(C,0):et,Ht(nt)?(st="",Tt!=null&&(st=Tt.replace(I,"$&/")+"/"),oe(nt,K,st,"",function(ee){return ee})):nt!=null&&(S(nt)&&(nt=A(nt,st+(nt.key==null||C&&C.key===nt.key?"":(""+nt.key).replace(I,"$&/")+"/")+Tt)),K.push(nt)),1;Tt=0;var ce=et===""?".":et+":";if(Ht(C))for(var Lt=0;Lt<C.length;Lt++)et=C[Lt],St=ce+z(et,Lt),Tt+=oe(et,K,st,St,nt);else if(Lt=U(C),typeof Lt=="function")for(C=Lt.call(C),Lt=0;!(et=C.next()).done;)et=et.value,St=ce+z(et,Lt++),Tt+=oe(et,K,st,St,nt);else if(St==="object"){if(typeof C.then=="function")return oe(ge(C),K,st,et,nt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function J(C,K,st){if(C==null)return C;var et=[],nt=0;return oe(C,et,"","",function(St){return K.call(st,St,nt++)}),et}function mt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(st){(C._status===0||C._status===-1)&&(C._status=1,C._result=st)},function(st){(C._status===0||C._status===-1)&&(C._status=2,C._result=st)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ct=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function kt(){}return At.Children={map:J,forEach:function(C,K,st){J(C,function(){K.apply(this,arguments)},st)},count:function(C){var K=0;return J(C,function(){K++}),K},toArray:function(C){return J(C,function(K){return K})||[]},only:function(C){if(!S(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=X,At.Fragment=i,At.Profiler=u,At.PureComponent=ot,At.StrictMode=r,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,K,st){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=Z({},C.props),nt=C.key,St=void 0;if(K!=null)for(Tt in K.ref!==void 0&&(St=void 0),K.key!==void 0&&(nt=""+K.key),K)!It.call(K,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&K.ref===void 0||(et[Tt]=K[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=st;else if(1<Tt){for(var ce=Array(Tt),Lt=0;Lt<Tt;Lt++)ce[Lt]=arguments[Lt+2];et.children=ce}return O(C.type,nt,void 0,void 0,St,et)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},At.createElement=function(C,K,st){var et,nt={},St=null;if(K!=null)for(et in K.key!==void 0&&(St=""+K.key),K)It.call(K,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=K[et]);var Tt=arguments.length-2;if(Tt===1)nt.children=st;else if(1<Tt){for(var ce=Array(Tt),Lt=0;Lt<Tt;Lt++)ce[Lt]=arguments[Lt+2];nt.children=ce}if(C&&C.defaultProps)for(et in Tt=C.defaultProps,Tt)nt[et]===void 0&&(nt[et]=Tt[et]);return O(C,St,void 0,void 0,null,nt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=S,At.lazy=function(C){return{$$typeof:R,_payload:{_status:-1,_result:C},_init:mt}},At.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},At.startTransition=function(C){var K=dt.T,st={};dt.T=st;try{var et=C(),nt=dt.S;nt!==null&&nt(st,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(kt,ct)}catch(St){ct(St)}finally{dt.T=K}},At.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},At.use=function(C){return dt.H.use(C)},At.useActionState=function(C,K,st){return dt.H.useActionState(C,K,st)},At.useCallback=function(C,K){return dt.H.useCallback(C,K)},At.useContext=function(C){return dt.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,K){return dt.H.useDeferredValue(C,K)},At.useEffect=function(C,K){return dt.H.useEffect(C,K)},At.useId=function(){return dt.H.useId()},At.useImperativeHandle=function(C,K,st){return dt.H.useImperativeHandle(C,K,st)},At.useInsertionEffect=function(C,K){return dt.H.useInsertionEffect(C,K)},At.useLayoutEffect=function(C,K){return dt.H.useLayoutEffect(C,K)},At.useMemo=function(C,K){return dt.H.useMemo(C,K)},At.useOptimistic=function(C,K){return dt.H.useOptimistic(C,K)},At.useReducer=function(C,K,st){return dt.H.useReducer(C,K,st)},At.useRef=function(C){return dt.H.useRef(C)},At.useState=function(C){return dt.H.useState(C)},At.useSyncExternalStore=function(C,K,st){return dt.H.useSyncExternalStore(C,K,st)},At.useTransition=function(){return dt.H.useTransition()},At.version="19.0.0",At}var zp;function Zf(){return zp||(zp=1,df.exports=o0()),df.exports}var Wn=Zf(),mf={exports:{}},Ml={},gf={exports:{}},pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function c0(){return Bp||(Bp=1,function(s){function e(J,mt){var ct=J.length;J.push(mt);t:for(;0<ct;){var kt=ct-1>>>1,C=J[kt];if(0<u(C,mt))J[kt]=mt,J[ct]=C,ct=kt;else break t}}function i(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var mt=J[0],ct=J.pop();if(ct!==mt){J[0]=ct;t:for(var kt=0,C=J.length,K=C>>>1;kt<K;){var st=2*(kt+1)-1,et=J[st],nt=st+1,St=J[nt];if(0>u(et,ct))nt<C&&0>u(St,et)?(J[kt]=St,J[nt]=ct,kt=nt):(J[kt]=et,J[st]=ct,kt=st);else if(nt<C&&0>u(St,ct))J[kt]=St,J[nt]=ct,kt=nt;else break t}}return mt}function u(J,mt){var ct=J.sortIndex-mt.sortIndex;return ct!==0?ct:J.id-mt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],R=1,M=null,U=3,j=!1,Z=!1,W=!1,X=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Et(J){for(var mt=i(v);mt!==null;){if(mt.callback===null)r(v);else if(mt.startTime<=J)r(v),mt.sortIndex=mt.expirationTime,e(_,mt);else break;mt=i(v)}}function Ht(J){if(W=!1,Et(J),!Z)if(i(_)!==null)Z=!0,ge();else{var mt=i(v);mt!==null&&oe(Ht,mt.startTime-J)}}var dt=!1,It=-1,O=5,A=-1;function S(){return!(s.unstable_now()-A<O)}function D(){if(dt){var J=s.unstable_now();A=J;var mt=!0;try{t:{Z=!1,W&&(W=!1,vt(It),It=-1),j=!0;var ct=U;try{e:{for(Et(J),M=i(_);M!==null&&!(M.expirationTime>J&&S());){var kt=M.callback;if(typeof kt=="function"){M.callback=null,U=M.priorityLevel;var C=kt(M.expirationTime<=J);if(J=s.unstable_now(),typeof C=="function"){M.callback=C,Et(J),mt=!0;break e}M===i(_)&&r(_),Et(J)}else r(_);M=i(_)}if(M!==null)mt=!0;else{var K=i(v);K!==null&&oe(Ht,K.startTime-J),mt=!1}}break t}finally{M=null,U=ct,j=!1}mt=void 0}}finally{mt?I():dt=!1}}}var I;if(typeof ot=="function")I=function(){ot(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,I=function(){w.postMessage(null)}}else I=function(){X(D,0)};function ge(){dt||(dt=!0,I())}function oe(J,mt){It=X(function(){J(s.unstable_now())},mt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){Z||j||(Z=!0,ge())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return U},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(J){switch(U){case 1:case 2:case 3:var mt=3;break;default:mt=U}var ct=U;U=mt;try{return J()}finally{U=ct}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,mt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ct=U;U=J;try{return mt()}finally{U=ct}},s.unstable_scheduleCallback=function(J,mt,ct){var kt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,J){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ct+C,J={id:R++,callback:mt,priorityLevel:J,startTime:ct,expirationTime:C,sortIndex:-1},ct>kt?(J.sortIndex=ct,e(v,J),i(_)===null&&J===i(v)&&(W?(vt(It),It=-1):W=!0,oe(Ht,ct-kt))):(J.sortIndex=C,e(_,J),Z||j||(Z=!0,ge())),J},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(J){var mt=U;return function(){var ct=U;U=mt;try{return J.apply(this,arguments)}finally{U=ct}}}}(pf)),pf}var Pp;function h0(){return Pp||(Pp=1,gf.exports=c0()),gf.exports}var yf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function f0(){if(kp)return je;kp=1;var s=Zf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var R=2;R<arguments.length;R++)v+="&args[]="+encodeURIComponent(arguments[R])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,R){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:_,containerInfo:v,implementation:R}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,je.createPortal=function(_,v){var R=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,R)},je.flushSync=function(_){var v=d.T,R=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=v,r.p=R,r.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,r.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var R=v.as,M=g(R,v.crossOrigin),U=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;R==="style"?r.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:U,fetchPriority:j}):R==="script"&&r.d.X(_,{crossOrigin:M,integrity:U,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var R=g(v.as,v.crossOrigin);r.d.M(_,{crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&r.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var R=v.as,M=g(R,v.crossOrigin);r.d.L(_,R,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var R=g(v.as,v.crossOrigin);r.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:R,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else r.d.m(_)},je.requestFormReset=function(_){r.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,R){return d.H.useFormState(_,v,R)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.0.0",je}var qp;function d0(){if(qp)return yf.exports;qp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),yf.exports=f0(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp;function m0(){if(jp)return Ml;jp=1;var s=h0(),e=Zf(),i=d0();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),vt=Symbol.for("react.memo"),ot=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),Ht=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function It(t){return t===null||typeof t!="object"?null:(t=dt&&t[dt]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case R:return"Profiler";case v:return"StrictMode";case W:return"Suspense";case X:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case U:return(t._context.displayName||"Context")+".Consumer";case Z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vt:return n=t.displayName||null,n!==null?n:A(t.type)||"Memo";case ot:n=t._payload,t=t._init;try{return A(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,I,z;function w(t){if(I===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+t+z}var ge=!1;function oe(t,n){if(!t||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var P=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){P=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){P=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===N.length)for(l=b.length-1,c=N.length-1;1<=l&&0<=c&&b[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==N[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?w(a):""}function J(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function mt(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ct(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function kt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ct(t)!==t)throw Error(r(188))}function K(t){var n=t.alternate;if(!n){if(n=ct(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,St={pending:!1,data:null,method:null,action:null},Tt=[],ce=-1;function Lt(t){return{current:t}}function ee(t){0>ce||(t.current=Tt[ce],Tt[ce]=null,ce--)}function Gt(t,n){ce++,Tt[ce]=t.current,t.current=n}var Fe=Lt(null),ri=Lt(null),dn=Lt(null),zi=Lt(null);function Bi(t,n){switch(Gt(dn,n),Gt(ri,t),Gt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?op(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=op(t),n=cp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Fe),Gt(Fe,n)}function si(){ee(Fe),ee(ri),ee(dn)}function Ds(t){t.memoizedState!==null&&Gt(zi,t);var n=Fe.current,a=cp(n,t.type);n!==a&&(Gt(ri,t),Gt(Fe,a))}function _r(t){ri.current===t&&(ee(Fe),ee(ri)),zi.current===t&&(ee(zi),Dl._currentValue=St)}var vr=Object.prototype.hasOwnProperty,xa=s.unstable_scheduleCallback,Er=s.unstable_cancelCallback,dc=s.unstable_shouldYield,Cs=s.unstable_requestPaint,Je=s.unstable_now,eu=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,nu=s.unstable_LowPriority,Vs=s.unstable_IdlePriority,mc=s.log,Ua=s.unstable_setDisableYieldValue,Pi=null,ke=null;function Is(t){if(ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof mc=="function"&&Ua(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pi,t)}catch{}}var Ye=Math.clz32?Math.clz32:au,Ns=Math.log,iu=Math.LN2;function au(t){return t>>>=0,t===0?32:31-(Ns(t)/iu|0)|0}var Bn=128,ki=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~c,a!==0?l=In(a):(f&=E,f!==0?l=In(f):t||(y=E&~y,y!==0&&(l=In(y))))):(E=a&~c,E!==0?l=In(E):f!==0?l=In(f):t||(y=a&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Tr(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Bn;return Bn<<=1,!(Bn&4194176)&&(Bn=128),t}function ji(){var t=ki;return ki<<=1,!(ki&62914560)&&(ki=4194304),t}function Ar(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ru(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,N=t.hiddenUpdates;for(a=y&~a;0<a;){var H=31-Ye(a),F=1<<H;E[H]=0,b[H]=-1;var P=N[H];if(P!==null)for(N[H]=null,H=0;H<P.length;H++){var q=P[H];q!==null&&(q.lane&=-536870913)}a&=~F}l!==0&&Hi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Hi(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Gi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Ye(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function su(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function lu(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Cp(t.type))}function Qi(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var Pn=Math.random().toString(36).slice(2),we="__reactFiber$"+Pn,ye="__reactProps$"+Pn,ui="__reactContainer$"+Pn,La="__reactEvents$"+Pn,Sr="__reactListeners$"+Pn,kn="__reactHandles$"+Pn,Ms="__reactResources$"+Pn,Fi="__reactMarker$"+Pn;function za(t){delete t[we],delete t[ye],delete t[La],delete t[Sr],delete t[kn]}function Nn(t){var n=t[we];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ui]||a[we]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=dp(t);t!==null;){if(a=t[we])return a;t=dp(t)}return n}t=a,a=t.parentNode}return null}function oi(t){if(t=t[we]||t[ui]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Yi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ki(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Fi]=!0}var xs=new Set,br={};function an(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(br[t]=n,t=0;t<n.length;t++)xs.add(n[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Us={},Ls={};function uu(t){return vr.call(Ls,t)?!0:vr.call(Us,t)?!1:gc.test(t)?Ls[t]=!0:(Us[t]=!0,!1)}function Xi(t,n,a){if(uu(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Zi(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function gn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ou(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pc(t){var n=ou(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ba(t){t._valueTracker||(t._valueTracker=pc(t))}function zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=ou(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Rr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function ne(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function $i(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?wr(t,y,Ke(n)):a!=null?wr(t,y,Ke(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Pa(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ke(a):"",n=n!=null?""+Ke(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function wr(t,n,a){n==="number"&&Rr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zt(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ke(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function ka(t,n,a){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ke(a):""}function Ji(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(et(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ke(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bs(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||yc.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cu(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Bs(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Bs(t,f,n[f])}function Ps(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _c=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return vc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function Dr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=oi(t);if(n&&(t=n.stateNode)){var a=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if($i(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(r(90));$i(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&zs(l)}break t;case"textarea":ka(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(t,!!a.multiple,n,!1)}}}var ks=!1;function hu(t,n,a){if(ks)return t(n,a);ks=!0;try{var l=t(n);return l}finally{if(ks=!1,(hi!==null||fi!==null)&&(no(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function qa(t,n){var a=t.stateNode;if(a===null)return null;var l=a[ye]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var _n=!1;if(rn)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){_n=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{_n=!1}var jn=null,Wi=null,mi=null;function qs(){if(mi)return mi;var t,n=Wi,a=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Hn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function js(){return!1}function De(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:js,this.isPropagationStopped=js,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cr=De(qt),Ha=D({},qt,{view:0,detail:0}),fu=De(Ha),Vr,Ir,Qn,Ga=D({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Vr=t.screenX-Qn.screenX,Ir=t.screenY-Qn.screenY):Ir=Vr=0,Qn=t),Vr)},movementY:function(t){return"movementY"in t?t.movementY:Ir}}),vn=De(Ga),du=D({},Ga,{dataTransfer:0}),Ec=De(du),Qa=D({},Ha,{relatedTarget:0}),Nr=De(Qa),Hs=D({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Or=De(Hs),mu=D({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mr=De(mu),Tc=D({},qt,{data:0}),Gs=De(Tc),Fa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pu[t])?!!n[t]:!1}function Ya(){return Qs}var yu=D({},Ha,{key:function(t){if(t.key){var n=Fa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Hn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?Hn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xr=De(yu),_u=D({},Ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=De(_u),gi=D({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),vu=De(gi),Eu=D({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=De(Eu),Au=D({},Ga,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ur=De(Au),Xe=D({},qt,{newState:0,oldState:0}),Su=De(Xe),bu=[9,13,27,32],Fn=rn&&"CompositionEvent"in window,o=null;rn&&"documentMode"in document&&(o=document.documentMode);var m=rn&&"TextEvent"in window&&!o,p=rn&&(!Fn||o&&8<o&&11>=o),T=" ",L=!1;function k(t,n){switch(t){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function _e(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Fn&&k(t,n)?(t=qs(),mi=Wi=jn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function pi(t,n,a,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=lo(n,"onChange"),0<n.length&&(a=new Cr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Me=null,Yn=null;function Ys(t){ap(t,0)}function Ru(t){var n=Yi(t);if(zs(n))return t}function Md(t,n){if(t==="change")return n}var xd=!1;if(rn){var Ac;if(rn){var Sc="oninput"in document;if(!Sc){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),Sc=typeof Ud.oninput=="function"}Ac=Sc}else Ac=!1;xd=Ac&&(!document.documentMode||9<document.documentMode)}function Ld(){Me&&(Me.detachEvent("onpropertychange",zd),Yn=Me=null)}function zd(t){if(t.propertyName==="value"&&Ru(Yn)){var n=[];pi(n,Yn,t,Dr(t)),hu(Ys,n)}}function zv(t,n,a){t==="focusin"?(Ld(),Me=n,Yn=a,Me.attachEvent("onpropertychange",zd)):t==="focusout"&&Ld()}function Bv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Yn)}function Pv(t,n){if(t==="click")return Ru(n)}function kv(t,n){if(t==="input"||t==="change")return Ru(n)}function qv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:qv;function Ks(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!vr.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,n){var a=Bd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Bd(a)}}function kd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?kd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function qd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Rr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Rr(t.document)}return n}function bc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function jv(t,n){var a=qd(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&kd(n.ownerDocument.documentElement,n)){if(l!==null&&bc(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!a.extend&&f>l&&(c=l,l=f,f=c),c=Pd(n,f);var y=Pd(n,l);c&&y&&(a.rangeCount!==1||a.anchorNode!==c.node||a.anchorOffset!==c.offset||a.focusNode!==y.node||a.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),a.removeAllRanges(),f>l?(a.addRange(t),a.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Hv=rn&&"documentMode"in document&&11>=document.documentMode,Lr=null,Rc=null,Xs=null,wc=!1;function jd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wc||Lr==null||Lr!==Rr(l)||(l=Lr,"selectionStart"in l&&bc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Ks(Xs,l)||(Xs=l,l=lo(Rc,"onSelect"),0<l.length&&(n=new Cr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Lr)))}function Ka(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var zr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Dc={},Hd={};rn&&(Hd=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Xa(t){if(Dc[t])return Dc[t];if(!zr[t])return t;var n=zr[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Hd)return Dc[t]=n[a];return t}var Gd=Xa("animationend"),Qd=Xa("animationiteration"),Fd=Xa("animationstart"),Gv=Xa("transitionrun"),Qv=Xa("transitionstart"),Fv=Xa("transitioncancel"),Yd=Xa("transitionend"),Kd=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Kd.set(t,n),an(n,[t])}var En=[],Br=0,Cc=0;function wu(){for(var t=Br,n=Cc=Br=0;n<t;){var a=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Zd(a,c,f)}}function Du(t,n,a,l){En[Br++]=t,En[Br++]=n,En[Br++]=a,En[Br++]=l,Cc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Vc(t,n,a,l){return Du(t,n,a,l),Cu(t)}function ta(t,n){return Du(t,null,null,n),Cu(t)}function Zd(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ye(a),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=a|536870912)}function Cu(t){if(50<El)throw El=0,Uh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pr={},$d=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var a=$d.get(t);return a!==void 0?a:(n={value:t,source:n,stack:mt(n)},$d.set(t,n),n)}return{value:t,source:n,stack:mt(n)}}var kr=[],qr=0,Vu=null,Iu=0,An=[],Sn=0,Za=null,yi=1,_i="";function $a(t,n){kr[qr++]=Iu,kr[qr++]=Vu,Vu=t,Iu=n}function Jd(t,n,a){An[Sn++]=yi,An[Sn++]=_i,An[Sn++]=Za,Za=t;var l=yi;t=_i;var c=32-Ye(l)-1;l&=~(1<<c),a+=1;var f=32-Ye(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,yi=1<<32-Ye(n)+c|a<<c|l,_i=f+t}else yi=1<<f|a<<c|l,_i=t}function Ic(t){t.return!==null&&($a(t,1),Jd(t,1,0))}function Nc(t){for(;t===Vu;)Vu=kr[--qr],kr[qr]=null,Iu=kr[--qr],kr[qr]=null;for(;t===Za;)Za=An[--Sn],An[Sn]=null,_i=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null}var Ze=null,xe=null,Bt=!1,Mn=null,Kn=!1,Oc=Error(r(519));function Ja(t){var n=Error(r(418,""));throw Js(Tn(n,t)),Oc}function Wd(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[we]=t,n[ye]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Al.length;a++)Vt(Al[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Pa(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ba(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Ji(n,l.value,l.defaultValue,l.children),Ba(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||up(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=uo),n=!0):n=!1,n||Ja(t)}function tm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function Zs(t){if(t!==Ze)return!1;if(!Bt)return tm(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jh(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&xe&&Ja(t),tm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){xe=Un(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}xe=null}}else xe=Ze?Un(t.stateNode.nextSibling):null;return!0}function $s(){xe=Ze=null,Bt=!1}function Js(t){Mn===null?Mn=[t]:Mn.push(t)}var Ws=Error(r(460)),em=Error(r(474)),Mc={then:function(){}};function nm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function im(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Nu,Nu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ws?Error(r(483)):t;default:if(typeof n.status=="string")n.then(Nu,Nu);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ws?Error(r(483)):t}throw tl=n,Ws}}var tl=null;function am(){if(tl===null)throw Error(r(459));var t=tl;return tl=null,t}var jr=null,el=0;function Ou(t){var n=el;return el+=1,jr===null&&(jr=[]),im(jr,t,n)}function nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===h?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function rm(t){var n=t._init;return n(t._payload)}function sm(t){function n(x,V){if(t){var B=x.deletions;B===null?(x.deletions=[V],x.flags|=16):B.push(V)}}function a(x,V){if(!t)return null;for(;V!==null;)n(x,V),V=V.sibling;return null}function l(x){for(var V=new Map;x!==null;)x.key!==null?V.set(x.key,x):V.set(x.index,x),x=x.sibling;return V}function c(x,V){return x=fa(x,V),x.index=0,x.sibling=null,x}function f(x,V,B){return x.index=B,t?(B=x.alternate,B!==null?(B=B.index,B<V?(x.flags|=33554434,V):B):(x.flags|=33554434,V)):(x.flags|=1048576,V)}function y(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,V,B,G){return V===null||V.tag!==6?(V=Dh(B,x.mode,G),V.return=x,V):(V=c(V,B),V.return=x,V)}function b(x,V,B,G){var at=B.type;return at===_?H(x,V,B.props.children,G,B.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===ot&&rm(at)===V.type)?(V=c(V,B.props),nl(V,B),V.return=x,V):(V=$u(B.type,B.key,B.props,null,x.mode,G),nl(V,B),V.return=x,V)}function N(x,V,B,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Ch(B,x.mode,G),V.return=x,V):(V=c(V,B.children||[]),V.return=x,V)}function H(x,V,B,G,at){return V===null||V.tag!==7?(V=ur(B,x.mode,G,at),V.return=x,V):(V=c(V,B),V.return=x,V)}function F(x,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Dh(""+V,x.mode,B),V.return=x,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return B=$u(V.type,V.key,V.props,null,x.mode,B),nl(B,V),B.return=x,B;case g:return V=Ch(V,x.mode,B),V.return=x,V;case ot:var G=V._init;return V=G(V._payload),F(x,V,B)}if(et(V)||It(V))return V=ur(V,x.mode,B,null),V.return=x,V;if(typeof V.then=="function")return F(x,Ou(V),B);if(V.$$typeof===j)return F(x,Ku(x,V),B);Mu(x,V)}return null}function P(x,V,B,G){var at=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return at!==null?null:E(x,V,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===at?b(x,V,B,G):null;case g:return B.key===at?N(x,V,B,G):null;case ot:return at=B._init,B=at(B._payload),P(x,V,B,G)}if(et(B)||It(B))return at!==null?null:H(x,V,B,G,null);if(typeof B.then=="function")return P(x,V,Ou(B),G);if(B.$$typeof===j)return P(x,V,Ku(x,B),G);Mu(x,B)}return null}function q(x,V,B,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return x=x.get(B)||null,E(V,x,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return x=x.get(G.key===null?B:G.key)||null,b(V,x,G,at);case g:return x=x.get(G.key===null?B:G.key)||null,N(V,x,G,at);case ot:var Rt=G._init;return G=Rt(G._payload),q(x,V,B,G,at)}if(et(G)||It(G))return x=x.get(B)||null,H(V,x,G,at,null);if(typeof G.then=="function")return q(x,V,B,Ou(G),at);if(G.$$typeof===j)return q(x,V,B,Ku(V,G),at);Mu(V,G)}return null}function rt(x,V,B,G){for(var at=null,Rt=null,ut=V,ft=V=0,Ne=null;ut!==null&&ft<B.length;ft++){ut.index>ft?(Ne=ut,ut=null):Ne=ut.sibling;var Pt=P(x,ut,B[ft],G);if(Pt===null){ut===null&&(ut=Ne);break}t&&ut&&Pt.alternate===null&&n(x,ut),V=f(Pt,V,ft),Rt===null?at=Pt:Rt.sibling=Pt,Rt=Pt,ut=Ne}if(ft===B.length)return a(x,ut),Bt&&$a(x,ft),at;if(ut===null){for(;ft<B.length;ft++)ut=F(x,B[ft],G),ut!==null&&(V=f(ut,V,ft),Rt===null?at=ut:Rt.sibling=ut,Rt=ut);return Bt&&$a(x,ft),at}for(ut=l(ut);ft<B.length;ft++)Ne=q(ut,x,ft,B[ft],G),Ne!==null&&(t&&Ne.alternate!==null&&ut.delete(Ne.key===null?ft:Ne.key),V=f(Ne,V,ft),Rt===null?at=Ne:Rt.sibling=Ne,Rt=Ne);return t&&ut.forEach(function(va){return n(x,va)}),Bt&&$a(x,ft),at}function yt(x,V,B,G){if(B==null)throw Error(r(151));for(var at=null,Rt=null,ut=V,ft=V=0,Ne=null,Pt=B.next();ut!==null&&!Pt.done;ft++,Pt=B.next()){ut.index>ft?(Ne=ut,ut=null):Ne=ut.sibling;var va=P(x,ut,Pt.value,G);if(va===null){ut===null&&(ut=Ne);break}t&&ut&&va.alternate===null&&n(x,ut),V=f(va,V,ft),Rt===null?at=va:Rt.sibling=va,Rt=va,ut=Ne}if(Pt.done)return a(x,ut),Bt&&$a(x,ft),at;if(ut===null){for(;!Pt.done;ft++,Pt=B.next())Pt=F(x,Pt.value,G),Pt!==null&&(V=f(Pt,V,ft),Rt===null?at=Pt:Rt.sibling=Pt,Rt=Pt);return Bt&&$a(x,ft),at}for(ut=l(ut);!Pt.done;ft++,Pt=B.next())Pt=q(ut,x,ft,Pt.value,G),Pt!==null&&(t&&Pt.alternate!==null&&ut.delete(Pt.key===null?ft:Pt.key),V=f(Pt,V,ft),Rt===null?at=Pt:Rt.sibling=Pt,Rt=Pt);return t&&ut.forEach(function(s0){return n(x,s0)}),Bt&&$a(x,ft),at}function re(x,V,B,G){if(typeof B=="object"&&B!==null&&B.type===_&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:t:{for(var at=B.key;V!==null;){if(V.key===at){if(at=B.type,at===_){if(V.tag===7){a(x,V.sibling),G=c(V,B.props.children),G.return=x,x=G;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===ot&&rm(at)===V.type){a(x,V.sibling),G=c(V,B.props),nl(G,B),G.return=x,x=G;break t}a(x,V);break}else n(x,V);V=V.sibling}B.type===_?(G=ur(B.props.children,x.mode,G,B.key),G.return=x,x=G):(G=$u(B.type,B.key,B.props,null,x.mode,G),nl(G,B),G.return=x,x=G)}return y(x);case g:t:{for(at=B.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(x,V.sibling),G=c(V,B.children||[]),G.return=x,x=G;break t}else{a(x,V);break}else n(x,V);V=V.sibling}G=Ch(B,x.mode,G),G.return=x,x=G}return y(x);case ot:return at=B._init,B=at(B._payload),re(x,V,B,G)}if(et(B))return rt(x,V,B,G);if(It(B)){if(at=It(B),typeof at!="function")throw Error(r(150));return B=at.call(B),yt(x,V,B,G)}if(typeof B.then=="function")return re(x,V,Ou(B),G);if(B.$$typeof===j)return re(x,V,Ku(x,B),G);Mu(x,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(a(x,V.sibling),G=c(V,B),G.return=x,x=G):(a(x,V),G=Dh(B,x.mode,G),G.return=x,x=G),y(x)):a(x,V)}return function(x,V,B,G){try{el=0;var at=re(x,V,B,G);return jr=null,at}catch(ut){if(ut===Ws)throw ut;var Rt=Dn(29,ut,null,x.mode);return Rt.lanes=G,Rt.return=x,Rt}finally{}}}var Wa=sm(!0),lm=sm(!1),Hr=Lt(null),xu=Lt(0);function um(t,n){t=Vi,Gt(xu,t),Gt(Hr,n),Vi=t|n.baseLanes}function xc(){Gt(xu,Vi),Gt(Hr,Hr.current)}function Uc(){Vi=xu.current,ee(Hr),ee(xu)}var bn=Lt(null),Xn=null;function ea(t){var n=t.alternate;Gt(Ee,Ee.current&1),Gt(bn,t),Xn===null&&(n===null||Hr.current!==null||n.memoizedState!==null)&&(Xn=t)}function om(t){if(t.tag===22){if(Gt(Ee,Ee.current),Gt(bn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else na()}function na(){Gt(Ee,Ee.current),Gt(bn,bn.current)}function vi(t){ee(bn),Xn===t&&(Xn=null),ee(Ee)}var Ee=Lt(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Yv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Kv=s.unstable_scheduleCallback,Xv=s.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lc(){return{controller:new Yv,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Kv(Xv,function(){t.controller.abort()})}var al=null,zc=0,Gr=0,Qr=null;function Zv(t,n){if(al===null){var a=al=[];zc=0,Gr=Hh(),Qr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zc++,n.then(cm,cm),n}function cm(){if(--zc===0&&al!==null){Qr!==null&&(Qr.status="fulfilled");var t=al;al=null,Gr=0,Qr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $v(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var hm=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Zv(t,n),hm!==null&&hm(t,n)};var tr=Lt(null);function Bc(){var t=tr.current;return t!==null?t:Kt.pooledCache}function Lu(t,n){n===null?Gt(tr,tr.current):Gt(tr,n.pool)}function fm(){var t=Bc();return t===null?null:{parent:Te._currentValue,pool:t}}var ia=0,bt=null,Qt=null,he=null,zu=!1,Fr=!1,er=!1,Bu=0,rl=0,Yr=null,Jv=0;function le(){throw Error(r(321))}function Pc(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!sn(t[a],n[a]))return!1;return!0}function kc(t,n,a,l,c,f){return ia=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?nr:aa,er=!1,f=a(l,c),er=!1,Fr&&(f=mm(n,a,l,c)),dm(t),f}function dm(t){S.H=Zn;var n=Qt!==null&&Qt.next!==null;if(ia=0,he=Qt=bt=null,zu=!1,rl=0,Yr=null,n)throw Error(r(300));t===null||Ve||(t=t.dependencies,t!==null&&Yu(t)&&(Ve=!0))}function mm(t,n,a,l){bt=t;var c=0;do{if(Fr&&(Yr=null),rl=0,Fr=!1,25<=c)throw Error(r(301));if(c+=1,he=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=ir,f=n(a,l)}while(Fr);return f}function Wv(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function qc(){var t=Bu!==0;return Bu=0,t}function jc(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Hc(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}ia=0,he=Qt=bt=null,Fr=!1,rl=Bu=0,Yr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?bt.memoizedState=he=t:he=he.next=t,he}function fe(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=he===null?bt.memoizedState:he.next;if(n!==null)he=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},he===null?bt.memoizedState=he=t:he=he.next=t}return he}var Pu;Pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var n=rl;return rl+=1,Yr===null&&(Yr=[]),t=im(Yr,t,n),n=bt,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?nr:aa),t}function ku(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===j)return qe(t)}throw Error(r(438,String(t)))}function Gc(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Pu(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=Ht;return n.index++,a}function Ei(t,n){return typeof n=="function"?n(t):n}function qu(t){var n=fe();return Qc(n,Qt,t)}function Qc(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,N=n,H=!1;do{var F=N.lane&-536870913;if(F!==N.lane?(Mt&F)===F:(ia&F)===F){var P=N.revertLane;if(P===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),F===Gr&&(H=!0);else if((ia&P)===P){N=N.next,P===Gr&&(H=!0);continue}else F={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,bt.lanes|=P,da|=P;F=N.action,er&&a(f,F),f=N.hasEagerState?N.eagerState:a(f,F)}else P={lane:F,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=P,y=f):b=b.next=P,bt.lanes|=F,da|=F;N=N.next}while(N!==null&&N!==n);if(b===null?y=f:b.next=E,!sn(f,t.memoizedState)&&(Ve=!0,H&&(a=Qr,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Fc(t){var n=fe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);sn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function gm(t,n,a){var l=bt,c=fe(),f=Bt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!sn((Qt||c).memoizedState,a);if(y&&(c.memoizedState=a,Ve=!0),c=c.queue,Xc(_m.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Kr(9,ym.bind(null,l,c,a,n),{destroy:void 0},null),Kt===null)throw Error(r(349));f||ia&60||pm(l,n,a)}return a}function pm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Pu(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ym(t,n,a,l){n.value=a,n.getSnapshot=l,vm(n)&&Em(t)}function _m(t,n,a){return a(function(){vm(n)&&Em(t)})}function vm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!sn(t,a)}catch{return!0}}function Em(t){var n=ta(t,2);n!==null&&$e(n,t,2)}function Yc(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),er){zn(!0);try{a()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Tm(t,n,a,l){return t.baseState=a,Qc(t,Qt,typeof l=="function"?l:Ei)}function tE(t,n,a,l,c){if(Gu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Am(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Am(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=S.T,y={};S.T=y;try{var E=a(c,l),b=S.S;b!==null&&b(y,E),Sm(t,n,E)}catch(N){Kc(t,n,N)}finally{S.T=f}}else try{f=a(c,l),Sm(t,n,f)}catch(N){Kc(t,n,N)}}function Sm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){bm(t,n,l)},function(l){return Kc(t,n,l)}):bm(t,n,a)}function bm(t,n,a){n.status="fulfilled",n.value=a,Rm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Am(t,a)))}function Kc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Rm(n),n=n.next;while(n!==l)}t.action=null}function Rm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function wm(t,n){return n}function Dm(t,n){if(Bt){var a=Kt.formState;if(a!==null){t:{var l=bt;if(Bt){if(xe){e:{for(var c=xe,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){xe=Un(c.nextSibling),l=c.data==="F!";break t}}Ja(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:n},a.queue=l,a=Qm.bind(null,bt,l),l.dispatch=a,l=Yc(!1),f=th.bind(null,bt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=tE.bind(null,bt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Cm(t){var n=fe();return Vm(n,Qt,t)}function Vm(t,n,a){n=Qc(t,n,wm)[0],t=qu(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?sl(n):n;var l=fe(),c=l.queue,f=c.dispatch;return a!==l.memoizedState&&(bt.flags|=2048,Kr(9,eE.bind(null,c,a),{destroy:void 0},null)),[n,f,t]}function eE(t,n){t.action=n}function Im(t){var n=fe(),a=Qt;if(a!==null)return Vm(n,a,t);fe(),n=n.memoizedState,a=fe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Kr(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=bt.updateQueue,n===null&&(n=Pu(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Nm(){return fe().memoizedState}function ju(t,n,a,l){var c=tn();bt.flags|=t,c.memoizedState=Kr(1|n,a,{destroy:void 0},l===void 0?null:l)}function Hu(t,n,a,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&Pc(l,Qt.memoizedState.deps)?c.memoizedState=Kr(n,a,f,l):(bt.flags|=t,c.memoizedState=Kr(1|n,a,f,l))}function Om(t,n){ju(8390656,8,t,n)}function Xc(t,n){Hu(2048,8,t,n)}function Mm(t,n){return Hu(4,2,t,n)}function xm(t,n){return Hu(4,4,t,n)}function Um(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Lm(t,n,a){a=a!=null?a.concat([t]):null,Hu(4,4,Um.bind(null,n,t),a)}function Zc(){}function zm(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Pc(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Bm(t,n){var a=fe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Pc(n,l[1]))return l[0];if(l=t(),er){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l}function $c(t,n,a){return a===void 0||ia&1073741824?t.memoizedState=n:(t.memoizedState=a,t=kg(),bt.lanes|=t,da|=t,a)}function Pm(t,n,a,l){return sn(a,n)?a:Hr.current!==null?(t=$c(t,a,l),sn(t,n)||(Ve=!0),t):ia&42?(t=kg(),bt.lanes|=t,da|=t,n):(Ve=!0,t.memoizedState=a)}function km(t,n,a,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=S.T,E={};S.T=E,th(t,!1,n,a);try{var b=c(),N=S.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=$v(b,l);ll(t,n,H,cn(t))}else ll(t,n,l,cn(t))}catch(F){ll(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{nt.p=f,S.T=y}}function nE(){}function Jc(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=qm(t).queue;km(t,c,n,St,a===null?nE:function(){return jm(t),a(l)})}function qm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:St,baseState:St,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:St},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function jm(t){var n=qm(t).next.queue;ll(t,n,{},cn())}function Wc(){return qe(Dl)}function Hm(){return fe().memoizedState}function Gm(){return fe().memoizedState}function iE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=cn();t=la(a);var l=ua(n,t,a);l!==null&&($e(l,n,a),cl(l,n,a)),n={cache:Lc()},t.payload=n;return}n=n.return}}function aE(t,n,a){var l=cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Fm(n,a):(a=Vc(t,n,a,l),a!==null&&($e(a,t,l),Ym(a,n,l)))}function Qm(t,n,a){var l=cn();ll(t,n,a,l)}function ll(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Fm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return Du(t,n,c,0),Kt===null&&wu(),!1}catch{}finally{}if(a=Vc(t,n,c,l),a!==null)return $e(a,t,l),Ym(a,n,l),!0}return!1}function th(t,n,a,l){if(l={lane:2,revertLane:Hh(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(r(479))}else n=Vc(t,a,l,2),n!==null&&$e(n,t,2)}function Gu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Fm(t,n){Fr=zu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ym(t,n,a){if(a&4194176){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gi(t,a)}}var Zn={readContext:qe,use:ku,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};Zn.useCacheRefresh=le,Zn.useMemoCache=le,Zn.useHostTransitionStatus=le,Zn.useFormState=le,Zn.useActionState=le,Zn.useOptimistic=le;var nr={readContext:qe,use:ku,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:Om,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ju(4194308,4,Um.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ju(4194308,4,t,n)},useInsertionEffect:function(t,n){ju(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(er){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(er){zn(!0);try{a(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=aE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Yc(t);var n=t.queue,a=Qm.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Zc,useDeferredValue:function(t,n){var a=tn();return $c(a,t,n)},useTransition:function(){var t=Yc(!1);return t=km.bind(null,bt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,c=tn();if(Bt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Kt===null)throw Error(r(349));Mt&60||pm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Om(_m.bind(null,l,f,t),[t]),l.flags|=2048,Kr(9,ym.bind(null,l,f,a,n),{destroy:void 0},null),a},useId:function(){var t=tn(),n=Kt.identifierPrefix;if(Bt){var a=_i,l=yi;a=(l&~(1<<32-Ye(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=Bu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=Jv++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=iE.bind(null,bt)}};nr.useMemoCache=Gc,nr.useHostTransitionStatus=Wc,nr.useFormState=Dm,nr.useActionState=Dm,nr.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=th.bind(null,bt,!0,a),a.dispatch=n,[t,n]};var aa={readContext:qe,use:ku,useCallback:zm,useContext:qe,useEffect:Xc,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:xm,useMemo:Bm,useReducer:qu,useRef:Nm,useState:function(){return qu(Ei)},useDebugValue:Zc,useDeferredValue:function(t,n){var a=fe();return Pm(a,Qt.memoizedState,t,n)},useTransition:function(){var t=qu(Ei)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:gm,useId:Hm};aa.useCacheRefresh=Gm,aa.useMemoCache=Gc,aa.useHostTransitionStatus=Wc,aa.useFormState=Cm,aa.useActionState=Cm,aa.useOptimistic=function(t,n){var a=fe();return Tm(a,Qt,t,n)};var ir={readContext:qe,use:ku,useCallback:zm,useContext:qe,useEffect:Xc,useImperativeHandle:Lm,useInsertionEffect:Mm,useLayoutEffect:xm,useMemo:Bm,useReducer:Fc,useRef:Nm,useState:function(){return Fc(Ei)},useDebugValue:Zc,useDeferredValue:function(t,n){var a=fe();return Qt===null?$c(a,t,n):Pm(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Fc(Ei)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:gm,useId:Hm};ir.useCacheRefresh=Gm,ir.useMemoCache=Gc,ir.useHostTransitionStatus=Wc,ir.useFormState=Im,ir.useActionState=Im,ir.useOptimistic=function(t,n){var a=fe();return Qt!==null?Tm(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function eh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:D({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var nh={isMounted:function(t){return(t=t._reactInternals)?ct(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=cn(),c=la(l);c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&($e(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=cn(),c=la(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ua(t,c,l),n!==null&&($e(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=cn(),l=la(a);l.tag=2,n!=null&&(l.callback=n),n=ua(t,l,a),n!==null&&($e(n,t,a),cl(n,t,a))}};function Km(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ks(a,l)||!Ks(c,f):!0}function Xm(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&nh.enqueueReplaceState(n,n.state,null)}function ar(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=D({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Zm(t){Qu(t)}function $m(t){console.error(t)}function Jm(t){Qu(t)}function Fu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wm(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function ih(t,n,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,n)},a}function tg(t){return t=la(t),t.tag=3,t}function eg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Wm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Wm(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function rE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ol(n,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Xn===null?Bh():a.alternate===null&&ae===0&&(ae=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Mc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),kh(t,l,c)),!1;case 22:return a.flags|=65536,l===Mc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),kh(t,l,c)),!1}throw Error(r(435,a.tag))}return kh(t,l,c),Bh(),!1}if(Bt)return n=bn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Oc&&(t=Error(r(422),{cause:l}),Js(Tn(t,a)))):(l!==Oc&&(n=Error(r(423),{cause:l}),Js(Tn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,a),c=ih(t.stateNode,l,c),_h(t,c),ae!==4&&(ae=2)),!1;var f=Error(r(520),{cause:l});if(f=Tn(f,a),_l===null?_l=[f]:_l.push(f),ae!==4&&(ae=2),n===null)return!0;l=Tn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=ih(a.stateNode,l,t),_h(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=tg(c),eg(c,t,a,l),_h(a,c),!1}a=a.return}while(a!==null);return!1}var ng=Error(r(461)),Ve=!1;function Ue(t,n,a,l){n.child=t===null?lm(n,null,a,l):Wa(n,t.child,a,l)}function ig(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return sr(n),l=kc(t,n,a,y,f,c),E=qc(),t!==null&&!Ve?(jc(t,n,c),Ti(t,n,c)):(Bt&&E&&Ic(n),n.flags|=1,Ue(t,n,l,c),n.child)}function ag(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!wh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,rg(t,n,f,l,c)):(t=$u(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!fh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:Ks,a(y,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=fa(f,l),t.ref=n.ref,t.return=n,n.child=t}function rg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(Ks(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,fh(t,c))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ah(t,n,a,l,c)}function sg(t,n,a){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ul(t,n),l.mode==="hidden"||f){if(n.flags&128){if(l=y!==null?y.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return lg(t,n,l,a)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,y!==null?y.cachePool:null),y!==null?um(n,y):xc(),om(n);else return n.lanes=n.childLanes=536870912,lg(t,n,y!==null?y.baseLanes|a:a,a)}else y!==null?(Lu(n,y.cachePool),um(n,y),na(),n.memoizedState=null):(t!==null&&Lu(n,null),xc(),na());return Ue(t,n,c,a),n.child}function lg(t,n,a,l){var c=Bc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Lu(n,null),xc(),om(n),t!==null&&ol(t,n,l,!0),null}function ul(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function ah(t,n,a,l,c){return sr(n),a=kc(t,n,a,l,void 0,c),l=qc(),t!==null&&!Ve?(jc(t,n,c),Ti(t,n,c)):(Bt&&l&&Ic(n),n.flags|=1,Ue(t,n,a,c),n.child)}function ug(t,n,a,l,c,f){return sr(n),n.updateQueue=null,a=mm(n,l,a,c),dm(t),l=qc(),t!==null&&!Ve?(jc(t,n,f),Ti(t,n,f)):(Bt&&l&&Ic(n),n.flags|=1,Ue(t,n,a,f),n.child)}function og(t,n,a,l,c){if(sr(n),n.stateNode===null){var f=Pr,y=a.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=nh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ph(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Pr,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(eh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&nh.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ar(a,E);f.props=b;var N=f.context,H=a.contextType;y=Pr,typeof H=="object"&&H!==null&&(y=qe(H));var F=a.getDerivedStateFromProps;H=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&Xm(n,f,l,y),sa=!1;var P=n.memoizedState;f.state=P,fl(n,l,f,c),hl(),N=n.memoizedState,E||P!==N||sa?(typeof F=="function"&&(eh(n,a,F,l),N=n.memoizedState),(b=sa||Km(n,a,b,l,P,N,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,yh(t,n),y=n.memoizedProps,H=ar(a,y),f.props=H,F=n.pendingProps,P=f.context,N=a.contextType,b=Pr,typeof N=="object"&&N!==null&&(b=qe(N)),E=a.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||P!==b)&&Xm(n,f,l,b),sa=!1,P=n.memoizedState,f.state=P,fl(n,l,f,c),hl();var q=n.memoizedState;y!==F||P!==q||sa||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(eh(n,a,E,l),q=n.memoizedState),(H=sa||Km(n,a,H,l,P,q,b)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=H):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ul(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Wa(n,t.child,null,c),n.child=Wa(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=Ti(t,n,c),t}function cg(t,n,a,l){return $s(),n.flags|=256,Ue(t,n,a,l),n.child}var rh={dehydrated:null,treeContext:null,retryLane:0};function sh(t){return{baseLanes:t,cachePool:fm()}}function lh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Cn),t}function hg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?ea(n):na(),Bt){var E=xe,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Za!==null?{id:yi,overflow:_i}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,xe=null,b=!0):b=!1}b||Ja(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;vi(n)}return E=l.children,l=l.fallback,c?(na(),c=n.mode,E=oh({mode:"hidden",children:E},c),l=ur(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=sh(a),c.childLanes=lh(t,y,a),n.memoizedState=rh,l):(ea(n),uh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ea(n),n.flags&=-257,n=ch(t,n,a)):n.memoizedState!==null?(na(),n.child=t.child,n.flags|=128,n=null):(na(),c=l.fallback,E=n.mode,l=oh({mode:"visible",children:l.children},E),c=ur(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Wa(n,t.child,null,a),l=n.child,l.memoizedState=sh(a),l.childLanes=lh(t,y,a),n.memoizedState=rh,n=c);else if(ea(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,l=Error(r(419)),l.stack="",l.digest=y,Js({value:l,source:null,stack:null}),n=ch(t,n,a)}else if(Ve||ol(t,n,a,!1),y=(a&t.childLanes)!==0,Ve||y){if(y=Kt,y!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|a)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,ta(t,l),$e(y,t,l),ng}E.data==="$?"||Bh(),n=ch(t,n,a)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=EE.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,xe=Un(E.nextSibling),Ze=n,Bt=!0,Mn=null,Kn=!1,t!==null&&(An[Sn++]=yi,An[Sn++]=_i,An[Sn++]=Za,yi=t.id,_i=t.overflow,Za=n),n=uh(n,l.children),n.flags|=4096);return n}return c?(na(),c=l.fallback,E=n.mode,b=t.child,N=b.sibling,l=fa(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,N!==null?c=fa(N,c):(c=ur(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=sh(a):(b=E.cachePool,b!==null?(N=Te._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=fm(),E={baseLanes:E.baseLanes|a,cachePool:b}),c.memoizedState=E,c.childLanes=lh(t,y,a),n.memoizedState=rh,l):(ea(n),a=t.child,t=a.sibling,a=fa(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function uh(t,n){return n=oh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function oh(t,n){return zg(t,n,0,null)}function ch(t,n,a){return Wa(n,t.child,null,a),t=uh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),mh(t.return,n,a)}function hh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function dg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Ee.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,a,n);else if(t.tag===19)fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ee,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Uu(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),hh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}hh(n,!0,a,null,f);break;case"together":hh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),da|=n.lanes,!(a&n.childLanes))if(t!==null){if(ol(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=fa(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=fa(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function fh(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function sE(t,n,a){switch(n.tag){case 3:Bi(n,n.stateNode.containerInfo),ra(n,Te,t.memoizedState.cache),$s();break;case 27:case 5:Ds(n);break;case 4:Bi(n,n.stateNode.containerInfo);break;case 10:ra(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ea(n),n.flags|=128,null):a&n.child.childLanes?hg(t,n,a):(ea(n),t=Ti(t,n,a),t!==null?t.sibling:null);ea(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ol(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return dg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,sg(t,n,a);case 24:ra(n,Te,t.memoizedState.cache)}return Ti(t,n,a)}function mg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!fh(t,a)&&!(n.flags&128))return Ve=!1,sE(t,n,a);Ve=!!(t.flags&131072)}else Ve=!1,Bt&&n.flags&1048576&&Jd(n,Iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")wh(l)?(t=ar(l,t),n.tag=1,n=og(null,n,l,t,a)):(n.tag=0,n=ah(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===Z){n.tag=11,n=ig(null,n,l,t,a);break t}else if(c===vt){n.tag=14,n=ag(null,n,l,t,a);break t}}throw n=A(l)||l,Error(r(306,n,""))}}return n;case 0:return ah(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ar(l,n.pendingProps),og(t,n,l,c,a);case 3:t:{if(Bi(n,n.stateNode.containerInfo),t===null)throw Error(r(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,yh(t,n),fl(n,f,null,a);var y=n.memoizedState;if(f=y.cache,ra(n,Te,f),f!==c.cache&&gh(n,[Te],a,!0),hl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=cg(t,n,f,a);break t}else if(f!==l){l=Tn(Error(r(424)),n),Js(l),n=cg(t,n,f,a);break t}else for(xe=Un(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,Mn=null,Kn=!0,a=lm(n,null,f,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($s(),f===l){n=Ti(t,n,a);break t}Ue(t,n,f,a)}n=n.child}return n;case 26:return ul(t,n),t===null?(a=yp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=oo(dn.current).createElement(a),l[we]=n,l[ye]=t,Le(l,a,t),$t(l),n.stateNode=l):n.memoizedState=yp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ds(n),t===null&&Bt&&(l=n.stateNode=mp(n.type,n.pendingProps,dn.current),Ze=n,Kn=!0,xe=Un(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Ue(t,n,l,a):n.child=Wa(n,null,l,a),ul(t,n),n.child;case 5:return t===null&&Bt&&((c=l=xe)&&(l=LE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,xe=Un(l.firstChild),Kn=!1,c=!0):c=!1),c||Ja(n)),Ds(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Jh(c,f)?l=null:y!==null&&Jh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=kc(t,n,Wv,null,null,a),Dl._currentValue=c),ul(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=xe)&&(a=zE(a,n.pendingProps,Kn),a!==null?(n.stateNode=a,Ze=n,xe=null,t=!0):t=!1),t||Ja(n)),null;case 13:return hg(t,n,a);case 4:return Bi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Wa(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return ig(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ra(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,sr(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return ag(t,n,n.type,n.pendingProps,a);case 15:return rg(t,n,n.type,n.pendingProps,a);case 19:return dg(t,n,a);case 22:return sg(t,n,a);case 24:return sr(n),l=qe(Te),t===null?(c=Bc(),c===null&&(c=Kt,f=Lc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ph(n),ra(n,Te,c)):(t.lanes&a&&(yh(t,n),fl(n,null,null,a),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ra(n,Te,l)):(l=f.cache,ra(n,Te,l),l!==c.cache&&gh(n,[Te],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}var dh=Lt(null),rr=null,Ai=null;function ra(t,n,a){Gt(dh,n._currentValue),n._currentValue=a}function Si(t){t._currentValue=dh.current,ee(dh)}function mh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function gh(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),mh(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),mh(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===zi.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}c=c.return}t!==null&&gh(n,t,a,l),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function sr(t){rr=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return gg(rr,t)}function Ku(t,n){return rr===null&&sr(t),gg(t,n)}function gg(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ai===null){if(t===null)throw Error(r(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return a}var sa=!1;function ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function la(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ua(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Wt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Cu(t),Zd(t,null,a),n}return Du(t,l,n,a),Cu(t)}function cl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gi(t,a)}}function _h(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var vh=!1;function hl(){if(vh){var t=Qr;if(t!==null)throw t}}function fl(t,n,a,l){vh=!1;var c=t.updateQueue;sa=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=N:E.next=N,H.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,H=N=b=null,E=f;do{var P=E.lane&-536870913,q=P!==E.lane;if(q?(Mt&P)===P:(l&P)===P){P!==0&&P===Gr&&(vh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=t,yt=E;P=n;var re=a;switch(yt.tag){case 1:if(rt=yt.payload,typeof rt=="function"){F=rt.call(re,F,P);break t}F=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=yt.payload,P=typeof rt=="function"?rt.call(re,F,P):rt,P==null)break t;F=D({},F,P);break t;case 2:sa=!0}}P=E.callback,P!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[P]:q.push(P))}else q={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(N=H=q,b=F):H=H.next=q,y|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=F),c.baseState=b,c.firstBaseUpdate=N,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),da|=y,t.lanes=y,t.memoizedState=F}}function pg(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function yg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)pg(a[t],n)}function dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){Yt(n,n.return,E)}}function oa(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=a;try{E()}catch(N){Yt(c,b,N)}}}l=l.next}while(l!==f)}}catch(N){Yt(n,n.return,N)}}function _g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{yg(n,a)}catch(l){Yt(t,t.return,l)}}}function vg(t,n,a){a.props=ar(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function lr(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Yt(t,n,f)}}function ln(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Yt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Yt(t,n,c)}else a.current=null}function Eg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Yt(t,t.return,c)}}function Tg(t,n,a){try{var l=t.stateNode;NE(l,t.type,a,n),l[ye]=n}catch(c){Yt(t,t.return,c)}}function Ag(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Eh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ag(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Th(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=uo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Th(t,n,a),t=t.sibling;t!==null;)Th(t,n,a),t=t.sibling}function Xu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,n,a),t=t.sibling;t!==null;)Xu(t,n,a),t=t.sibling}var bi=!1,ie=!1,Ah=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,bg=!1;function lE(t,n){if(t=t.containerInfo,Zh=po,t=qd(t),bc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,b=-1,N=0,H=0,F=t,P=null;e:for(;;){for(var q;F!==a||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)P=F,F=q;for(;;){if(F===t)break e;if(P===a&&++N===c&&(E=y),P===f&&++H===l&&(b=y),(q=F.nextSibling)!==null)break;F=P,P=F.parentNode}F=q}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for($h={focusedElem:t,selectionRange:a},po=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var rt=ar(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Yt(a,a.return,yt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ef(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ef(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return rt=bg,bg=!1,rt}function Rg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wi(t,a),l&4&&dl(5,a);break;case 1:if(wi(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(E){Yt(a,a.return,E)}else{var c=ar(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Yt(a,a.return,E)}}l&64&&_g(a),l&512&&lr(a,a.return);break;case 3:if(wi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{yg(l,t)}catch(E){Yt(a,a.return,E)}}break;case 26:wi(t,a),l&512&&lr(a,a.return);break;case 27:case 5:wi(t,a),n===null&&l&4&&Eg(a),l&512&&lr(a,a.return);break;case 12:wi(t,a);break;case 13:wi(t,a),l&4&&Cg(t,a);break;case 22:if(c=a.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ie;var f=bi,y=ie;bi=c,(ie=n)&&!y?ca(t,a,(a.subtreeFlags&8772)!==0):wi(t,a),bi=f,ie=y}l&512&&(a.memoizedProps.mode==="manual"?lr(a,a.return):ln(a,a.return));break;default:wi(t,a)}}function wg(t){var n=t.alternate;n!==null&&(t.alternate=null,wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&za(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,un=!1;function Ri(t,n,a){for(a=a.child;a!==null;)Dg(t,n,a),a=a.sibling}function Dg(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pi,a)}catch{}switch(a.tag){case 26:ie||ln(a,n),Ri(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ie||ln(a,n);var l=de,c=un;for(de=a.stateNode,Ri(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);za(a),de=l,un=c;break;case 5:ie||ln(a,n);case 6:c=de;var f=un;if(de=null,Ri(t,n,a),de=c,un=f,de!==null)if(un)try{t=de,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Yt(a,n,y)}else try{de.removeChild(a.stateNode)}catch(y){Yt(a,n,y)}break;case 18:de!==null&&(un?(n=de,a=a.stateNode,n.nodeType===8?tf(n.parentNode,a):n.nodeType===1&&tf(n,a),Nl(n)):tf(de,a.stateNode));break;case 4:l=de,c=un,de=a.stateNode.containerInfo,un=!0,Ri(t,n,a),de=l,un=c;break;case 0:case 11:case 14:case 15:ie||oa(2,a,n),ie||oa(4,a,n),Ri(t,n,a);break;case 1:ie||(ln(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vg(a,n,l)),Ri(t,n,a);break;case 21:Ri(t,n,a);break;case 22:ie||ln(a,n),ie=(l=ie)||a.memoizedState!==null,Ri(t,n,a),ie=l;break;default:Ri(t,n,a)}}function Cg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(a){Yt(n,n.return,a)}}function uE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sg),n;default:throw Error(r(435,t.tag))}}function Sh(t,n){var a=uE(t);n.forEach(function(l){var c=TE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Rn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,un=!1;break t;case 3:de=E.stateNode.containerInfo,un=!0;break t;case 4:de=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(de===null)throw Error(r(160));Dg(f,y,c),de=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Vg(n,t),n=n.sibling}var xn=null;function Vg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),wn(t),l&4&&(oa(3,t,t.return),dl(3,t),oa(5,t,t.return));break;case 1:Rn(n,t),wn(t),l&512&&(ie||a===null||ln(a,a.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=xn;if(Rn(n,t),wn(t),l&512&&(ie||a===null||ln(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Fi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Le(f,l,a),f[we]=t,$t(f),l=f;break t;case"link":var y=Ep("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Ep("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Le(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[we]=t,$t(f),l=f}t.stateNode=l}else Tp(c,t.type,t.stateNode);else t.stateNode=vp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Tp(c,t.type,t.stateNode):vp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Tg(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var N=b.nextSibling,H=b.nodeName;b[Fi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=N}for(var F=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);Le(c,F,f),c[we]=t,c[ye]=f}catch(rt){Yt(t,t.return,rt)}}case 5:if(Rn(n,t),wn(t),l&512&&(ie||a===null||ln(a,a.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(rt){Yt(t,t.return,rt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Tg(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Ah=!0);break;case 6:if(Rn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(rt){Yt(t,t.return,rt)}}break;case 3:if(fo=null,c=xn,xn=co(n.containerInfo),Rn(n,t),xn=c,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(rt){Yt(t,t.return,rt)}Ah&&(Ah=!1,Ig(t));break;case 4:l=xn,xn=co(t.stateNode.containerInfo),Rn(n,t),wn(t),xn=l;break;case 12:Rn(n,t),wn(t);break;case 13:Rn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 22:if(l&512&&(ie||a===null||ln(a,a.return)),b=t.memoizedState!==null,N=a!==null&&a.memoizedState!==null,H=bi,F=ie,bi=H||b,ie=F||N,Rn(n,t),ie=F,bi=H,wn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=bi||ie,a===null||N||n||Xr(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){N=a=n;try{if(c=N.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(rt){Yt(N,N.return,rt)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(rt){Yt(N,N.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sh(t,a))));break;case 19:Rn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sh(t,l)));break;case 21:break;default:Rn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(Ag(a)){var l=a;break t}a=a.return}throw Error(r(160))}switch(l.tag){case 27:var c=l.stateNode,f=Eh(t);Xu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(pn(y,""),l.flags&=-33);var E=Eh(t);Xu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,N=Eh(t);Th(t,N,b);break;default:throw Error(r(161))}}}catch(H){Yt(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ig(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ig(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Rg(t,n.alternate,n),n=n.sibling}function Xr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:oa(4,n,n.return),Xr(n);break;case 1:ln(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&vg(n,n.return,a),Xr(n);break;case 26:case 27:case 5:ln(n,n.return),Xr(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Xr(n);break;default:Xr(n)}t=t.sibling}}function ca(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ca(c,f,a),dl(4,f);break;case 1:if(ca(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Yt(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)pg(b[c],E)}catch(N){Yt(l,l.return,N)}}a&&y&64&&_g(f),lr(f,f.return);break;case 26:case 27:case 5:ca(c,f,a),a&&l===null&&y&4&&Eg(f),lr(f,f.return);break;case 12:ca(c,f,a);break;case 13:ca(c,f,a),a&&y&4&&Cg(c,f);break;case 22:f.memoizedState===null&&ca(c,f,a),lr(f,f.return);break;default:ca(c,f,a)}n=n.sibling}}function bh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&il(a))}function Rh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function ha(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ng(t,n,a,l),n=n.sibling}function Ng(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ha(t,n,a,l),c&2048&&dl(9,n);break;case 3:ha(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){ha(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Yt(n,n.return,b)}}else ha(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?ha(t,n,a,l):ml(t,n):f._visibility&4?ha(t,n,a,l):(f._visibility|=4,Zr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&bh(n.alternate,n);break;case 24:ha(t,n,a,l),c&2048&&Rh(n.alternate,n);break;default:ha(t,n,a,l)}}function Zr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,b=l,N=y.flags;switch(y.tag){case 0:case 11:case 15:Zr(f,y,E,b,c),dl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Zr(f,y,E,b,c):ml(f,y):(H._visibility|=4,Zr(f,y,E,b,c)),c&&N&2048&&bh(y.alternate,y);break;case 24:Zr(f,y,E,b,c),c&&N&2048&&Rh(y.alternate,y);break;default:Zr(f,y,E,b,c)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:ml(a,l),c&2048&&bh(l.alternate,l);break;case 24:ml(a,l),c&2048&&Rh(l.alternate,l);break;default:ml(a,l)}n=n.sibling}}var gl=8192;function $r(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 26:$r(t),t.flags&gl&&t.memoizedState!==null&&ZE(xn,t.memoizedState,t.memoizedProps);break;case 5:$r(t);break;case 3:case 4:var n=xn;xn=co(t.stateNode.containerInfo),$r(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=gl,gl=16777216,$r(t),gl=n):$r(t));break;default:$r(t)}}function Mg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Ug(l,t)}Mg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xg(t),t=t.sibling}function xg(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&oa(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Zu(t)):pl(t);break;default:pl(t)}}function Zu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Ug(l,t)}Mg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:oa(8,n,n.return),Zu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Zu(n));break;default:Zu(n)}t=t.sibling}}function Ug(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:oa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(wg(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function oE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,a,l){return new oE(t,n,a,l)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fa(t,n){var a=t.alternate;return a===null?(a=Dn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lg(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $u(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")wh(t)&&(y=1);else if(typeof t=="string")y=KE(t,a,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return ur(a.children,c,f,n);case v:y=8,c|=24;break;case R:return t=Dn(12,a,n,c|2),t.elementType=R,t.lanes=f,t;case W:return t=Dn(13,a,n,c),t.elementType=W,t.lanes=f,t;case X:return t=Dn(19,a,n,c),t.elementType=X,t.lanes=f,t;case Et:return zg(a,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case j:y=10;break t;case U:y=9;break t;case Z:y=11;break t;case vt:y=14;break t;case ot:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Dn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ur(t,n,a,l){return t=Dn(7,t,l,n),t.lanes=a,t}function zg(t,n,a,l){t=Dn(22,t,l,n),t.elementType=Et,t.lanes=a;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(r(456));if(!(c._pendingVisibility&2)){var y=ta(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(r(456));if(c._pendingVisibility&2){var y=ta(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function Dh(t,n,a){return t=Dn(6,t,null,n),t.lanes=a,t}function Ch(t,n,a){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Di(t){t.flags|=4}function Bg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Ap(n)){if(n=bn.current,n!==null&&((Mt&4194176)===Mt?Xn!==null:(Mt&62914560)!==Mt&&!(Mt&536870912)||n!==Xn))throw tl=Mc,em;t.flags|=8192}}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,Wr|=n)}function yl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function cE(t,n,a){var l=n.pendingProps;switch(Nc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Te),si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?Di(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Lh(Mn),Mn=null))),Jt(n),null;case 26:return a=n.memoizedState,t===null?(Di(n),a!==null?(Jt(n),Bg(n,a)):(Jt(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Di(n),Jt(n),Bg(n,a)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Di(n),Jt(n),n.flags&=-16777217),null;case 27:_r(n),a=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Jt(n),null}t=Fe.current,Zs(n)?Wd(n):(t=mp(c,l,a),n.stateNode=t,Di(n))}return Jt(n),null;case 5:if(_r(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Jt(n),null}if(t=Fe.current,Zs(n))Wd(n);else{switch(c=oo(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[we]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Di(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Di(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=dn.current,Zs(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||up(t.nodeValue,a)),t||Ja(n)}else t=oo(t).createTextNode(l),t[we]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[we]=n}else $s(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(Lh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(vi(n),n):(vi(n),null)}if(vi(n),n.flags&128)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Ju(n,n.updateQueue),Jt(n),null;case 4:return si(),t===null&&Yh(n.stateNode.containerInfo),Jt(n),null;case 10:return Si(n.type),Jt(n),null;case 19:if(ee(Ee),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(ae!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(f=Uu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Lg(a,t),a=a.sibling;return Gt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Wu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Uu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return Jt(n),null}else 2*Je()-c.renderingStartTime>Wu&&a!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,Gt(Ee,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return vi(n),Uc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?a&536870912&&!(n.flags&128)&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),a=n.updateQueue,a!==null&&Ju(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ee(tr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Si(Te),Jt(n),null;case 25:return null}throw Error(r(156,n.tag))}function hE(t,n){switch(Nc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Te),si(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _r(n),null;case 13:if(vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));$s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Ee),null;case 4:return si(),null;case 10:return Si(n.type),null;case 22:case 23:return vi(n),Uc(),t!==null&&ee(tr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Te),null;case 25:return null;default:return null}}function Pg(t,n){switch(Nc(n),n.tag){case 3:Si(Te),si();break;case 26:case 27:case 5:_r(n);break;case 4:si();break;case 13:vi(n);break;case 19:ee(Ee);break;case 10:Si(n.type);break;case 22:case 23:vi(n),Uc(),t!==null&&ee(tr);break;case 24:Si(Te)}}var fE={getCacheForType:function(t){var n=qe(Te),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},dE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Kt=null,wt=null,Mt=0,Xt=0,on=null,Ci=!1,Jr=!1,Vh=!1,Vi=0,ae=0,da=0,or=0,Ih=0,Cn=0,Wr=0,_l=null,$n=null,Nh=!1,Oh=0,Wu=1/0,to=null,ma=null,eo=!1,cr=null,vl=0,Mh=0,xh=null,El=0,Uh=null;function cn(){if(Wt&2&&Mt!==0)return Mt&-Mt;if(S.T!==null){var t=Gr;return t!==0?t:Hh()}return lu()}function kg(){Cn===0&&(Cn=!(Mt&536870912)||Bt?Os():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function $e(t,n,a){(t===Kt&&Xt===2||t.cancelPendingCommit!==null)&&(ts(t,0),Ii(t,Mt,Cn,!1)),se(t,a),(!(Wt&2)||t!==Kt)&&(t===Kt&&(!(Wt&2)&&(or|=a),ae===4&&Ii(t,Mt,Cn,!1)),Jn(t))}function qg(t,n,a){if(Wt&6)throw Error(r(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||qi(t,n),c=l?pE(t,n):Ph(t,n,!0),f=l;do{if(c===0){Jr&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Ci);else{if(a=t.current.alternate,f&&!mE(a)){c=Ph(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&(ts(E,y).flags|=256),y=Ph(E,y,!1),y!==2){if(Vh&&!b){E.errorRecoveryDisabledLanes|=f,or|=f,c=4;break t}f=$n,$n=c,f!==null&&Lh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){ts(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(r(345));case 4:if((n&4194176)===n){Ii(l,n,Cn,!Ci);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(f=Oh+300-Je(),10<f)){if(Ii(l,n,Cn,!Ci),mn(l,0)!==0)break t;l.timeoutHandle=hp(jg.bind(null,l,a,$n,to,Nh,n,Cn,or,Wr,Ci,2,-0,0),f);break t}jg(l,a,$n,to,Nh,n,Cn,or,Wr,Ci,0,-0,0)}}break}while(!0);Jn(t)}function Lh(t){$n===null?$n=t:$n.push.apply($n,t)}function jg(t,n,a,l,c,f,y,E,b,N,H,F,P){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:XE},Og(n),n=$E(),n!==null)){t.cancelPendingCommit=n(Xg.bind(null,t,a,l,c,y,E,b,1,F,P)),Ii(t,f,y,!N);return}Xg(t,a,l,c,y,E,b,H,F,P)}function mE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!sn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,a,l){n&=~Ih,n&=~or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ye(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Hi(t,a,n)}function no(){return Wt&6?!0:(Tl(0),!1)}function zh(){if(wt!==null){if(Xt===0)var t=wt.return;else t=wt,Ai=rr=null,Hc(t),jr=null,el=0,t=wt;for(;t!==null;)Pg(t.alternate,t),t=t.return;wt=null}}function ts(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ME(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),zh(),Kt=t,wt=a=fa(t.current,null),Mt=n,Xt=0,on=null,Ci=!1,Jr=qi(t,n),Vh=!1,Wr=Cn=Ih=or=da=ae=0,$n=_l=null,Nh=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),f=1<<c;n|=t[c],l&=~f}return Vi=n,wu(),a}function Hg(t,n){bt=null,S.H=Zn,n===Ws?(n=am(),Xt=3):n===em?(n=am(),Xt=4):Xt=n===ng?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,wt===null&&(ae=1,Fu(t,Tn(n,t.current)))}function Gg(){var t=S.H;return S.H=Zn,t===null?Zn:t}function Qg(){var t=S.A;return S.A=fE,t}function Bh(){ae=4,Ci||(Mt&4194176)!==Mt&&bn.current!==null||(Jr=!0),!(da&134217727)&&!(or&134217727)||Kt===null||Ii(Kt,Mt,Cn,!1)}function Ph(t,n,a){var l=Wt;Wt|=2;var c=Gg(),f=Qg();(Kt!==t||Mt!==n)&&(to=null,ts(t,n)),n=!1;var y=ae;t:do try{if(Xt!==0&&wt!==null){var E=wt,b=on;switch(Xt){case 8:zh(),y=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var N=Xt;if(Xt=0,on=null,es(t,E,b,N),a&&Jr){y=0;break t}break;default:N=Xt,Xt=0,on=null,es(t,E,b,N)}}gE(),y=ae;break}catch(H){Hg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ai=rr=null,Wt=l,S.H=c,S.A=f,wt===null&&(Kt=null,Mt=0,wu()),y}function gE(){for(;wt!==null;)Fg(wt)}function pE(t,n){var a=Wt;Wt|=2;var l=Gg(),c=Qg();Kt!==t||Mt!==n?(to=null,Wu=Je()+500,ts(t,n)):Jr=qi(t,n);t:do try{if(Xt!==0&&wt!==null){n=wt;var f=on;e:switch(Xt){case 1:Xt=0,on=null,es(t,n,f,1);break;case 2:if(nm(f)){Xt=0,on=null,Yg(n);break}n=function(){Xt===2&&Kt===t&&(Xt=7),Jn(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:nm(f)?(Xt=0,on=null,Yg(n)):(Xt=0,on=null,es(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||Ap(y)){Xt=0,on=null;var b=E.sibling;if(b!==null)wt=b;else{var N=E.return;N!==null?(wt=N,io(N)):wt=null}break e}}Xt=0,on=null,es(t,n,f,5);break;case 6:Xt=0,on=null,es(t,n,f,6);break;case 8:zh(),ae=6;break t;default:throw Error(r(462))}}yE();break}catch(H){Hg(t,H)}while(!0);return Ai=rr=null,S.H=l,S.A=c,Wt=a,wt!==null?0:(Kt=null,Mt=0,wu(),ae)}function yE(){for(;wt!==null&&!dc();)Fg(wt)}function Fg(t){var n=mg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function Yg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ug(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ug(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Hc(n);default:Pg(a,n),n=wt=Lg(n,Vi),n=mg(a,n,Vi)}t.memoizedProps=t.pendingProps,n===null?io(t):wt=n}function es(t,n,a,l){Ai=rr=null,Hc(n),jr=null,el=0;var c=n.return;try{if(rE(t,c,n,a,Mt)){ae=1,Fu(t,Tn(a,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;ae=1,Fu(t,Tn(a,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:Jr||Mt&536870912?t=!1:(Ci=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Kg(n,t)):io(n)}function io(t){var n=t;do{if(n.flags&32768){Kg(n,Ci);return}t=n.return;var a=cE(n.alternate,n,Vi);if(a!==null){wt=a;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);ae===0&&(ae=5)}function Kg(t,n){do{var a=hE(t.alternate,t);if(a!==null){a.flags&=32767,wt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=a}while(t!==null);ae=6,wt=null}function Xg(t,n,a,l,c,f,y,E,b,N){var H=S.T,F=nt.p;try{nt.p=2,S.T=null,_E(t,n,a,l,F,c,f,y,E,b,N)}finally{S.T=H,nt.p=F}}function _E(t,n,a,l,c,f,y,E){do ns();while(cr!==null);if(Wt&6)throw Error(r(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Cc,ru(t,l,N,f,y,E),t===Kt&&(wt=Kt=null,Mt=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||eo||(eo=!0,Mh=N,xh=a,AE(li,function(){return ns(),null})),a=(b.flags&15990)!==0,b.subtreeFlags&15990||a?(a=S.T,S.T=null,f=nt.p,nt.p=2,y=Wt,Wt|=4,lE(t,b),Vg(b,t),jv($h,t.containerInfo),po=!!Zh,$h=Zh=null,t.current=b,Rg(t,b.alternate,b),Cs(),Wt=y,nt.p=f,S.T=a):t.current=b,eo?(eo=!1,cr=t,vl=l):Zg(t,N),N=t.pendingLanes,N===0&&(ma=null),Is(b.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)N=n[b],c(N.value,{componentStack:N.stack});return vl&3&&ns(),N=t.pendingLanes,l&4194218&&N&42?t===Uh?El++:(El=0,Uh=t):El=0,Tl(0),null}function Zg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function ns(){if(cr!==null){var t=cr,n=Mh;Mh=0;var a=su(vl),l=S.T,c=nt.p;try{if(nt.p=32>a?32:a,S.T=null,cr===null)var f=!1;else{a=xh,xh=null;var y=cr,E=vl;if(cr=null,vl=0,Wt&6)throw Error(r(331));var b=Wt;if(Wt|=4,xg(y.current),Ng(y,y.current,E,a),Wt=b,Tl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pi,y)}catch{}f=!0}return f}finally{nt.p=c,S.T=l,Zg(t,n)}}return!1}function $g(t,n,a){n=Tn(a,n),n=ih(t.stateNode,n,2),t=ua(t,n,2),t!==null&&(se(t,2),Jn(t))}function Yt(t,n,a){if(t.tag===3)$g(t,t,a);else for(;n!==null;){if(n.tag===3){$g(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){t=Tn(a,t),a=tg(2),l=ua(n,a,2),l!==null&&(eg(a,l,n,t),se(l,2),Jn(l));break}}n=n.return}}function kh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new dE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Vh=!0,c.add(a),t=vE.bind(null,t,n,a),n.then(t,t))}function vE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Kt===t&&(Mt&a)===a&&(ae===4||ae===3&&(Mt&62914560)===Mt&&300>Je()-Oh?!(Wt&2)&&ts(t,0):Ih|=a,Wr===Mt&&(Wr=0)),Jn(t)}function Jg(t,n){n===0&&(n=ji()),t=ta(t,n),t!==null&&(se(t,n),Jn(t))}function EE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Jg(t,a)}function TE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Jg(t,a)}function AE(t,n){return xa(t,n)}var ao=null,is=null,qh=!1,ro=!1,jh=!1,hr=0;function Jn(t){t!==is&&t.next===null&&(is===null?ao=is=t:is=is.next=t),ro=!0,qh||(qh=!0,bE(SE))}function Tl(t,n){if(!jh&&ro){jh=!0;do for(var a=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ye(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(a=!0,ep(l,f))}else f=Mt,f=mn(l,l===Kt?f:0),!(f&3)||qi(l,f)||(a=!0,ep(l,f));l=l.next}while(a);jh=!1}}function SE(){ro=qh=!1;var t=0;hr!==0&&(OE()&&(t=hr),hr=0);for(var n=Je(),a=null,l=ao;l!==null;){var c=l.next,f=Wg(l,n);f===0?(l.next=null,a===null?ao=c:a.next=c,c===null&&(is=a)):(a=l,(t!==0||f&3)&&(ro=!0)),l=c}Tl(t)}function Wg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ye(f),E=1<<y,b=c[y];b===-1?(!(E&a)||E&l)&&(c[y]=Tr(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Kt,a=Mt,a=mn(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||qi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Er(l),su(a)){case 2:case 8:a=Re;break;case 32:a=li;break;case 268435456:a=Vs;break;default:a=li}return l=tp.bind(null,t),a=xa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function tp(t,n){var a=t.callbackNode;if(ns()&&t.callbackNode!==a)return null;var l=Mt;return l=mn(t,t===Kt?l:0),l===0?null:(qg(t,l,n),Wg(t,Je()),t.callbackNode!=null&&t.callbackNode===a?tp.bind(null,t):null)}function ep(t,n){if(ns())return null;qg(t,n,!0)}function bE(t){xE(function(){Wt&6?xa(pe,t):t()})}function Hh(){return hr===0&&(hr=Os()),hr}function np(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function ip(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function RE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=np((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?np(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Cr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hr!==0){var b=y?ip(c,y):new FormData(c);Jc(a,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?ip(c,y):new FormData(c),Jc(a,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Gh=0;Gh<Xd.length;Gh++){var Qh=Xd[Gh],wE=Qh.toLowerCase(),DE=Qh[0].toUpperCase()+Qh.slice(1);On(wE,"on"+DE)}On(Gd,"onAnimationEnd"),On(Qd,"onAnimationIteration"),On(Fd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Gv,"onTransitionRun"),On(Qv,"onTransitionStart"),On(Fv,"onTransitionCancel"),On(Yd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function ap(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(H){Qu(H)}c.currentTarget=null,f=b}}}}function Vt(t,n){var a=n[La];a===void 0&&(a=n[La]=new Set);var l=t+"__bubble";a.has(l)||(rp(n,t,2,!1),a.add(l))}function Fh(t,n,a){var l=0;n&&(l|=4),rp(a,t,l,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function Yh(t){if(!t[so]){t[so]=!0,xs.forEach(function(a){a!=="selectionchange"&&(CE.has(a)||Fh(a,!1,t),Fh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[so]||(n[so]=!0,Fh("selectionchange",!1,n))}}function rp(t,n,a,l){switch(Cp(n)){case 2:var c=t0;break;case 8:c=e0;break;default:c=lf}a=c.bind(null,n,a,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function Kh(t,n,a,l,c){var f=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Nn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}hu(function(){var N=f,H=Dr(a),F=[];t:{var P=Kd.get(t);if(P!==void 0){var q=Cr,rt=t;switch(t){case"keypress":if(Hn(a)===0)break t;case"keydown":case"keyup":q=xr;break;case"focusin":rt="focus",q=Nr;break;case"focusout":rt="blur",q=Nr;break;case"beforeblur":case"afterblur":q=Nr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Ec;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=vu;break;case Gd:case Qd:case Fd:q=Or;break;case Yd:q=Tu;break;case"scroll":case"scrollend":q=fu;break;case"wheel":q=Ur;break;case"copy":case"cut":case"paste":q=Mr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fs;break;case"toggle":case"beforetoggle":q=Su}var yt=(n&4)!==0,re=!yt&&(t==="scroll"||t==="scrollend"),x=yt?P!==null?P+"Capture":null:P;yt=[];for(var V=N,B;V!==null;){var G=V;if(B=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||B===null||x===null||(G=qa(V,x),G!=null&&yt.push(Sl(V,G,B))),re)break;V=V.return}0<yt.length&&(P=new q(P,rt,null,a,H),F.push({event:P,listeners:yt}))}}if(!(n&7)){t:{if(P=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",P&&a!==yn&&(rt=a.relatedTarget||a.fromElement)&&(Nn(rt)||rt[ui]))break t;if((q||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,q?(rt=a.relatedTarget||a.toElement,q=N,rt=rt?Nn(rt):null,rt!==null&&(re=ct(rt),yt=rt.tag,rt!==re||yt!==5&&yt!==27&&yt!==6)&&(rt=null)):(q=null,rt=N),q!==rt)){if(yt=vn,G="onMouseLeave",x="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(yt=Fs,G="onPointerLeave",x="onPointerEnter",V="pointer"),re=q==null?P:Yi(q),B=rt==null?P:Yi(rt),P=new yt(G,V+"leave",q,a,H),P.target=re,P.relatedTarget=B,G=null,Nn(H)===N&&(yt=new yt(x,V+"enter",rt,a,H),yt.target=B,yt.relatedTarget=re,G=yt),re=G,q&&rt)e:{for(yt=q,x=rt,V=0,B=yt;B;B=as(B))V++;for(B=0,G=x;G;G=as(G))B++;for(;0<V-B;)yt=as(yt),V--;for(;0<B-V;)x=as(x),B--;for(;V--;){if(yt===x||x!==null&&yt===x.alternate)break e;yt=as(yt),x=as(x)}yt=null}else yt=null;q!==null&&sp(F,P,q,yt,!1),rt!==null&&re!==null&&sp(F,re,rt,yt,!0)}}t:{if(P=N?Yi(N):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var at=Md;else if(ve(P))if(xd)at=kv;else{at=Bv;var Rt=zv}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?N&&Ps(N.elementType)&&(at=Md):at=Pv;if(at&&(at=at(t,N))){pi(F,at,a,H);break t}Rt&&Rt(t,P,N),t==="focusout"&&N&&P.type==="number"&&N.memoizedProps.value!=null&&wr(P,"number",P.value)}switch(Rt=N?Yi(N):window,t){case"focusin":(ve(Rt)||Rt.contentEditable==="true")&&(Lr=Rt,Rc=N,Xs=null);break;case"focusout":Xs=Rc=Lr=null;break;case"mousedown":wc=!0;break;case"contextmenu":case"mouseup":case"dragend":wc=!1,jd(F,a,H);break;case"selectionchange":if(Hv)break;case"keydown":case"keyup":jd(F,a,H)}var ut;if(Fn)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Nt?k(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(p&&a.locale!=="ko"&&(Nt||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Nt&&(ut=qs()):(jn=H,Wi="value"in jn?jn.value:jn.textContent,Nt=!0)),Rt=lo(N,ft),0<Rt.length&&(ft=new Gs(ft,t,null,a,H),F.push({event:ft,listeners:Rt}),ut?ft.data=ut:(ut=$(a),ut!==null&&(ft.data=ut)))),(ut=m?_e(t,a):Ot(t,a))&&(ft=lo(N,"onBeforeInput"),0<ft.length&&(Rt=new Gs("onBeforeInput","beforeinput",null,a,H),F.push({event:Rt,listeners:ft}),Rt.data=ut)),RE(F,t,N,a,H)}ap(F,n)})}function Sl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function lo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=qa(t,a),c!=null&&l.unshift(Sl(t,c,f)),c=qa(t,n),c!=null&&l.push(Sl(t,c,f))),t=t.return}return l}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||N===null||(b=N,c?(N=qa(a,f),N!=null&&y.unshift(Sl(a,N,b))):c||(N=qa(a,f),N!=null&&y.push(Sl(a,N,b)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var VE=/\r\n?/g,IE=/\u0000|\uFFFD/g;function lp(t){return(typeof t=="string"?t:""+t).replace(VE,`
`).replace(IE,"")}function up(t,n){return n=lp(n),lp(t)===n}function uo(){}function Ft(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Zi(t,"class",l);break;case"tabIndex":Zi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zi(t,a,l);break;case"style":cu(t,l,f);break;case"data":if(n!=="object"){Zi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=qn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=uo);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_c.get(a)||a,Xi(t,a,l))}}function Xh(t,n,a,l,c,f){switch(a){case"style":cu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!br.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[ye]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Xi(t,a,l)}}}function Le(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,f,y,a,null)}}c&&Ft(t,n,"srcSet",a.srcSet,a,null),l&&Ft(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var E=f=y=c=null,b=null,N=null;for(l in a)if(a.hasOwnProperty(l)){var H=a[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":N=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Ft(t,n,l,H,a,null)}}Pa(t,f,E,b,N,y,c,!1),Ba(t);return;case"select":Vt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Ft(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):a!=null&&zt(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Ft(t,n,y,E,a,null)}Ji(t,l,c,f),Ba(t);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(l=a[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,b,l,a,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Vt(Al[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ft(t,n,N,l,a,null)}return;default:if(Ps(n)){for(H in a)a.hasOwnProperty(H)&&(l=a[H],l!==void 0&&Xh(t,n,H,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Ft(t,n,E,l,a,null))}function NE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,N=null,H=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Ft(t,n,q,null,l,F)}}for(var P in l){var q=l[P];if(F=a[P],l.hasOwnProperty(P)&&(q!=null||F!=null))switch(P){case"type":f=q;break;case"name":c=q;break;case"checked":N=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==F&&Ft(t,n,P,q,l,F)}}$i(t,y,E,b,N,H,f,c);return;case"select":q=y=E=P=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Ft(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=a[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":P=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Ft(t,n,c,f,l,b)}n=E,a=y,l=q,P!=null?zt(t,!!a,P,!1):!!l!=!!a&&(n!=null?zt(t,!!a,n,!0):zt(t,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":P=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Ft(t,n,y,c,l,f)}ka(t,P,q);return;case"option":for(var rt in a)if(P=a[rt],a.hasOwnProperty(rt)&&P!=null&&!l.hasOwnProperty(rt))switch(rt){case"selected":t.selected=!1;break;default:Ft(t,n,rt,null,l,P)}for(b in l)if(P=l[b],q=a[b],l.hasOwnProperty(b)&&P!==q&&(P!=null||q!=null))switch(b){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,b,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)P=a[yt],a.hasOwnProperty(yt)&&P!=null&&!l.hasOwnProperty(yt)&&Ft(t,n,yt,null,l,P);for(N in l)if(P=l[N],q=a[N],l.hasOwnProperty(N)&&P!==q&&(P!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Ft(t,n,N,P,l,q)}return;default:if(Ps(n)){for(var re in a)P=a[re],a.hasOwnProperty(re)&&P!==void 0&&!l.hasOwnProperty(re)&&Xh(t,n,re,void 0,l,P);for(H in l)P=l[H],q=a[H],!l.hasOwnProperty(H)||P===q||P===void 0&&q===void 0||Xh(t,n,H,P,l,q);return}}for(var x in a)P=a[x],a.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,P);for(F in l)P=l[F],q=a[F],!l.hasOwnProperty(F)||P===q||P==null&&q==null||Ft(t,n,F,P,l,q)}var Zh=null,$h=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function op(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Jh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Wh=null;function OE(){var t=window.event;return t&&t.type==="popstate"?t===Wh?!1:(Wh=t,!0):(Wh=null,!1)}var hp=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,fp=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof fp<"u"?function(t){return fp.resolve(null).then(t).catch(UE)}:hp;function UE(t){setTimeout(function(){throw t})}function tf(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=c}while(a);Nl(n)}function ef(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ef(a),za(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function LE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Fi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function zE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function dp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function mp(t,n,a){switch(n=oo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}var Vn=new Map,gp=new Set;function co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ni=nt.d;nt.d={f:BE,r:PE,D:kE,C:qE,L:jE,m:HE,X:QE,S:GE,M:FE};function BE(){var t=Ni.f(),n=no();return t||n}function PE(t){var n=oi(t);n!==null&&n.tag===5&&n.type==="form"?jm(n):Ni.r(t)}var rs=typeof document>"u"?null:document;function pp(t,n,a){var l=rs;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),gp.has(c)||(gp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function kE(t){Ni.D(t),pp("dns-prefetch",t,null)}function qE(t,n){Ni.C(t,n),pp("preconnect",t,n)}function jE(t,n,a){Ni.L(t,n,a);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+ne(a.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var f=c;switch(n){case"style":f=ss(t);break;case"script":f=ls(t)}Vn.has(f)||(t=D({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),Le(n,"link",t),$t(n),l.head.appendChild(n)))}}function HE(t,n){Ni.m(t,n);var a=rs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ls(t)}if(!Vn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}l=a.createElement("link"),Le(l,"link",t),$t(l),a.head.appendChild(l)}}}function GE(t,n,a){Ni.S(t,n,a);var l=rs;if(l&&t){var c=Ki(l).hoistableStyles,f=ss(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(bl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(f))&&nf(t,a);var b=y=l.createElement("link");$t(b),Le(b,"link",t),b._p=new Promise(function(N,H){b.onload=N,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ho(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function QE(t,n){Ni.X(t,n);var a=rs;if(a&&t){var l=Ki(a).hoistableScripts,c=ls(t),f=l.get(c);f||(f=a.querySelector(Rl(c)),f||(t=D({src:t,async:!0},n),(n=Vn.get(c))&&af(t,n),f=a.createElement("script"),$t(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function FE(t,n){Ni.M(t,n);var a=rs;if(a&&t){var l=Ki(a).hoistableScripts,c=ls(t),f=l.get(c);f||(f=a.querySelector(Rl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&af(t,n),f=a.createElement("script"),$t(f),Le(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yp(t,n,a,l){var c=(c=dn.current)?co(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=ss(a.href),a=Ki(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ss(a.href);var f=Ki(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),f||YE(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ls(a),a=Ki(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ss(t){return'href="'+ne(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function _p(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",a),$t(n),t.head.appendChild(n))}function ls(t){return'[src="'+ne(t)+'"]'}function Rl(t){return"script[async]"+t}function vp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(a.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),Le(l,"style",c),ho(l,a.precedence,t),n.instance=l;case"stylesheet":c=ss(a.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=_p(a),(c=Vn.get(c))&&nf(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",l),n.state.loading|=4,ho(f,a.precedence,t),n.instance=f;case"script":return f=ls(a.src),(c=t.querySelector(Rl(f)))?(n.instance=c,$t(c),c):(l=a,(c=Vn.get(f))&&(l=D({},a),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,ho(l,a.precedence,t));return n.instance}function ho(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function nf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function Ep(t,n,a){if(fo===null){var l=new Map,c=fo=new Map;c.set(a,l)}else c=fo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Fi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Tp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ap(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var wl=null;function XE(){}function ZE(t,n,a){if(wl===null)throw Error(r(475));var l=wl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=ss(a.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,a=_p(a),(c=Vn.get(c))&&nf(a,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=mo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $E(){if(wl===null)throw Error(r(475));var t=wl;return t.stylesheets&&t.count===0&&rf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&rf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function mo(){if(this.count--,this.count===0){if(this.stylesheets)rf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function rf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,n.forEach(JE,t),go=null,mo.call(t))}function JE(t,n){if(!(n.state.loading&4)){var a=go.get(t);if(a)var l=a.get(null);else{a=new Map,go.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:j,Provider:null,Consumer:null,_currentValue:St,_currentValue2:St,_threadCount:0};function WE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ar(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ar(0),this.hiddenUpdates=Ar(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Sp(t,n,a,l,c,f,y,E,b,N,H,F){return t=new WE(t,n,a,y,E,b,N,F),n=1,f===!0&&(n|=24),f=Dn(3,null,null,n),t.current=f,f.stateNode=t,n=Lc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ph(f),t}function bp(t){return t?(t=Pr,t):Pr}function Rp(t,n,a,l,c,f){c=bp(c),l.context===null?l.context=c:l.pendingContext=c,l=la(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ua(t,l,n),a!==null&&($e(a,t,n),cl(a,t,n))}function wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function sf(t,n){wp(t,n),(t=t.alternate)&&wp(t,n)}function Dp(t){if(t.tag===13){var n=ta(t,67108864);n!==null&&$e(n,t,67108864),sf(t,67108864)}}var po=!0;function t0(t,n,a,l){var c=S.T;S.T=null;var f=nt.p;try{nt.p=2,lf(t,n,a,l)}finally{nt.p=f,S.T=c}}function e0(t,n,a,l){var c=S.T;S.T=null;var f=nt.p;try{nt.p=8,lf(t,n,a,l)}finally{nt.p=f,S.T=c}}function lf(t,n,a,l){if(po){var c=uf(l);if(c===null)Kh(t,n,l,yo,a),Vp(t,l);else if(i0(c,t,n,a,l))l.stopPropagation();else if(Vp(t,l),n&4&&-1<n0.indexOf(t)){for(;c!==null;){var f=oi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ye(y);E.entanglements[1]|=b,y&=~b}Jn(f),!(Wt&6)&&(Wu=Je()+500,Tl(0))}}break;case 13:E=ta(f,2),E!==null&&$e(E,f,2),no(),sf(f,2)}if(f=uf(l),f===null&&Kh(t,n,l,yo,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else Kh(t,n,l,null,a)}}function uf(t){return t=Dr(t),of(t)}var yo=null;function of(t){if(yo=null,t=Nn(t),t!==null){var n=ct(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=kt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function Cp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case pe:return 2;case Re:return 8;case li:case nu:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var cf=!1,ga=null,pa=null,ya=null,Cl=new Map,Vl=new Map,_a=[],n0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Vp(t,n){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Il(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=oi(n),n!==null&&Dp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function i0(t,n,a,l,c){switch(n){case"focusin":return ga=Il(ga,t,n,a,l,c),!0;case"dragenter":return pa=Il(pa,t,n,a,l,c),!0;case"mouseover":return ya=Il(ya,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Cl.set(f,Il(Cl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Il(Vl.get(f)||null,t,n,a,l,c)),!0}return!1}function Ip(t){var n=Nn(t.target);if(n!==null){var a=ct(n);if(a!==null){if(n=a.tag,n===13){if(n=kt(a),n!==null){t.blockedOn=n,Qi(t.priority,function(){if(a.tag===13){var l=cn(),c=ta(a,l);c!==null&&$e(c,a,l),sf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=uf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yn=l,a.target.dispatchEvent(l),yn=null}else return n=oi(a),n!==null&&Dp(n),t.blockedOn=a,!1;n.shift()}return!0}function Np(t,n,a){_o(t)&&a.delete(n)}function a0(){cf=!1,ga!==null&&_o(ga)&&(ga=null),pa!==null&&_o(pa)&&(pa=null),ya!==null&&_o(ya)&&(ya=null),Cl.forEach(Np),Vl.forEach(Np)}function vo(t,n){t.blockedOn===n&&(t.blockedOn=null,cf||(cf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,a0)))}var Eo=null;function Op(t){Eo!==t&&(Eo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eo===t&&(Eo=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(of(l||a)===null)continue;break}var f=oi(a);f!==null&&(t.splice(n,3),n-=3,Jc(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Nl(t){function n(b){return vo(b,t)}ga!==null&&vo(ga,t),pa!==null&&vo(pa,t),ya!==null&&vo(ya,t),Cl.forEach(n),Vl.forEach(n);for(var a=0;a<_a.length;a++){var l=_a[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_a.length&&(a=_a[0],a.blockedOn===null);)Ip(a),a.blockedOn===null&&_a.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[ye]||null;if(typeof f=="function")y||Op(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[ye]||null)E=y.formAction;else if(of(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),Op(a)}}}function hf(t){this._internalRoot=t}To.prototype.render=hf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=cn();Rp(a,l,t,n,null,null)},To.prototype.unmount=hf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&ns(),Rp(t.current,2,null,t,null,null),no(),n[ui]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<_a.length&&n!==0&&n<_a[a].priority;a++);_a.splice(a,0,t),a===0&&Ip(t)}};var Mp=e.version;if(Mp!=="19.0.0")throw Error(r(527,Mp,"19.0.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=K(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var r0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Nn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Pi=Ao.inject(r0),ke=Ao}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(r(299));var a=!1,l="",c=Zm,f=$m,y=Jm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Sp(t,1,!1,null,null,a,l,c,f,y,E,null),t[ui]=n.current,Yh(t.nodeType===8?t.parentNode:t),new hf(n)},Ml.hydrateRoot=function(t,n,a){if(!u(t))throw Error(r(299));var l=!1,c="",f=Zm,y=$m,E=Jm,b=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),n=Sp(t,1,!0,n,a??null,l,c,f,y,E,b,N),n.context=bp(null),a=n.current,l=cn(),c=la(l),c.callback=null,ua(a,c,l),n.current.lanes=l,se(n,l),Jn(n),t[ui]=n.current,Yh(t),new To(n)},Ml.version="19.0.0",Ml}var Hp;function g0(){if(Hp)return mf.exports;Hp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mf.exports=m0(),mf.exports}var p0=g0(),Gp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let u=s.charCodeAt(r);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},y0=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const u=s[i++];if(u<128)e[r++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[r++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},$y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,R=h>>2,M=(h&3)<<4|g>>4;let U=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(U=64)),r.push(i[R],i[M],i[U],i[j])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Zy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):y0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const M=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||M==null)throw new _0;const U=h<<2|g>>4;if(r.push(U),v!==64){const j=g<<4&240|v>>2;if(r.push(j),M!==64){const Z=v<<6&192|M;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v0=function(s){const e=Zy(s);return $y.encodeByteArray(e,!0)},Uo=function(s){return v0(s).replace(/\./g,"")},E0=function(s){try{return $y.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0=()=>T0().__FIREBASE_DEFAULTS__,S0=()=>{if(typeof process>"u"||typeof Gp>"u")return;const s=Gp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},b0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&E0(s[1]);return e&&JSON.parse(e)},$f=()=>{try{return A0()||S0()||b0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},R0=s=>{var e,i;return(i=(e=$f())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},w0=s=>{const e=R0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},Jy=()=>{var s;return(s=$f())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I0(){var s;const e=(s=$f())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N0(){return!I0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O0(){try{return typeof indexedDB=="object"}catch{return!1}}function M0(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="FirebaseError";class Ts extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=x0,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wy.prototype.create)}}class Wy{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?U0(h,r):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,g,r)}}function U0(s,e){return s.replace(L0,(i,r)=>{const u=e[r];return u!=null?String(u):`<${r}?>`})}const L0=/\{\$([^}]+)}/g;function wf(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const u of i){if(!r.includes(u))return!1;const h=s[u],d=e[u];if(Qp(h)&&Qp(d)){if(!wf(h,d))return!1}else if(h!==d)return!1}for(const u of r)if(!i.includes(u))return!1;return!0}function Qp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(s){return s&&s._delegate?s._delegate:s}class Hl{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new D0;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P0(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});r.resolve(h)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(u)}return u}onInit(e,i){var r;const u=this.normalizeInstanceIdentifier(i),h=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const u of r)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B0(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B0(s){return s===fr?void 0:s}function P0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new z0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const q0={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},j0=Ut.INFO,H0={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},G0=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),u=H0[e];if(u)console[u](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class t_{constructor(e){this.name=e,this._logLevel=j0,this._logHandler=G0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const Q0=(s,e)=>e.some(i=>s instanceof i);let Fp,Yp;function F0(){return Fp||(Fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y0(){return Yp||(Yp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,Df=new WeakMap,n_=new WeakMap,_f=new WeakMap,Jf=new WeakMap;function K0(s){const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ta(s.result)),u()},d=()=>{r(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&e_.set(i,s)}).catch(()=>{}),Jf.set(e,s),e}function X0(s){if(Df.has(s))return;const e=new Promise((i,r)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Df.set(s,e)}let Cf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Df.get(s);if(e==="objectStoreNames")return s.objectStoreNames||n_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ta(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Z0(s){Cf=s(Cf)}function $0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(vf(this),e,...i);return n_.set(r,e.sort?e.sort():[e]),Ta(r)}:Y0().includes(s)?function(...e){return s.apply(vf(this),e),Ta(e_.get(this))}:function(...e){return Ta(s.apply(vf(this),e))}}function J0(s){return typeof s=="function"?$0(s):(s instanceof IDBTransaction&&X0(s),Q0(s,F0())?new Proxy(s,Cf):s)}function Ta(s){if(s instanceof IDBRequest)return K0(s);if(_f.has(s))return _f.get(s);const e=J0(s);return e!==s&&(_f.set(s,e),Jf.set(e,s)),e}const vf=s=>Jf.get(s);function W0(s,e,{blocked:i,upgrade:r,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=Ta(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Ta(d.result),_.oldVersion,_.newVersion,Ta(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const tT=["get","getKey","getAll","getAllKeys","count"],eT=["put","add","delete","clear"],Ef=new Map;function Kp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,u=eT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(u||tT.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return r&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return Ef.set(e,h),h}Z0(s=>({...s,get:(e,i,r)=>Kp(e,i)||s.get(e,i,r),has:(e,i)=>!!Kp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(iT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function iT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",Xp="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new t_("@firebase/app"),aT="@firebase/app-compat",rT="@firebase/analytics-compat",sT="@firebase/analytics",lT="@firebase/app-check-compat",uT="@firebase/app-check",oT="@firebase/auth",cT="@firebase/auth-compat",hT="@firebase/database",fT="@firebase/data-connect",dT="@firebase/database-compat",mT="@firebase/functions",gT="@firebase/functions-compat",pT="@firebase/installations",yT="@firebase/installations-compat",_T="@firebase/messaging",vT="@firebase/messaging-compat",ET="@firebase/performance",TT="@firebase/performance-compat",AT="@firebase/remote-config",ST="@firebase/remote-config-compat",bT="@firebase/storage",RT="@firebase/storage-compat",wT="@firebase/firestore",DT="@firebase/vertexai",CT="@firebase/firestore-compat",VT="firebase",IT="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="[DEFAULT]",NT={[Vf]:"fire-core",[aT]:"fire-core-compat",[sT]:"fire-analytics",[rT]:"fire-analytics-compat",[uT]:"fire-app-check",[lT]:"fire-app-check-compat",[oT]:"fire-auth",[cT]:"fire-auth-compat",[hT]:"fire-rtdb",[fT]:"fire-data-connect",[dT]:"fire-rtdb-compat",[mT]:"fire-fn",[gT]:"fire-fn-compat",[pT]:"fire-iid",[yT]:"fire-iid-compat",[_T]:"fire-fcm",[vT]:"fire-fcm-compat",[ET]:"fire-perf",[TT]:"fire-perf-compat",[AT]:"fire-rc",[ST]:"fire-rc-compat",[bT]:"fire-gcs",[RT]:"fire-gcs-compat",[wT]:"fire-fst",[CT]:"fire-fst-compat",[DT]:"fire-vertex","fire-js":"fire-js",[VT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,OT=new Map,Nf=new Map;function Zp(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function zo(s){const e=s.name;if(Nf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Nf.set(e,s);for(const i of Lo.values())Zp(i,s);for(const i of OT.values())Zp(i,s);return!0}function MT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function xT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Aa=new Wy("app","Firebase",UT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,i,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=IT;function i_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r=Object.assign({name:If,automaticDataCollectionEnabled:!1},e),u=r.name;if(typeof u!="string"||!u)throw Aa.create("bad-app-name",{appName:String(u)});if(i||(i=Jy()),!i)throw Aa.create("no-options");const h=Lo.get(u);if(h){if(wf(i,h.options)&&wf(r,h.config))return h;throw Aa.create("duplicate-app",{appName:u})}const d=new k0(u);for(const _ of Nf.values())d.addComponent(_);const g=new LT(i,r,d);return Lo.set(u,g),g}function BT(s=If){const e=Lo.get(s);if(!e&&s===If&&Jy())return i_();if(!e)throw Aa.create("no-app",{appName:s});return e}function fs(s,e,i){var r;let u=(r=NT[s])!==null&&r!==void 0?r:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(g.join(" "));return}zo(new Hl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",kT=1,Gl="firebase-heartbeat-store";let Tf=null;function a_(){return Tf||(Tf=W0(PT,kT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Gl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Aa.create("idb-open",{originalErrorMessage:s.message})})),Tf}async function qT(s){try{const i=(await a_()).transaction(Gl),r=await i.objectStore(Gl).get(r_(s));return await i.done,r}catch(e){if(e instanceof Ts)Mi.warn(e.message);else{const i=Aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(i.message)}}}async function $p(s,e){try{const r=(await a_()).transaction(Gl,"readwrite");await r.objectStore(Gl).put(e,r_(s)),await r.done}catch(i){if(i instanceof Ts)Mi.warn(i.message);else{const r=Aa.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Mi.warn(r.message)}}}function r_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=1024,HT=30;class GT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new FT(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Jp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>HT){const d=YT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Jp(),{heartbeatsToSend:r,unsentEntries:u}=QT(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Mi.warn(i),""}}}function Jp(){return new Date().toISOString().substring(0,10)}function QT(s,e=jT){const i=[];let r=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Wp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Wp(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class FT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O0()?M0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return $p(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return $p(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Wp(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function YT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){zo(new Hl("platform-logger",e=>new nT(e),"PRIVATE")),zo(new Hl("heartbeat",e=>new GT(e),"PRIVATE")),fs(Vf,Xp,s),fs(Vf,Xp,"esm2017"),fs("fire-js","")}KT("");var XT="firebase",ZT="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(XT,ZT,"app");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sa,s_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function S(){}S.prototype=A.prototype,O.D=A.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(D,I,z){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return A.prototype[I].apply(D,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(O,A,S){S||(S=0);var D=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)D[I]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(I=0;16>I;++I)D[I]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=O.g[0],S=O.g[1],I=O.g[2];var z=O.g[3],w=A+(z^S&(I^z))+D[0]+3614090360&4294967295;A=S+(w<<7&4294967295|w>>>25),w=z+(I^A&(S^I))+D[1]+3905402710&4294967295,z=A+(w<<12&4294967295|w>>>20),w=I+(S^z&(A^S))+D[2]+606105819&4294967295,I=z+(w<<17&4294967295|w>>>15),w=S+(A^I&(z^A))+D[3]+3250441966&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(z^S&(I^z))+D[4]+4118548399&4294967295,A=S+(w<<7&4294967295|w>>>25),w=z+(I^A&(S^I))+D[5]+1200080426&4294967295,z=A+(w<<12&4294967295|w>>>20),w=I+(S^z&(A^S))+D[6]+2821735955&4294967295,I=z+(w<<17&4294967295|w>>>15),w=S+(A^I&(z^A))+D[7]+4249261313&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(z^S&(I^z))+D[8]+1770035416&4294967295,A=S+(w<<7&4294967295|w>>>25),w=z+(I^A&(S^I))+D[9]+2336552879&4294967295,z=A+(w<<12&4294967295|w>>>20),w=I+(S^z&(A^S))+D[10]+4294925233&4294967295,I=z+(w<<17&4294967295|w>>>15),w=S+(A^I&(z^A))+D[11]+2304563134&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(z^S&(I^z))+D[12]+1804603682&4294967295,A=S+(w<<7&4294967295|w>>>25),w=z+(I^A&(S^I))+D[13]+4254626195&4294967295,z=A+(w<<12&4294967295|w>>>20),w=I+(S^z&(A^S))+D[14]+2792965006&4294967295,I=z+(w<<17&4294967295|w>>>15),w=S+(A^I&(z^A))+D[15]+1236535329&4294967295,S=I+(w<<22&4294967295|w>>>10),w=A+(I^z&(S^I))+D[1]+4129170786&4294967295,A=S+(w<<5&4294967295|w>>>27),w=z+(S^I&(A^S))+D[6]+3225465664&4294967295,z=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(z^A))+D[11]+643717713&4294967295,I=z+(w<<14&4294967295|w>>>18),w=S+(z^A&(I^z))+D[0]+3921069994&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(I^z&(S^I))+D[5]+3593408605&4294967295,A=S+(w<<5&4294967295|w>>>27),w=z+(S^I&(A^S))+D[10]+38016083&4294967295,z=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(z^A))+D[15]+3634488961&4294967295,I=z+(w<<14&4294967295|w>>>18),w=S+(z^A&(I^z))+D[4]+3889429448&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(I^z&(S^I))+D[9]+568446438&4294967295,A=S+(w<<5&4294967295|w>>>27),w=z+(S^I&(A^S))+D[14]+3275163606&4294967295,z=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(z^A))+D[3]+4107603335&4294967295,I=z+(w<<14&4294967295|w>>>18),w=S+(z^A&(I^z))+D[8]+1163531501&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(I^z&(S^I))+D[13]+2850285829&4294967295,A=S+(w<<5&4294967295|w>>>27),w=z+(S^I&(A^S))+D[2]+4243563512&4294967295,z=A+(w<<9&4294967295|w>>>23),w=I+(A^S&(z^A))+D[7]+1735328473&4294967295,I=z+(w<<14&4294967295|w>>>18),w=S+(z^A&(I^z))+D[12]+2368359562&4294967295,S=I+(w<<20&4294967295|w>>>12),w=A+(S^I^z)+D[5]+4294588738&4294967295,A=S+(w<<4&4294967295|w>>>28),w=z+(A^S^I)+D[8]+2272392833&4294967295,z=A+(w<<11&4294967295|w>>>21),w=I+(z^A^S)+D[11]+1839030562&4294967295,I=z+(w<<16&4294967295|w>>>16),w=S+(I^z^A)+D[14]+4259657740&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(S^I^z)+D[1]+2763975236&4294967295,A=S+(w<<4&4294967295|w>>>28),w=z+(A^S^I)+D[4]+1272893353&4294967295,z=A+(w<<11&4294967295|w>>>21),w=I+(z^A^S)+D[7]+4139469664&4294967295,I=z+(w<<16&4294967295|w>>>16),w=S+(I^z^A)+D[10]+3200236656&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(S^I^z)+D[13]+681279174&4294967295,A=S+(w<<4&4294967295|w>>>28),w=z+(A^S^I)+D[0]+3936430074&4294967295,z=A+(w<<11&4294967295|w>>>21),w=I+(z^A^S)+D[3]+3572445317&4294967295,I=z+(w<<16&4294967295|w>>>16),w=S+(I^z^A)+D[6]+76029189&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(S^I^z)+D[9]+3654602809&4294967295,A=S+(w<<4&4294967295|w>>>28),w=z+(A^S^I)+D[12]+3873151461&4294967295,z=A+(w<<11&4294967295|w>>>21),w=I+(z^A^S)+D[15]+530742520&4294967295,I=z+(w<<16&4294967295|w>>>16),w=S+(I^z^A)+D[2]+3299628645&4294967295,S=I+(w<<23&4294967295|w>>>9),w=A+(I^(S|~z))+D[0]+4096336452&4294967295,A=S+(w<<6&4294967295|w>>>26),w=z+(S^(A|~I))+D[7]+1126891415&4294967295,z=A+(w<<10&4294967295|w>>>22),w=I+(A^(z|~S))+D[14]+2878612391&4294967295,I=z+(w<<15&4294967295|w>>>17),w=S+(z^(I|~A))+D[5]+4237533241&4294967295,S=I+(w<<21&4294967295|w>>>11),w=A+(I^(S|~z))+D[12]+1700485571&4294967295,A=S+(w<<6&4294967295|w>>>26),w=z+(S^(A|~I))+D[3]+2399980690&4294967295,z=A+(w<<10&4294967295|w>>>22),w=I+(A^(z|~S))+D[10]+4293915773&4294967295,I=z+(w<<15&4294967295|w>>>17),w=S+(z^(I|~A))+D[1]+2240044497&4294967295,S=I+(w<<21&4294967295|w>>>11),w=A+(I^(S|~z))+D[8]+1873313359&4294967295,A=S+(w<<6&4294967295|w>>>26),w=z+(S^(A|~I))+D[15]+4264355552&4294967295,z=A+(w<<10&4294967295|w>>>22),w=I+(A^(z|~S))+D[6]+2734768916&4294967295,I=z+(w<<15&4294967295|w>>>17),w=S+(z^(I|~A))+D[13]+1309151649&4294967295,S=I+(w<<21&4294967295|w>>>11),w=A+(I^(S|~z))+D[4]+4149444226&4294967295,A=S+(w<<6&4294967295|w>>>26),w=z+(S^(A|~I))+D[11]+3174756917&4294967295,z=A+(w<<10&4294967295|w>>>22),w=I+(A^(z|~S))+D[2]+718787259&4294967295,I=z+(w<<15&4294967295|w>>>17),w=S+(z^(I|~A))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+z&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var S=A-this.blockSize,D=this.B,I=this.h,z=0;z<A;){if(I==0)for(;z<=S;)u(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<A;)if(D[I++]=O.charCodeAt(z++),I==this.blockSize){u(this,D),I=0;break}}else for(;z<A;)if(D[I++]=O[z++],I==this.blockSize){u(this,D),I=0;break}}this.h=I,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var S=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=S&255,S/=256;for(this.u(O),O=Array(16),A=S=0;4>A;++A)for(var D=0;32>D;D+=8)O[S++]=this.g[A]>>>D&255;return O};function h(O,A){var S=g;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=A(O)}function d(O,A){this.h=A;for(var S=[],D=!0,I=O.length-1;0<=I;I--){var z=O[I]|0;D&&z==A||(S[I]=z,D=!1)}this.g=S}var g={};function _(O){return-128<=O&&128>O?h(O,function(A){return new d([A|0],0>A?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return M;if(0>O)return X(v(-O));for(var A=[],S=1,D=0;O>=S;D++)A[D]=O/S|0,S*=4294967296;return new d(A,0)}function R(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return X(R(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(A,8)),D=M,I=0;I<O.length;I+=8){var z=Math.min(8,O.length-I),w=parseInt(O.substring(I,I+z),A);8>z?(z=v(Math.pow(A,z)),D=D.j(z).add(v(w))):(D=D.j(S),D=D.add(v(w)))}return D}var M=_(0),U=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(W(this))return-X(this).m();for(var O=0,A=1,S=0;S<this.g.length;S++){var D=this.i(S);O+=(0<=D?D:4294967296+D)*A,A*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Z(this))return"0";if(W(this))return"-"+X(this).toString(O);for(var A=v(Math.pow(O,6)),S=this,D="";;){var I=Ht(S,A).g;S=vt(S,I.j(A));var z=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=I,Z(S))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Z(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function W(O){return O.h==-1}s.l=function(O){return O=vt(this,O),W(O)?-1:Z(O)?0:1};function X(O){for(var A=O.g.length,S=[],D=0;D<A;D++)S[D]=~O.g[D];return new d(S,~O.h).add(U)}s.abs=function(){return W(this)?X(this):this},s.add=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],D=0,I=0;I<=A;I++){var z=D+(this.i(I)&65535)+(O.i(I)&65535),w=(z>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);D=w>>>16,z&=65535,w&=65535,S[I]=w<<16|z}return new d(S,S[S.length-1]&-2147483648?-1:0)};function vt(O,A){return O.add(X(A))}s.j=function(O){if(Z(this)||Z(O))return M;if(W(this))return W(O)?X(this).j(X(O)):X(X(this).j(O));if(W(O))return X(this.j(X(O)));if(0>this.l(j)&&0>O.l(j))return v(this.m()*O.m());for(var A=this.g.length+O.g.length,S=[],D=0;D<2*A;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<O.g.length;I++){var z=this.i(D)>>>16,w=this.i(D)&65535,ge=O.i(I)>>>16,oe=O.i(I)&65535;S[2*D+2*I]+=w*oe,ot(S,2*D+2*I),S[2*D+2*I+1]+=z*oe,ot(S,2*D+2*I+1),S[2*D+2*I+1]+=w*ge,ot(S,2*D+2*I+1),S[2*D+2*I+2]+=z*ge,ot(S,2*D+2*I+2)}for(D=0;D<A;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=A;D<2*A;D++)S[D]=0;return new d(S,0)};function ot(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function Et(O,A){this.g=O,this.h=A}function Ht(O,A){if(Z(A))throw Error("division by zero");if(Z(O))return new Et(M,M);if(W(O))return A=Ht(X(O),A),new Et(X(A.g),X(A.h));if(W(A))return A=Ht(O,X(A)),new Et(X(A.g),A.h);if(30<O.g.length){if(W(O)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var S=U,D=A;0>=D.l(O);)S=dt(S),D=dt(D);var I=It(S,1),z=It(D,1);for(D=It(D,2),S=It(S,2);!Z(D);){var w=z.add(D);0>=w.l(O)&&(I=I.add(S),z=w),D=It(D,1),S=It(S,1)}return A=vt(O,I.j(A)),new Et(I,A)}for(I=M;0<=O.l(A);){for(S=Math.max(1,Math.floor(O.m()/A.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(S),w=z.j(A);W(w)||0<w.l(O);)S-=D,z=v(S),w=z.j(A);Z(z)&&(z=U),I=I.add(z),O=vt(O,w)}return new Et(I,O)}s.A=function(O){return Ht(this,O).h},s.and=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],D=0;D<A;D++)S[D]=this.i(D)&O.i(D);return new d(S,this.h&O.h)},s.or=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],D=0;D<A;D++)S[D]=this.i(D)|O.i(D);return new d(S,this.h|O.h)},s.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],D=0;D<A;D++)S[D]=this.i(D)^O.i(D);return new d(S,this.h^O.h)};function dt(O){for(var A=O.g.length+1,S=[],D=0;D<A;D++)S[D]=O.i(D)<<1|O.i(D-1)>>>31;return new d(S,O.h)}function It(O,A){var S=A>>5;A%=32;for(var D=O.g.length-S,I=[],z=0;z<D;z++)I[z]=0<A?O.i(z+S)>>>A|O.i(z+S+1)<<32-A:O.i(z+S);return new d(I,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=R,Sa=d}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l_,Ul,u_,Co,Of,o_,c_,h_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof So=="object"&&So];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=i(this);function u(o,m){if(m)t:{var p=r;o=o.split(".");for(var T=0;T<o.length-1;T++){var L=o[T];if(!(L in p))break t;p=p[L]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,L={next:function(){if(!T&&p<o.length){var k=p++;return{value:m(k,o[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function R(o,m,p){return o.call.apply(o.bind,arguments)}function M(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),o.apply(m,L)}}return function(){return o.apply(m,arguments)}}function U(o,m,p){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?R:M,U.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function Z(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,L,k){for(var $=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)$[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,$)}}function W(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function X(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=o.length||0,k=T.length||0;o.length=L+k;for(let $=0;$<k;$++)o[L+$]=T[$]}else o.push(T)}}class vt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(o){return/^[\s\xa0]*$/.test(o)}function Et(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ht(o){return Ht[" "](o),o}Ht[" "]=function(){};var dt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function It(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function O(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function A(o){const m={};for(const p in o)m[p]=o[p];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)o[p]=T[p];for(let k=0;k<S.length;k++)p=S[k],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function I(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function z(o){g.setTimeout(()=>{throw o},0)}function w(){var o=kt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new vt(()=>new J,o=>o.reset());class J{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ct=!1,kt=new ge,C=()=>{const o=g.Promise.resolve(void 0);mt=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){z(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ct=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function St(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(dt){t:{try{Ht(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&St.aa.h.call(this)}}Z(St,et);var Tt={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ee(o,m,p,T,L){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Lt,this.da=this.fa=!1}function Gt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,L){var k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);var $=dn(o,m,T,L);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new ee(m,this.src,k,!!T,L),m.fa=p,o.push(m)),m};function ri(o,m){var p=m.type;if(p in o.g){var T=o.g[p],L=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=L)&&Array.prototype.splice.call(T,L,1),k&&(Gt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function dn(o,m,p,T){for(var L=0;L<o.length;++L){var k=o[L];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return L}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),Bi={};function si(o,m,p,T,L){if(Array.isArray(m)){for(var k=0;k<m.length;k++)si(o,m[k],p,T,L);return null}return p=eu(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,L):Ds(o,m,p,!1,T,L)}function Ds(o,m,p,T,L,k){if(!m)throw Error("Invalid event type");var $=v(L)?!!L.capture:!!L,Nt=Cs(o);if(Nt||(o[zi]=Nt=new Fe(o)),p=Nt.add(m,p,T,$,k),p.proxy)return p;if(T=_r(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)nt||(L=$),L===void 0&&(L=!1),o.addEventListener(m.toString(),T,L);else if(o.attachEvent)o.attachEvent(Er(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _r(){function o(p){return m.call(o.src,o.listener,p)}const m=dc;return o}function vr(o,m,p,T,L){if(Array.isArray(m))for(var k=0;k<m.length;k++)vr(o,m[k],p,T,L);else T=v(T)?!!T.capture:!!T,p=eu(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(k=o.g[m],p=dn(k,p,T,L),-1<p&&(Gt(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete o.g[m],o.h--)))):o&&(o=Cs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dn(m,p,T,L)),(p=-1<o?m[o]:null)&&xa(p))}function xa(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ri(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Er(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Cs(m))?(ri(p,o),p.h==0&&(p.src=null,m[zi]=null)):Gt(o)}}}function Er(o){return o in Bi?Bi[o]:Bi[o]="on"+o}function dc(o,m){if(o.da)o=!0;else{m=new St(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&xa(o),o=p.call(T,m)}return o}function Cs(o){return o=o[zi],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}Z(pe,st),pe.prototype[ce]=!0,pe.prototype.removeEventListener=function(o,m,p,T){vr(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var L=m;m=new et(T,o),D(m,L)}if(L=!0,p)for(var k=p.length-1;0<=k;k--){var $=m.g=p[k];L=li($,T,!0,m)&&L}if($=m.g=o,L=li($,T,!0,m)&&L,L=li($,T,!1,m)&&L,p)for(k=0;k<p.length;k++)$=m.g=p[k],L=li($,T,!1,m)&&L}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Gt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function li(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,k=0;k<m.length;++k){var $=m[k];if($&&!$.da&&$.capture==p){var Nt=$.listener,_e=$.ha||$.src;$.fa&&ri(o.i,$),L=Nt.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function nu(o,m,p){if(typeof o=="function")p&&(o=U(o,p));else if(o&&typeof o.handleEvent=="function")o=U(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Vs(o){o.g=nu(()=>{o.g=null,o.i&&(o.i=!1,Vs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class mc extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(o){st.call(this),this.h=o,this.g={}}Z(Ua,st);var Pi=[];function ke(o){It(o.g,function(m,p){this.g.hasOwnProperty(p)&&xa(m)},o),o.g={}}Ua.prototype.N=function(){Ua.aa.N.call(this),ke(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=g.JSON.stringify,zn=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function iu(o){return o.h||(o.h=o.i())}function au(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){et.call(this,"d")}Z(ki,et);function In(){et.call(this,"c")}Z(In,et);var mn={},qi=null;function Tr(){return qi=qi||new pe}mn.La="serverreachability";function Os(o){et.call(this,mn.La,o)}Z(Os,et);function ji(o){const m=Tr();Re(m,new Os(m))}mn.STAT_EVENT="statevent";function Ar(o,m){et.call(this,mn.STAT_EVENT,o),this.stat=m}Z(Ar,et);function se(o){const m=Tr();Re(m,new Ar(m,o))}mn.Ma="timingevent";function ru(o,m){et.call(this,mn.Ma,o),this.size=m}Z(ru,et);function Hi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function su(o,m,p,T,L,k){o.info(function(){if(o.g)if(k)for(var $="",Nt=k.split("&"),_e=0;_e<Nt.length;_e++){var Ot=Nt[_e].split("=");if(1<Ot.length){var Ce=Ot[0];Ot=Ot[1];var ve=Ce.split("_");$=2<=ve.length&&ve[1]=="type"?$+(Ce+"="+Ot+"&"):$+(Ce+"=redacted&")}}else $=null;else $=k;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+$})}function lu(o,m,p,T,L,k,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+k+" "+$})}function Qi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}Gi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var k=L[0];if(k!="noop"&&k!="stop"&&k!="close")for(var $=1;$<L.length;$++)L[$]=""}}}}return Is(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ui={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},La;function Sr(){}Z(Sr,Ns),Sr.prototype.g=function(){return new XMLHttpRequest},Sr.prototype.i=function(){return{}},La=new Sr;function kn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ua(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var Fi={},za={};function Nn(o,m,p){o.L=1,o.v=ka(ne(m)),o.m=p,o.P=!0,oi(o,null)}function oi(o,m){o.F=Date.now(),$t(o),o.A=ne(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ms,o.g=Tu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new mc(U(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var L="readystatechange";Array.isArray(L)||(L&&(Pi[0]=L.toString()),L=Pi);for(var k=0;k<L.length;k++){var $=si(p,L[k],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?A(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),ji(),su(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=vn(this.g);var m=this.g.Ba();const pi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||ve!=4||m==7||(m==8||0>=pi?ji(3):ji(2)),br(this);var p=this.g.Z();this.X=p;e:if(Yi(this)){var T=du(this.g);o="";var L=T.length,k=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),an(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(k&&m==L-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,lu(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,_e=this.g;if((Nt=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Nt)){var Ot=Nt;break e}}Ot=null}if(p=Ot)Qi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,p);else{this.o=!1,this.s=3,se(12),We(this),an(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=Ki(this,$),Me==za){ve==4&&(this.s=4,se(14),p=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Fi){this.s=4,se(15),Qi(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else Qi(this.i,this.l,Me,null),rn(this,Me);if(Yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||$.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)Qi(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),an(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Ya(Ce),Ce.M=!0,se(11))}}else Qi(this.i,this.l,$,null),rn(this,$);ve==4&&We(this),this.o&&!this.J&&(ve==4?_u(this.j,this):(this.o=!1,$t(this)))}else Ec(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),an(this)}}}catch{}finally{}};function Yi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Ki(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?za:(p=Number(m.substring(p,T)),isNaN(p)?Fi:(T+=1,T+p>m.length?za:(m=m.slice(T,T+p),o.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,We(this)};function $t(o){o.S=Date.now()+o.I,xs(o,o.I)}function xs(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Hi(U(o.ba,o),m)}function br(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(ji(),se(17)),We(this),this.s=2,an(this)):xs(this,this.S-o)};function an(o){o.j.G==0||o.J||_u(o.j,o)}function We(o){br(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,ke(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function rn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Xi(p.h,o))){if(!o.K&&Xi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)xr(p),Or(p);else break t;Qs(p),se(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=Hi(U(p.Za,p),6e3));if(1>=uu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else gi(p,11)}else if((o.K||p.g==o)&&xr(p),!ot(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Ot=L[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ce=Ot[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const ve=Ot[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const pi=Ot[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var k=T.h;k.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Zi(k,k.h),k.h=null))}if(T.D){const Ys=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ys&&(T.ya=Ys,zt(T.I,T.D,Ys))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=Eu(T,T.J?T.ia:null,T.W),$.K){gn(T.h,$);var Nt=$,_e=T.L;_e&&(Nt.I=_e),Nt.B&&(br(Nt),$t(Nt)),T.g=$}else pu(T);0<p.i.length&&Mr(p)}else Ot[0]!="stop"&&Ot[0]!="close"||gi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?gi(p,7):Hs(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}ji(4)}catch{}}var gc=class{constructor(o,m){this.g=o,this.map=m}};function Us(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function uu(o){return o.h?1:o.g?o.g.size:0}function Xi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Zi(o,m){o.g?o.g.add(m):o.h=m}function gn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Us.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return W(o.i)}function ou(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function pc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Ba(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=pc(o),T=ou(o),L=T.length,k=0;k<L;k++)m.call(void 0,T[k],p&&p[k],o)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rr(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),L=null;if(0<=T){var k=o[p].substring(0,T);L=o[p].substring(T+1)}else k=o[p];m(k,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ci(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof ci){this.h=o.h,$i(this,o.j),this.o=o.o,this.g=o.g,Pa(this,o.s),this.l=o.l;var m=o.i,p=new qn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),wr(this,p),this.m=o.m}else o&&(m=String(o).match(zs))?(this.h=!1,$i(this,m[1]||"",!0),this.o=Ji(m[2]||""),this.g=Ji(m[3]||"",!0),Pa(this,m[4]),this.l=Ji(m[5]||"",!0),wr(this,m[6]||"",!0),this.m=Ji(m[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ci.prototype.toString=function(){var o=[],m=this.j;m&&o.push(pn(m,Bs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(pn(m,Bs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(pn(p,p.charAt(0)=="/"?Ps:cu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",pn(p,vc)),o.join("")};function ne(o){return new ci(o)}function $i(o,m,p){o.j=p?Ji(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pa(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function wr(o,m,p){m instanceof qn?(o.i=m,ks(o.i,o.h)):(p||(m=pn(m,_c)),o.i=new qn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function ka(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ji(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,yc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function yc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Bs=/[#\/\?@]/g,cu=/[#\?:]/g,Ps=/[#\?]/g,_c=/[#\?@]/g,vc=/#/g;function qn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Rr(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=qn.prototype,s.add=function(o,m){yn(this),this.i=null,o=di(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Dr(o,m){yn(o),m=di(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return yn(o),m=di(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(L){o.call(m,L,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=o[T];for(let k=0;k<L.length;k++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(di(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=di(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){Dr(o,m),0<p.length&&(o.i=null,o.g.set(di(o,m),W(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var L=k;$[T]!==""&&(L+="="+encodeURIComponent(String($[T]))),o.push(L)}}return this.i=o.join("&")};function di(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ks(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(Dr(this,T),fi(this,L,p))},o)),o.j=m}function hu(o,m){const p=new Gi;if(g.Image){const T=new Image;T.onload=j(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function qa(o,m){const p=new Gi,T=new AbortController,L=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(k=>{clearTimeout(L),k.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function ja(){this.g=new Ye}function jn(o,m,p){const T=p||"";try{Ba(o,function(L,k){let $=L;v(L)&&($=Is(L)),m.push(T+k+"="+encodeURIComponent($))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Wi(o){this.l=o.Ub||null,this.j=o.eb||!1}Z(Wi,Ns),Wi.prototype.g=function(){return new mi(this.l,this.j)},Wi.prototype.i=function(o){return function(){return o}}({});function mi(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(mi,pe),s=mi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Hn(this):Gn(this),this.readyState==3&&qs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Hn(this))},s.Qa=function(o){this.g&&(this.response=o,Hn(this))},s.ga=function(){this.g&&Hn(this)};function Hn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function js(o){let m="";return It(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=js(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function qt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(qt,pe);var Cr=/^https?$/i,Ha=["POST","PUT"];s=qt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():La.g(),this.v=this.o?iu(this.o):iu(La),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(k){fu(this,k);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),L=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Ha,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,$]of p)this.g.setRequestHeader(k,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ga(this),this.u=!0,this.g.send(o),this.u=!1}catch(k){fu(this,k)}};function fu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Vr(o),Qn(o)}function Vr(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ir(this):this.bb())},s.bb=function(){Ir(this)};function Ir(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)nu(o.Ea,0,o);else if(Re(o,"readystatechange"),vn(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var L=String(o.D).match(zs)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Cr.test(L?L.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var k=2<vn(o)?o.g.statusText:""}catch{k=""}o.l=k+" ["+o.Z()+"]",Vr(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Ga(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Ga(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function du(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Ec(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(ot(o[T]))continue;var p=I(o[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[L]||[];m[L]=k,k.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Nr(o){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,o),this.cb=Qa("retryDelaySeedMs",1e4,o),this.Wa=Qa("forwardChannelMaxRetries",2,o),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(o&&o.concurrentRequestLimit),this.Da=new ja,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Nr.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Eu(this,null,this.W),Mr(this)};function Hs(o){if(mu(o),o.G==3){var m=o.U++,p=ne(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),Fa(o,p),m=new kn(o,o.j,m),m.L=2,m.v=ka(ne(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}vu(o)}function Or(o){o.g&&(Ya(o),o.g.cancel(),o.g=null)}function mu(o){Or(o),o.u&&(g.clearTimeout(o.u),o.u=null),xr(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Mr(o){if(!Ls(o.h)&&!o.s){o.s=!0;var m=o.Ga;mt||C(),ct||(mt(),ct=!0),kt.add(m,o),o.B=0}}function Tc(o,m){return uu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Hi(U(o.Ga,o,m),Fs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const L=new kn(this,this.j,o);let k=this.o;if(this.S&&(k?(k=A(k),D(k,this.S)):k=this.S),this.m!==null||this.O||(L.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),p=ne(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),Fa(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(js(k)))+"&"+m:this.m&&De(p,this.m,k)),Zi(this.h,L),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),L.T=!0,Nn(L,p,null)):Nn(L,p,m),this.G=2}}else this.G==3&&(o?Gs(this,o):this.i.length==0||Ls(this.h)||Gs(this))};function Gs(o,m){var p;m?p=m.l:p=o.U++;const T=ne(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),Fa(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new kn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=gu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Zi(o.h,p),Nn(p,T,m)}function Fa(o,m){o.H&&It(o.H,function(p,T){zt(m,T,p)}),o.l&&Ba({},function(p,T){zt(m,T,p)})}function gu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?U(o.l.Na,o.l,o):null;t:{var L=o.i;let k=-1;for(;;){const $=["count="+p];k==-1?0<p?(k=L[0].g,$.push("ofs="+k)):k=0:$.push("ofs="+k);let Nt=!0;for(let _e=0;_e<p;_e++){let Ot=L[_e].g;const Ce=L[_e].map;if(Ot-=k,0>Ot)k=Math.max(0,L[_e].g-100),Nt=!1;else try{jn(Ce,$,"req"+Ot+"_")}catch{T&&T(Ce)}}if(Nt){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function pu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;mt||C(),ct||(mt(),ct=!0),kt.add(m,o),o.v=0}}function Qs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Hi(U(o.Fa,o),Fs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Hi(U(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Or(this),yu(this))};function Ya(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function yu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),Fa(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=ka(ne(m)),p.m=null,p.P=!0,oi(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Or(this),Qs(this),se(19))};function xr(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function _u(o,m){var p=null;if(o.g==m){xr(o),Ya(o),o.g=null;var T=2}else if(Xi(o.h,m))p=m.D,gn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=o.B;T=Tr(),Re(T,new ru(T,p)),Mr(o)}else pu(o);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Tc(o,m)||T==2&&Qs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),L){case 1:gi(o,5);break;case 4:gi(o,10);break;case 3:gi(o,6);break;default:gi(o,2)}}}function Fs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function gi(o,m){if(o.j.info("Error code "+m),m==2){var p=U(o.fb,o),T=o.Xa;const L=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||$i(T,"https"),ka(T),L?hu(T.toString(),p):qa(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),vu(o),mu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function vu(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(X(o.ka,m),X(o.ka,o.i),o.h.i.length=0,W(o.i),o.i.length=0),o.l.ra()}}function Eu(o,m,p){var T=p instanceof ci?ne(p):new ci(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pa(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var k=new ci(null);T&&$i(k,T),m&&(k.g=m),L&&Pa(k,L),p&&(k.l=p),T=k}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),Fa(o,T),T}function Tu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new qt(new Wi({eb:p})):new qt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ur(){}Ur.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Nr(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!ot(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}Z(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Hs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Is(o),o=p);m.i.push(new gc(m.Ya++,o)),m.G==3&&Mr(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Xe.aa.N.call(this)};function Su(o){ki.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}Z(Su,ki);function bu(){In.call(this),this.status=1}Z(bu,In);function Fn(o){this.g=o}Z(Fn,Au),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Su(o))},Fn.prototype.sa=function(o){Re(this.g,new bu)},Fn.prototype.ra=function(){Re(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,h_=function(){return new Ur},c_=function(){return Tr()},o_=mn,Of={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Co=ye,ui.COMPLETE="complete",u_=ui,au.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Ul=au,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,l_=qt}).apply(typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{});const ey="@firebase/firestore",ny="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new t_("@firebase/firestore");function us(){return mr.logLevel}function it(s,...e){if(mr.logLevel<=Ut.DEBUG){const i=e.map(Wf);mr.debug(`Firestore (${As}): ${s}`,...i)}}function xi(s,...e){if(mr.logLevel<=Ut.ERROR){const i=e.map(Wf);mr.error(`Firestore (${As}): ${s}`,...i)}}function ms(s,...e){if(mr.logLevel<=Ut.WARN){const i=e.map(Wf);mr.warn(`Firestore (${As}): ${s}`,...i)}}function Wf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+s;throw xi(e),new Error(e)}function jt(s,e){s||gt()}function _t(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class JT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class WT{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0);let r=this.i;const u=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let h=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Oi,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Oi)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(r=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string"),new f_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Ge(e)}}class tA{constructor(e,i,r){this.l=e,this.h=i,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eA{constructor(e,i,r){this.l=e,this.h=i,this.P=r}getToken(){return Promise.resolve(new tA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,xT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0);const r=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>r(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new iy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const u=iA(40);for(let h=0;h<u.length;++h)r.length<20&&u[h]<i&&(r+=e.charAt(u[h]%62))}return r}}function Dt(s,e){return s<e?-1:s>e?1:0}function xf(s,e){const i=Mf().encode(s),r=Mf().encode(e);for(let u=0;u<Math.min(i.length,r.length);u++){const h=Dt(i[u],r[u]);if(h!==0)return h}return Dt(i.length,r.length)}function gs(s,e,i){return s.length===e.length&&s.every((r,u)=>i(r,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ay=-62135596800,ry=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*ry);return new Se(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ay)throw new lt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ry}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ay;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Se(0,0))}static max(){return new pt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sy="__name__";class ti{constructor(e,i,r){i===void 0?i=0:i>e.length&&gt(),r===void 0?r=e.length-i:r>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(r=>{i.push(r)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let u=0;u<r;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Dt(e.length,i.length)}static compareSegments(e,i){const r=ti.isNumericId(e),u=ti.isNumericId(i);return r&&!u?-1:!r&&u?1:r&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sa.fromString(e.substring(4,e.length-2))}}class Zt extends ti{construct(e,i,r){return new Zt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new lt(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const aA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,r){return new Be(e,i,r)}static isValidIdentifier(e){return aA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sy}static keyField(){return new Be([sy])}static fromServerFormat(e){const i=[];let r="",u=0;const h=()=>{if(r.length===0)throw new lt(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new lt(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(r+=g,u++):(h(),u++)}if(h(),d)throw new lt(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Zt.fromString(e))}static fromName(e){return new ht(Zt.fromString(e).popFirst(5))}static empty(){return new ht(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function rA(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(r===1e9?new Se(i+1,0):new Se(i,r));return new wa(u,ht.empty(),e)}function sA(s){return new wa(s.readTime,s.key,Ql)}class wa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new wa(pt.min(),ht.empty(),Ql)}static max(){return new wa(pt.max(),ht.empty(),Ql)}}function lA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(s.documentKey,e.documentKey),i!==0?i:Dt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==uA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((r,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,r)=>{i(e)})}static reject(e){return new Q((i,r)=>{r(e)})}static waitFor(e){return new Q((i,r)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>r(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const r of e)i=i.next(u=>u?Q.resolve(u):r());return i}static forEach(e,i){const r=[];return e.forEach((u,h)=>{r.push(i.call(this,u,h))}),this.waitFor(r)}static mapArray(e,i){return new Q((r,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(R=>{d[v]=R,++g,g===h&&r(d)},R=>u(R))}})}static doWhile(e,i){return new Q((r,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):r()};h()})}}function cA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.oe(r),this._e=r=>i.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Zo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=-1;function $o(s){return s==null}function Bo(s){return s===0&&1/s==-1/0}function hA(s){return typeof s=="number"&&Number.isInteger(s)&&!Bo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="";function fA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ly(e)),e=dA(s.get(i),e);return ly(e)}function dA(s,e){let i=e;const r=s.length;for(let u=0;u<r;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case m_:i+="";break;default:i+=h}}return i}function ly(s){return s+m_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Oa(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function g_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(u===0)return i+r.left.size;u<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,r)=>(e(i,r),!1))}toString(){const e=[];return this.inorderTraversal((i,r)=>(e.push(`${i}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}}class bo{constructor(e,i,r,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,u,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=u??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,u,h){return new ze(e??this.key,i??this.value,r??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let u=this;const h=r(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,r),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,r,u,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,r)=>(e(i),!1))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new oy(this.data.getIterator())}getIteratorFrom(e){return new oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(r=>{i=i.add(r)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new hn([])}unionWith(e){let i=new be(Be.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new hn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,r)=>i.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new p_("Invalid base64 string: "+h):h}}(e);return new Pe(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Pe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const r=new Uint8Array(i.length);for(let u=0;u<i.length;u++)r[u]=i.charCodeAt(u);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const mA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(s){if(jt(!!s),typeof s=="string"){let e=0;const i=mA.exec(s);if(jt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ca(s){return typeof s=="string"?Pe.fromBase64String(s):Pe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="server_timestamp",__="__type__",v_="__previous_value__",E_="__local_write_time__";function ed(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[__])===null||i===void 0?void 0:i.stringValue)===y_}function Jo(s){const e=s.mapValue.fields[v_];return ed(e)?Jo(e):e}function Fl(s){const e=Da(s.mapValue.fields[E_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i,r,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Po="(default)";class Yl{constructor(e,i){this.projectId=e,this.database=i||Po}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===Po}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__type__",pA="__max__",Ro={mapValue:{}},A_="__vector__",ko="value";function Va(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ed(s)?4:_A(s)?9007199254740991:yA(s)?10:11:gt()}function ii(s,e){if(s===e)return!0;const i=Va(s);if(i!==Va(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Fl(s).isEqual(Fl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=Da(u.timestampValue),g=Da(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Ca(u.bytesValue).isEqual(Ca(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),g=ue(h.doubleValue);return d===g?Bo(d)===Bo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return gs(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(uy(d)!==uy(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return gt()}}function Kl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ps(s,e){if(s===e)return 0;const i=Va(s),r=Va(e);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return cy(s.timestampValue,e.timestampValue);case 4:return cy(Fl(s),Fl(e));case 5:return xf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Ca(h),_=Ca(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const R=Dt(g[v],_[v]);if(R!==0)return R}return Dt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Dt(ue(h.latitude),ue(d.latitude));return g!==0?g:Dt(ue(h.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return hy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,R;const M=h.fields||{},U=d.fields||{},j=(g=M[ko])===null||g===void 0?void 0:g.arrayValue,Z=(_=U[ko])===null||_===void 0?void 0:_.arrayValue,W=Dt(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((R=Z==null?void 0:Z.values)===null||R===void 0?void 0:R.length)||0);return W!==0?W:hy(j,Z)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ro.mapValue&&d===Ro.mapValue)return 0;if(h===Ro.mapValue)return 1;if(d===Ro.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},R=Object.keys(v);_.sort(),R.sort();for(let M=0;M<_.length&&M<R.length;++M){const U=xf(_[M],R[M]);if(U!==0)return U;const j=ps(g[_[M]],v[R[M]]);if(j!==0)return j}return Dt(_.length,R.length)}(s.mapValue,e.mapValue);default:throw gt()}}function cy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Dt(s,e);const i=Da(s),r=Da(e),u=Dt(i.seconds,r.seconds);return u!==0?u:Dt(i.nanos,r.nanos)}function hy(s,e){const i=s.values||[],r=e.values||[];for(let u=0;u<i.length&&u<r.length;++u){const h=ps(i[u],r[u]);if(h)return h}return Dt(i.length,r.length)}function ys(s){return Uf(s)}function Uf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const r=Da(i);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Ca(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ht.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let r="[",u=!0;for(const h of i.values||[])u?u=!1:r+=",",r+=Uf(h);return r+"]"}(s.arrayValue):"mapValue"in s?function(i){const r=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of r)h?h=!1:u+=",",u+=`${d}:${Uf(i.fields[d])}`;return u+"}"}(s.mapValue):gt()}function Vo(s){switch(Va(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jo(s);return e?16+Vo(e):16;case 5:return 2*s.stringValue.length;case 6:return Ca(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((u,h)=>u+Vo(h),0)}(s.arrayValue);case 10:case 11:return function(r){let u=0;return Oa(r.fields,(h,d)=>{u+=h.length+Vo(d)}),u}(s.mapValue);default:throw gt()}}function Lf(s){return!!s&&"integerValue"in s}function nd(s){return!!s&&"arrayValue"in s}function fy(s){return!!s&&"nullValue"in s}function dy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Io(s){return!!s&&"mapValue"in s}function yA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[T_])===null||i===void 0?void 0:i.stringValue)===A_}function Pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Oa(s.mapValue.fields,(i,r)=>e.mapValue.fields[i]=Pl(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function _A(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===pA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Io(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Be.emptyPath(),r={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,r,u),r={},u=[],i=g.popLast()}d?r[g.lastSegment()]=Pl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,r,u)}delete(e){const i=this.field(e.popLast());Io(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=i.mapValue.fields[e.get(r)];Io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,r){Oa(i,(u,h)=>e[u]=h);for(const u of r)delete e[u]}clone(){return new nn(Pl(this.value))}}function S_(s){const e=[];return Oa(s.fields,(i,r)=>{const u=new Be([i]);if(Io(r)){const h=S_(r.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new hn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,r,u,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,pt.min(),pt.min(),pt.min(),nn.empty(),0)}static newFoundDocument(e,i,r,u){return new Qe(e,1,i,pt.min(),r,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,pt.min(),pt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,pt.min(),pt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function my(s,e,i){let r=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?r=ht.comparator(ht.fromName(d.referenceValue),i.key):r=ps(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function gy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,i="asc"){this.field=e,this.dir=i}}function vA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{}class Ae extends b_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new TA(e,i,r):i==="array-contains"?new bA(e,r):i==="in"?new RA(e,r):i==="not-in"?new wA(e,r):i==="array-contains-any"?new DA(e,r):new Ae(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new AA(e,r):new SA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&Va(this.value)===Va(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends b_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ai(e,i)}matches(e){return R_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function R_(s){return s.op==="and"}function w_(s){return EA(s)&&R_(s)}function EA(s){for(const e of s.filters)if(e instanceof ai)return!1;return!0}function zf(s){if(s instanceof Ae)return s.field.canonicalString()+s.op.toString()+ys(s.value);if(w_(s))return s.filters.map(e=>zf(e)).join(",");{const e=s.filters.map(i=>zf(i)).join(",");return`${s.op}(${e})`}}function D_(s,e){return s instanceof Ae?function(r,u){return u instanceof Ae&&r.op===u.op&&r.field.isEqual(u.field)&&ii(r.value,u.value)}(s,e):s instanceof ai?function(r,u){return u instanceof ai&&r.op===u.op&&r.filters.length===u.filters.length?r.filters.reduce((h,d,g)=>h&&D_(d,u.filters[g]),!0):!1}(s,e):void gt()}function C_(s){return s instanceof Ae?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(s):s instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(C_).join(" ,")+"}"}(s):"Filter"}class TA extends Ae{constructor(e,i,r){super(e,i,r),this.key=ht.fromName(r.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class AA extends Ae{constructor(e,i){super(e,"in",i),this.keys=V_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class SA extends Ae{constructor(e,i){super(e,"not-in",i),this.keys=V_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function V_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(r=>ht.fromName(r.referenceValue))}class bA extends Ae{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return nd(i)&&Kl(i.arrayValue,this.value)}}class RA extends Ae{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class wA extends Ae{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class DA extends Ae{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(r=>Kl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i=null,r=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function py(s,e=null,i=[],r=[],u=null,h=null,d=null){return new CA(s,e,i,r,u,h,d)}function id(s){const e=_t(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(r=>zf(r)).join(","),i+="|ob:",i+=e.orderBy.map(r=>function(h){return h.field.canonicalString()+h.dir}(r)).join(","),$o(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>ys(r)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>ys(r)).join(",")),e.le=i}return e.le}function ad(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!vA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!D_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!gy(s.startAt,e.startAt)&&gy(s.endAt,e.endAt)}function Bf(s){return ht.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,i=null,r=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function VA(s,e,i,r,u,h,d,g){return new Wo(s,e,i,r,u,h,d,g)}function rd(s){return new Wo(s)}function yy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function IA(s){return s.collectionGroup!==null}function kl(s){const e=_t(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new jo(h,r))}),i.has(Be.keyField().canonicalString())||e.he.push(new jo(Be.keyField(),r))}return e.he}function ei(s){const e=_t(s);return e.Pe||(e.Pe=NA(e,kl(s))),e.Pe}function NA(s,e){if(s.limitType==="F")return py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new jo(u.field,h)});const i=s.endAt?new qo(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new qo(s.startAt.position,s.startAt.inclusive):null;return py(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Pf(s,e,i){return new Wo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function tc(s,e){return ad(ei(s),ei(e))&&s.limitType===e.limitType}function I_(s){return`${id(ei(s))}|lt:${s.limitType}`}function os(s){return`Query(target=${function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map(u=>C_(u)).join(", ")}]`),$o(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${r})`}(ei(s))}; limitType=${s.limitType})`}function ec(s,e){return e.isFoundDocument()&&function(r,u){const h=u.key.path;return r.collectionGroup!==null?u.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):ht.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)}(s,e)&&function(r,u){for(const h of kl(r))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(r,u){for(const h of r.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(r,u){return!(r.startAt&&!function(d,g,_){const v=my(d,g,_);return d.inclusive?v<=0:v<0}(r.startAt,kl(r),u)||r.endAt&&!function(d,g,_){const v=my(d,g,_);return d.inclusive?v>=0:v>0}(r.endAt,kl(r),u))}(s,e)}function OA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N_(s){return(e,i)=>{let r=!1;for(const u of kl(s)){const h=MA(u,e,i);if(h!==0)return h;r=r||u.field.isKeyField()}return 0}}function MA(s,e,i){const r=s.field.isKeyField()?ht.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ps(_,v):gt()}(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[u,h]of r)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),u=this.inner[r];if(u===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return r.length===1?delete this.inner[i]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(i,r)=>{for(const[u,h]of r)e(u,h)})}isEmpty(){return g_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new te(ht.comparator);function Ui(){return xA}const O_=new te(ht.comparator);function Ll(...s){let e=O_;for(const i of s)e=e.insert(i.key,i);return e}function M_(s){let e=O_;return s.forEach((i,r)=>e=e.insert(i,r.overlayedDocument)),e}function dr(){return ql()}function x_(){return ql()}function ql(){return new pr(s=>s.toString(),(s,e)=>s.isEqual(e))}const UA=new te(ht.comparator),LA=new be(ht.comparator);function Ct(...s){let e=LA;for(const i of s)e=e.add(i);return e}const zA=new be(Dt);function BA(){return zA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function U_(s){return{integerValue:""+s}}function PA(s,e){return hA(e)?U_(e):sd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function kA(s,e,i){return s instanceof Ho?function(u,h){const d={fields:{[__]:{stringValue:y_},[E_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ed(h)&&(h=Jo(h)),h&&(d.fields[v_]=h),{mapValue:d}}(i,e):s instanceof Xl?z_(s,e):s instanceof Zl?B_(s,e):function(u,h){const d=L_(u,h),g=_y(d)+_y(u.Ie);return Lf(d)&&Lf(u.Ie)?U_(g):sd(u.serializer,g)}(s,e)}function qA(s,e,i){return s instanceof Xl?z_(s,e):s instanceof Zl?B_(s,e):i}function L_(s,e){return s instanceof Go?function(r){return Lf(r)||function(h){return!!h&&"doubleValue"in h}(r)}(e)?e:{integerValue:0}:null}class Ho extends nc{}class Xl extends nc{constructor(e){super(),this.elements=e}}function z_(s,e){const i=P_(e);for(const r of s.elements)i.some(u=>ii(u,r))||i.push(r);return{arrayValue:{values:i}}}class Zl extends nc{constructor(e){super(),this.elements=e}}function B_(s,e){let i=P_(e);for(const r of s.elements)i=i.filter(u=>!ii(u,r));return{arrayValue:{values:i}}}class Go extends nc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function _y(s){return ue(s.integerValue||s.doubleValue)}function P_(s){return nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function jA(s,e){return s.field.isEqual(e.field)&&function(r,u){return r instanceof Xl&&u instanceof Xl||r instanceof Zl&&u instanceof Zl?gs(r.elements,u.elements,ii):r instanceof Go&&u instanceof Go?ii(r.Ie,u.Ie):r instanceof Ho&&u instanceof Ho}(s.transform,e.transform)}class HA{constructor(e,i){this.version=e,this.transformResults=i}}class Ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ic{}function k_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new ld(s.key,Ln.none()):new $l(s.key,s.data,Ln.none());{const i=s.data,r=nn.empty();let u=new be(Be.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),u=u.add(h)}return new Ma(s.key,r,new hn(u.toArray()),Ln.none())}}function GA(s,e,i){s instanceof $l?function(u,h,d){const g=u.value.clone(),_=Ey(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ma?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Ey(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(q_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function jl(s,e,i,r){return s instanceof $l?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=h.value.clone(),R=Ty(h.fieldTransforms,_,d);return v.setAll(R),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,r):s instanceof Ma?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=Ty(h.fieldTransforms,_,d),R=d.data;return R.setAll(q_(h)),R.setAll(v),d.convertToFoundDocument(d.version,R).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(M=>M.field))}(s,e,i,r):function(h,d,g){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function QA(s,e){let i=null;for(const r of s.fieldTransforms){const u=e.data.field(r.field),h=L_(r.transform,u||null);h!=null&&(i===null&&(i=nn.empty()),i.set(r.field,h))}return i||null}function vy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,u){return r===void 0&&u===void 0||!(!r||!u)&&gs(r,u,(h,d)=>jA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends ic{constructor(e,i,r,u=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ma extends ic{constructor(e,i,r,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function q_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}}),e}function Ey(s,e,i){const r=new Map;jt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);r.set(h.field,qA(d,g,i[u]))}return r}function Ty(s,e,i){const r=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);r.set(u.field,kA(h,d,e))}return r}class ld extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FA extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i,r,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&GA(h,e,r[u])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=jl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=jl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=x_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=k_(d,g);_!==null&&r.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(pt.min())}),r}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,r)=>vy(i,r))&&gs(this.baseMutations,e.baseMutations,(i,r)=>vy(i,r))}}class ud{constructor(e,i,r,u){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=u}static from(e,i,r){jt(e.mutations.length===r.length);let u=function(){return UA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,r[d].version);return new ud(e,i,r,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,xt;function ZA(s){switch(s){case Y.OK:return gt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return gt()}}function j_(s){if(s===void 0)return xi("GRPC error has no .code"),Y.UNKNOWN;switch(s){case me.OK:return Y.OK;case me.CANCELLED:return Y.CANCELLED;case me.UNKNOWN:return Y.UNKNOWN;case me.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case me.INTERNAL:return Y.INTERNAL;case me.UNAVAILABLE:return Y.UNAVAILABLE;case me.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case me.NOT_FOUND:return Y.NOT_FOUND;case me.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case me.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case me.ABORTED:return Y.ABORTED;case me.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case me.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case me.DATA_LOSS:return Y.DATA_LOSS;default:return gt()}}(xt=me||(me={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=new Sa([4294967295,4294967295],0);function Ay(s){const e=Mf().encode(s),i=new s_;return i.update(e),new Uint8Array(i.digest())}function Sy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Sa([i,r],0),new Sa([u,h],0)]}class od{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(r<0)throw new zl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Sa.fromNumber(this.Ee)}Ae(e,i,r){let u=e.add(i.multiply(Sa.fromNumber(r)));return u.compare($A)===1&&(u=new Sa([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=Ay(e),[r,u]=Sy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,r){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new od(h,u,i);return r.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=Ay(e),[r,u]=Sy(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(r,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i,r,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new ac(pt.min(),u,new te(Dt),Ui(),Ct())}}class Jl{constructor(e,i,r,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new Jl(r,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i,r,u){this.me=e,this.removedTargetIds=i,this.key=r,this.fe=u}}class H_{constructor(e,i){this.targetId=e,this.ge=i}}class G_{constructor(e,i,r=Pe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=u}}class by{constructor(){this.pe=0,this.ye=Ry(),this.we=Pe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ct(),i=Ct(),r=Ct();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:r=r.add(u);break;default:gt()}}),new Jl(this.we,this.Se,e,i,r)}Me(){this.be=!1,this.ye=Ry()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class JA{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ui(),this.$e=wo(),this.Ue=wo(),this.Ke=new te(Dt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const r=this.He(i);switch(e.state){case 0:this.Je(i)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(i);break;case 3:this.Je(i)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),r.Ce(e.resumeToken));break;default:gt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((r,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,r=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Bf(h))if(r===0){const d=new ht(h.path);this.ze(i,d,Qe.newNoDocument(d,pt.min()))}else jt(r===1);else{const d=this.et(i);if(d!==r){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Ca(r).toUint8Array()}catch(_){if(_ instanceof p_)return ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new od(d,u,h)}catch(_){return ms(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,r){return i.ge.count===r-this.st(e,i.targetId)?0:2}st(e,i){const r=this.ke.getRemoteKeysForTarget(i);let u=0;return r.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Bf(g.target)){const _=new ht(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let r=Ct();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(r=r.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new ac(e,i,this.Ke,this.Qe,r);return this.Qe=Ui(),this.$e=wo(),this.Ue=wo(),this.Ke=new te(Dt),u}Ge(e,i){if(!this.Je(e))return;const r=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,r),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,r){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),r&&(this.Qe=this.Qe.insert(i,r))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new by,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(Dt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Dt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new by),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function wo(){return new te(ht.comparator)}function Ry(){return new te(ht.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},tS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eS={and:"AND",or:"OR"};class nS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function kf(s,e){return s.useProto3Json||$o(e)?e:{value:e}}function Qo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function iS(s,e){return Qo(s,e.toTimestamp())}function ni(s){return jt(!!s),pt.fromTimestamp(function(i){const r=Da(i);return new Se(r.seconds,r.nanos)}(s))}function cd(s,e){return qf(s,e).canonicalString()}function qf(s,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function F_(s){const e=Zt.fromString(s);return jt($_(e)),e}function jf(s,e){return cd(s.databaseId,e.path)}function Af(s,e){const i=F_(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ht(K_(i))}function Y_(s,e){return cd(s.databaseId,e)}function aS(s){const e=F_(s);return e.length===4?Zt.emptyPath():K_(e)}function Hf(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function K_(s){return jt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function wy(s,e,i){return{name:jf(s,e),fields:i.value.mapValue.fields}}function rS(s,e){let i;if("targetChange"in e){e.targetChange;const r=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,R){return v.useProto3Json?(jt(R===void 0||typeof R=="string"),Pe.fromBase64String(R||"")):(jt(R===void 0||R instanceof Buffer||R instanceof Uint8Array),Pe.fromUint8Array(R||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const R=v.code===void 0?Y.UNKNOWN:j_(v.code);return new lt(R,v.message||"")}(d);i=new G_(r,u,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const u=Af(s,r.document.name),h=ni(r.document.updateTime),d=r.document.createTime?ni(r.document.createTime):pt.min(),g=new nn({mapValue:{fields:r.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=r.targetIds||[],R=r.removedTargetIds||[];i=new Oo(v,R,_.key,_)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const u=Af(s,r.document),h=r.readTime?ni(r.readTime):pt.min(),d=Qe.newNoDocument(u,h),g=r.removedTargetIds||[];i=new Oo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const u=Af(s,r.document),h=r.removedTargetIds||[];i=new Oo([],h,u,null)}else{if(!("filter"in e))return gt();{e.filter;const r=e.filter;r.targetId;const{count:u=0,unchangedNames:h}=r,d=new XA(u,h),g=r.targetId;i=new H_(g,d)}}return i}function sS(s,e){let i;if(e instanceof $l)i={update:wy(s,e.key,e.value)};else if(e instanceof ld)i={delete:jf(s,e.key)};else if(e instanceof Ma)i={update:wy(s,e.key,e.data),updateMask:gS(e.fieldMask)};else{if(!(e instanceof FA))return gt();i={verify:jf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(r=>function(h,d){const g=d.transform;if(g instanceof Ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Zl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Go)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw gt()}(0,r))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:iS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt()}(s,e.precondition)),i}function lS(s,e){return s&&s.length>0?(jt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(pt.min())&&(d=ni(h)),new HA(d,u.transformResults||[])}(i,e))):[]}function uS(s,e){return{documents:[Y_(s,e.path)]}}function oS(s,e){const i={structuredQuery:{}},r=e.path;let u;e.collectionGroup!==null?(u=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Y_(s,u);const h=function(v){if(v.length!==0)return Z_(ai.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(R=>function(U){return{field:cs(U.field),direction:fS(U.dir)}}(R))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=kf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function cS(s){let e=aS(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let u=null;if(r>0){jt(r===1);const R=i.from[0];R.allDescendants?u=R.collectionId:e=e.child(R.collectionId)}let h=[];i.where&&(h=function(M){const U=X_(M);return U instanceof ai&&w_(U)?U.getFilters():[U]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(U=>function(Z){return new jo(hs(Z.field),function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Z.direction))}(U))}(i.orderBy));let g=null;i.limit&&(g=function(M){let U;return U=typeof M=="object"?M.value:M,$o(U)?null:U}(i.limit));let _=null;i.startAt&&(_=function(M){const U=!!M.before,j=M.values||[];return new qo(j,U)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const U=!M.before,j=M.values||[];return new qo(j,U)}(i.endAt)),VA(e,u,d,h,g,"F",_,v)}function hS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function X_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=hs(i.unaryFilter.field);return Ae.create(r,"==",{doubleValue:NaN});case"IS_NULL":const u=hs(i.unaryFilter.field);return Ae.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=hs(i.unaryFilter.field);return Ae.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=hs(i.unaryFilter.field);return Ae.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):s.fieldFilter!==void 0?function(i){return Ae.create(hs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(r=>X_(r)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(s):gt()}function fS(s){return WA[s]}function dS(s){return tS[s]}function mS(s){return eS[s]}function cs(s){return{fieldPath:s.canonicalString()}}function hs(s){return Be.fromServerFormat(s.fieldPath)}function Z_(s){return s instanceof Ae?function(i){if(i.op==="=="){if(dy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NAN"}};if(fy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NAN"}};if(fy(i.value))return{unaryFilter:{field:cs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cs(i.field),op:dS(i.op),value:i.value}}}(s):s instanceof ai?function(i){const r=i.getFilters().map(u=>Z_(u));return r.length===1?r[0]:{compositeFilter:{op:mS(i.op),filters:r}}}(s):gt()}function gS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function $_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i,r,u,h=pt.min(),d=pt.min(),g=Pe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.Tt=e}}function yS(s){const e=cS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Tn=new vS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(wa.min())}updateCollectionGroup(e,i,r){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class vS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i]||new be(Zt.comparator),h=!u.has(r);return this.index[i]=u.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),u=this.index[i];return u&&u.has(r)}getEntries(e){return(this.index[e]||new be(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(J_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new _s(0)}static Kn(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="LruGarbageCollector",ES=1048576;function Vy([s,e],[i,r]){const u=Dt(s,i);return u===0?Dt(e,r):u}class TS{constructor(e){this.Hn=e,this.buffer=new be(Vy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Vy(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class AS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(Cy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?it(Cy,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.er(3e5)})}}class SS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(r=>Math.floor(i/100*r))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Zo.ae);const r=new TS(i);return this.tr.forEachTarget(e,u=>r.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>r.Zn(u))).next(()=>r.maxValue)}removeTargets(e,i,r){return this.tr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Dy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let r,u,h,d,g,_,v;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,d=Date.now(),this.nthSequenceNumber(e,u))).next(M=>(r=M,g=Date.now(),this.removeTargets(e,r,i))).next(M=>(h=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(v=Date.now(),us()<=Ut.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-R}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-R}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:M})))}}function bS(s,e){return new SS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.changes=new pr(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Q.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,i,r,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(r=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(r!==null&&jl(r.mutation,u,hn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,i,r=Ct()){const u=dr();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,r).next(h=>{let d=Ll();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const r=dr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,Ct()))}populateOverlays(e,i,r){const u=[];return r.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,r,u){let h=Ui();const d=ql(),g=function(){return ql()}();return i.forEach((_,v)=>{const R=r.get(v.key);u.has(v.key)&&(R===void 0||R.mutation instanceof Ma)?h=h.insert(v.key,v):R!==void 0?(d.set(v.key,R.mutation.getFieldMask()),jl(R.mutation,v,R.mutation.getFieldMask(),Se.now())):d.set(v.key,hn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,R)=>d.set(v,R)),i.forEach((v,R)=>{var M;return g.set(v,new wS(R,(M=d.get(v))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(e,i){const r=ql();let u=new te((d,g)=>d-g),h=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let R=r.get(_)||hn.empty();R=g.applyToLocalView(v,R),r.set(_,R);const M=(u.get(g.batchId)||Ct()).add(_);u=u.insert(g.batchId,M)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,R=_.value,M=x_();R.forEach(U=>{if(!h.has(U)){const j=k_(i.get(U),r.get(U));j!==null&&M.set(U,j),h=h.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return Q.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,i,r,u){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):IA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,u):this.getDocumentsMatchingCollectionQuery(e,i,r,u)}getNextDocuments(e,i,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,u-h.size):Q.resolve(dr());let g=Ql,_=h;return d.next(v=>Q.forEach(v,(R,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),h.get(R)?Q.resolve():this.remoteDocumentCache.getEntry(e,R).next(U=>{_=_.insert(R,U)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Ct())).next(R=>({batchId:g,changes:M_(R)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(r=>{let u=Ll();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,r,u){const h=i.collectionGroup;let d=Ll();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(M,U){return new Wo(U,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,r,u).next(R=>{R.forEach((M,U)=>{d=d.insert(M,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,r,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,u))).next(d=>{h.forEach((_,v)=>{const R=v.getKey();d.get(R)===null&&(d=d.insert(R,Qe.newInvalidDocument(R)))});let g=Ll();return d.forEach((_,v)=>{const R=h.get(_);R!==void 0&&jl(R.mutation,v,hn.empty(),Se.now()),ec(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:yS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.overlays=new te(ht.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const r=dr();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&r.set(u,h)})).next(()=>r)}saveOverlays(e,i,r){return r.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,r){const u=this.Rr.get(r);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(r)),Q.resolve()}getOverlaysForCollection(e,i,r){const u=dr(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>r&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,r,u){let h=new te((v,R)=>v-R);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>r){let R=h.get(v.largestBatchId);R===null&&(R=dr(),h=h.insert(v.largestBatchId,R)),R.set(v.getKey(),v)}}const g=dr(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,R)=>g.set(v,R)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,r){const u=this.overlays.get(r.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(r.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new KA(i,r));let h=this.Rr.get(i);h===void 0&&(h=Ct(),this.Rr.set(i,h)),this.Rr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.sessionToken=Pe.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this.Vr=new be(Oe.mr),this.gr=new be(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const r=new Oe(e,i);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,i){e.forEach(r=>this.addReference(r,i))}removeReference(e,i){this.wr(new Oe(e,i))}Sr(e,i){e.forEach(r=>this.removeReference(r,i))}br(e){const i=new ht(new Zt([])),r=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.gr.forEachInRange([r,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ht(new Zt([])),r=new Oe(i,e),u=new Oe(i,e+1);let h=Ct();return this.gr.forEachInRange([r,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),r=this.Vr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ht.comparator(e.key,i.key)||Dt(e.Cr,i.Cr)}static pr(e,i){return Dt(e.Cr,i.Cr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Oe.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new YA(h,i,r,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,u=this.Nr(r),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?td:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([r,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new be(Dt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{r=r.add(g.Cr)})}),Q.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,u=r.length+1;let h=r;ht.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ht(h),0);let g=new be(Dt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!r.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(r=>{const u=this.Or(r);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,i){const r=new Oe(i,0),u=this.Mr.firstAfterOrEqual(r);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.kr=e,this.docs=function(){return new te(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,u=this.docs.get(r),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Q.resolve(r?r.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let r=Ui();return i.forEach(u=>{const h=this.docs.get(u);r=r.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(r)}getDocumentsMatchingQuery(e,i,r,u){let h=Ui();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:R}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||lA(sA(R),r)<=0||(u.has(R.key)||ec(i,R))&&(h=h.insert(R.key,R.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,r,u){gt()}qr(e,i){return Q.forEach(this.docs,r=>i(r))}newChangeBuffer(e){return new MS(this)}getSize(e){return Q.resolve(this.size)}}class MS extends RS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(r)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.persistence=e,this.Qr=new pr(i=>id(i),ad),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new hd,this.targetCount=0,this.Kr=_s.Un()}forEachTarget(e,i){return this.Qr.forEach((r,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,r){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const r=this.Qr.get(i)||null;return Q.resolve(r)}addMatchingKeys(e,i,r){return this.Ur.yr(i,r),Q.resolve()}removeMatchingKeys(e,i,r){this.Ur.Sr(i,r);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const r=this.Ur.vr(i);return Q.resolve(r)}containsKey(e,i){return Q.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Zo(0),this.zr=!1,this.zr=!0,this.jr=new IS,this.referenceDelegate=e(this),this.Hr=new xS(this),this.indexManager=new _S,this.remoteDocumentCache=function(u){return new OS(u)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new pS(i),this.Yr=new CS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new VS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.Wr[e.toKey()];return r||(r=new NS(i,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,r){it("MemoryPersistence","Starting transaction:",e);const u=new US(this.Gr.next());return this.referenceDelegate.Zr(),r(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,i)))}}class US extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class fd{constructor(e){this.persistence=e,this.ti=new hd,this.ni=null}static ri(e){return new fd(e)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(e,i,r){return this.ti.addReference(r,i),this.ii.delete(r.toString()),Q.resolve()}removeReference(e,i,r){return this.ti.removeReference(r,i),this.ii.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>r.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,r=>{const u=ht.fromPath(r);return this.si(e,u).next(h=>{h||i.removeEntry(u,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(r=>{r?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.oi=new pr(r=>fA(r.path),(r,u)=>r.isEqual(u)),this.garbageCollector=bS(this,i)}static ri(e,i){return new Fo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>i.next(u=>r+u))}sr(e){let i=0;return this.rr(e,r=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(r,u)=>this.ar(e,r,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(r++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,r){return this.oi.set(r,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vo(e.data.value)),i}ar(e,i,r){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,i,r,u){this.targetId=e,this.fromCache=i,this.Hi=r,this.Ji=u}static Yi(e,i){let r=Ct(),u=Ct();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new dd(e,i.fromCache,r,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return N0()?8:cA(V0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,r,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,r).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new LS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,r,u){return r.documentReadCount<this.es?(us()<=Ut.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(us()<=Ut.DEBUG&&it("QueryEngine","Query:",os(i),"scans",r.documentReadCount,"local documents and returns",u,"documents as results."),r.documentReadCount>this.ts*u?(us()<=Ut.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Q.resolve())}rs(e,i){if(yy(i))return Q.resolve(null);let r=ei(i);return this.indexManager.getIndexType(e,r).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Pf(i,null,"F"),r=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next(h=>{const d=Ct(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Pf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,r,u){return yy(i)||u.isEqual(pt.min())?Q.resolve(null):this.ns.getDocuments(e,r).next(h=>{const d=this.cs(i,h);return this.ls(i,d,r,u)?Q.resolve(null):(us()<=Ut.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.hs(e,d,i,rA(u,Ql)).next(g=>g))})}cs(e,i){let r=new be(N_(e));return i.forEach((u,h)=>{ec(e,h)&&(r=r.add(h))}),r}ls(e,i,r,u){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,r){return us()<=Ut.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",os(i)),this.ns.getDocumentsMatchingQuery(e,i,wa.min(),r)}hs(e,i,r,u){return this.ns.getDocumentsMatchingQuery(e,r,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="LocalStore",BS=3e8;class PS{constructor(e,i,r,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(Dt),this.Is=new pr(h=>id(h),ad),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function kS(s,e,i,r){return new PS(s,e,i,r)}async function tv(s,e){const i=_t(s);return await i.persistence.runTransaction("Handle user change","readonly",r=>{let u;return i.mutationQueue.getAllMutationBatches(r).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(r))).next(h=>{const d=[],g=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}for(const v of h){g.push(v.batchId);for(const R of v.mutations)_=_.add(R.key)}return i.localDocuments.getDocuments(r,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function qS(s,e){const i=_t(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,R){const M=v.batch,U=M.keys();let j=Q.resolve();return U.forEach(Z=>{j=j.next(()=>R.getEntry(_,Z)).next(W=>{const X=v.docVersions.get(Z);jt(X!==null),W.version.compareTo(X)<0&&(M.applyToRemoteDocument(W,v),W.isValidDocument()&&(W.setReadTime(v.commitVersion),R.addEntry(W)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,M))}(i,r,e,h).next(()=>h.apply(r)).next(()=>i.mutationQueue.performConsistencyCheck(r)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(r,u))})}function ev(s){const e=_t(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function jS(s,e){const i=_t(s),r=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((R,M)=>{const U=u.get(M);if(!U)return;g.push(i.Hr.removeMatchingKeys(h,R.removedDocuments,M).next(()=>i.Hr.addMatchingKeys(h,R.addedDocuments,M)));let j=U.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(M)!==null?j=j.withResumeToken(Pe.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):R.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(R.resumeToken,r)),u=u.insert(M,j),function(W,X,vt){return W.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=BS?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(U,j,R)&&g.push(i.Hr.updateTargetData(h,j))});let _=Ui(),v=Ct();if(e.documentUpdates.forEach(R=>{e.resolvedLimboDocuments.has(R)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,R))}),g.push(HS(h,d,e.documentUpdates).next(R=>{_=R.Vs,v=R.fs})),!r.isEqual(pt.min())){const R=i.Hr.getLastRemoteSnapshotVersion(h).next(M=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,r));g.push(R)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function HS(s,e,i){let r=Ct(),u=Ct();return i.forEach(h=>r=r.add(h)),e.getEntries(s,r).next(h=>{let d=Ui();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(pt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(md,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function GS(s,e){const i=_t(s);return i.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=td),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function QS(s,e){const i=_t(s);return i.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return i.Hr.getTargetData(r,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(r).next(d=>(u=new Ea(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Hr.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=i.Ts.get(r.targetId);return(u===null||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(r.targetId,r),i.Is.set(e,r.targetId)),r})}async function Gf(s,e,i){const r=_t(s),u=r.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,d=>r.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;it(md,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ts=r.Ts.remove(e),r.Is.delete(u.target)}function Iy(s,e,i){const r=_t(s);let u=pt.min(),h=Ct();return r.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,R){const M=_t(_),U=M.Is.get(R);return U!==void 0?Q.resolve(M.Ts.get(U)):M.Hr.getTargetData(v,R)}(r,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>r.Ps.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:Ct())).next(g=>(FS(r,OA(e),g),{documents:g,gs:h})))}function FS(s,e,i){let r=s.Es.get(e)||pt.min();i.forEach((u,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)}),s.Es.set(e,r)}class Ny{constructor(){this.activeTargetIds=BA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YS{constructor(){this.ho=new Ny,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,r){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ny,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="ConnectivityMonitor";class My{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Oy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Oy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function Qf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",XS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${r}/databases/${u}`,this.wo=this.databaseId.database===Po?`project_id=${r}`:`project_id=${r}&database_id=${u}`}So(e,i,r,u,h){const d=Qf(),g=this.bo(e,i.toUriEncodedString());it(Sf,`Sending RPC '${e}' ${d}:`,g,r);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,r).then(v=>(it(Sf,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ms(Sf,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",r),v})}Co(e,i,r,u,h,d){return this.So(e,i,r,u,h)}Do(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),r&&r.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const r=XS[e];return`${this.po}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class JS extends ZS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,r,u){const h=Qf();return new Promise((d,g)=>{const _=new l_;_.setWithCredentials(!0),_.listenOnce(u_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Co.NO_ERROR:const R=_.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(R)),d(R);break;case Co.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),g(new lt(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const M=_.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,M,"response text:",_.getResponseText()),M>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const j=U==null?void 0:U.error;if(j&&j.status&&j.message){const Z=function(X){const vt=X.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(vt)>=0?vt:Y.UNKNOWN}(j.status);g(new lt(Z,j.message))}else g(new lt(Y.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new lt(Y.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);it(He,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,r,15)})}Wo(e,i,r){const u=Qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=h_(),g=c_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const R=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${R}`,_);const M=d.createWebChannel(R,_);let U=!1,j=!1;const Z=new $S({Fo:X=>{j?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,X):(U||(it(He,`Opening RPC '${e}' stream ${u} transport.`),M.open(),U=!0),it(He,`RPC '${e}' stream ${u} sending:`,X),M.send(X))},Mo:()=>M.close()}),W=(X,vt,ot)=>{X.listen(vt,Et=>{try{ot(Et)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return W(M,Ul.EventType.OPEN,()=>{j||(it(He,`RPC '${e}' stream ${u} transport opened.`),Z.Qo())}),W(M,Ul.EventType.CLOSE,()=>{j||(j=!0,it(He,`RPC '${e}' stream ${u} transport closed`),Z.Uo())}),W(M,Ul.EventType.ERROR,X=>{j||(j=!0,ms(He,`RPC '${e}' stream ${u} transport errored:`,X),Z.Uo(new lt(Y.UNAVAILABLE,"The operation could not be completed")))}),W(M,Ul.EventType.MESSAGE,X=>{var vt;if(!j){const ot=X.data[0];jt(!!ot);const Et=ot,Ht=(Et==null?void 0:Et.error)||((vt=Et[0])===null||vt===void 0?void 0:vt.error);if(Ht){it(He,`RPC '${e}' stream ${u} received error:`,Ht);const dt=Ht.status;let It=function(S){const D=me[S];if(D!==void 0)return j_(D)}(dt),O=Ht.message;It===void 0&&(It=Y.INTERNAL,O="Unknown error status: "+dt+" with message "+Ht.message),j=!0,Z.Uo(new lt(It,O)),M.close()}else it(He,`RPC '${e}' stream ${u} received:`,ot),Z.Ko(ot)}}),W(g,o_.STAT_EVENT,X=>{X.stat===Of.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):X.stat===Of.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Z.$o()},0),Z}}function bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(s){return new nS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,i,r=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=r,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-r);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="PersistentStream";class iv{constructor(e,i,r,u,h,d,g,_){this.Ti=e,this.n_=r,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new nv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(xi(i.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.i_===i&&this.V_(r,u)},r=>{e(()=>{const u=new lt(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(u)})})}V_(e,i){const r=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{r(()=>this.m_(u))}),this.stream.onMessage(u=>{r(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(xy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(xy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WS extends iv{constructor(e,i,r,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=rS(this.serializer,e),r=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?ni(d.readTime):pt.min()}(e);return this.listener.p_(i,r)}y_(e){const i={};i.database=Hf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Bf(_)?{documents:uS(h,_)}:{query:oS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Q_(h,d.resumeToken);const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=Qo(h,d.snapshotVersion.toTimestamp());const v=kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const r=hS(this.serializer,e);r&&(i.labels=r),this.I_(i)}w_(e){const i={};i.database=Hf(this.serializer),i.removeTarget=e,this.I_(i)}}class t1 extends iv{constructor(e,i,r,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=lS(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.v_(r,i)}C_(){const e={};e.database=Hf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(r=>sS(this.serializer,r))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{}class n1 extends e1{constructor(e,i,r,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new lt(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,r,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,qf(i,r),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Y.UNKNOWN,h.toString())})}Co(e,i,r,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,qf(i,r),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Y.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class i1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(xi(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr="RemoteStore";class a1{constructor(e,i,r,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{r.enqueueAndForget(async()=>{yr(this)&&(it(gr,"Restarting streams for network reachability change."),await async function(_){const v=_t(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await sc(v)}(this))})}),this.j_=new i1(r,u)}}async function sc(s){if(yr(s))for(const e of s.G_)await e(!0)}async function Wl(s){for(const e of s.G_)await e(!1)}function av(s,e){const i=_t(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),_d(i)?yd(i):Rs(i).c_()&&pd(i,e))}function gd(s,e){const i=_t(s),r=Rs(i);i.K_.delete(e),r.c_()&&rv(i,e),i.K_.size===0&&(r.c_()?r.P_():yr(i)&&i.j_.set("Unknown"))}function pd(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function rv(s,e){s.H_.Ne(e),Rs(s).w_(e)}function yd(s){s.H_=new JA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function _d(s){return yr(s)&&!Rs(s).u_()&&s.K_.size>0}function yr(s){return _t(s).W_.size===0}function sv(s){s.H_=void 0}async function r1(s){s.j_.set("Online")}async function s1(s){s.K_.forEach((e,i)=>{pd(s,e)})}async function l1(s,e){sv(s),_d(s)?(s.j_.q_(e),yd(s)):s.j_.set("Unknown")}async function u1(s,e,i){if(s.j_.set("Online"),e instanceof G_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(r){it(gr,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yo(s,r)}else if(e instanceof Oo?s.H_.We(e):e instanceof H_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(pt.min()))try{const r=await ev(s.localStore);i.compareTo(r)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const R=h.K_.get(v);R&&h.K_.set(v,R.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const R=h.K_.get(_);if(!R)return;h.K_.set(_,R.withResumeToken(Pe.EMPTY_BYTE_STRING,R.snapshotVersion)),rv(h,_);const M=new Ea(R.target,_,v,R.sequenceNumber);pd(h,M)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(r){it(gr,"Failed to raise snapshot:",r),await Yo(s,r)}}async function Yo(s,e,i){if(!bs(e))throw e;s.W_.add(1),await Wl(s),s.j_.set("Offline"),i||(i=()=>ev(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(gr,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await sc(s)})}function lv(s,e){return e().catch(i=>Yo(s,i,e))}async function lc(s){const e=_t(s),i=Ia(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:td;for(;o1(e);)try{const u=await GS(e.localStore,r);if(u===null){e.U_.length===0&&i.P_();break}r=u.batchId,c1(e,u)}catch(u){await Yo(e,u)}uv(e)&&ov(e)}function o1(s){return yr(s)&&s.U_.length<10}function c1(s,e){s.U_.push(e);const i=Ia(s);i.c_()&&i.S_&&i.b_(e.mutations)}function uv(s){return yr(s)&&!Ia(s).u_()&&s.U_.length>0}function ov(s){Ia(s).start()}async function h1(s){Ia(s).C_()}async function f1(s){const e=Ia(s);for(const i of s.U_)e.b_(i.mutations)}async function d1(s,e,i){const r=s.U_.shift(),u=ud.from(r,e,i);await lv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await lc(s)}async function m1(s,e){e&&Ia(s).S_&&await async function(r,u){if(function(d){return ZA(d)&&d!==Y.ABORTED}(u.code)){const h=r.U_.shift();Ia(r).h_(),await lv(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,u)),await lc(r)}}(s,e),uv(s)&&ov(s)}async function Uy(s,e){const i=_t(s);i.asyncQueue.verifyOperationInProgress(),it(gr,"RemoteStore received new credentials");const r=yr(i);i.W_.add(3),await Wl(i),r&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await sc(i)}async function g1(s,e){const i=_t(s);e?(i.W_.delete(2),await sc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,r,u){const h=_t(i);return h.M_(),new WS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:r1.bind(null,s),No:s1.bind(null,s),Lo:l1.bind(null,s),p_:u1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),_d(s)?yd(s):s.j_.set("Unknown")):(await s.J_.stop(),sv(s))})),s.J_}function Ia(s){return s.Y_||(s.Y_=function(i,r,u){const h=_t(i);return h.M_(),new t1(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:h1.bind(null,s),Lo:m1.bind(null,s),D_:f1.bind(null,s),v_:d1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await lc(s)):(await s.Y_.stop(),s.U_.length>0&&(it(gr,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,r,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=u,this.removalCallback=h,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,u,h){const d=Date.now()+r,g=new vd(e,i,d,u,h);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ed(s,e){if(xi("AsyncQueue",`${e}: ${s}`),bs(s))return new lt(Y.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{static emptySet(e){return new ds(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||ht.comparator(i.key,r.key):(i,r)=>ht.comparator(i.key,r.key),this.keyedMap=Ll(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,r)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ds)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=r.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new ds;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Z_=new te(ht.comparator)}track(e){const i=e.doc.key,r=this.Z_.get(i);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(i):e.type===1&&r.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):gt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,r)=>{e.push(r)}),e}}class vs{constructor(e,i,r,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,r,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new vs(e,i,ds.emptySet(i),d,r,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==r[u].type||!i[u].doc.isEqual(r[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class y1{constructor(){this.queries=zy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,r){const u=_t(i),h=u.queries;u.queries=zy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(r)})})(this,new lt(Y.ABORTED,"Firestore shutting down"))}}function zy(){return new pr(s=>I_(s),tc)}async function cv(s,e){const i=_t(s);let r=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(r=2):(h=new p1,r=e.ra()?0:1);try{switch(r){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=Ed(d,`Initialization of query '${os(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Td(i)}async function hv(s,e){const i=_t(s),r=e.query;let u=3;const h=i.queries.get(r);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function _1(s,e){const i=_t(s);let r=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(r=!0);d.ea=u}}r&&Td(i)}function v1(s,e,i){const r=_t(s),u=r.queries.get(e);if(u)for(const h of u.ta)h.onError(i);r.queries.delete(e)}function Td(s){s.ia.forEach(e=>{e.next()})}var Ff,By;(By=Ff||(Ff={}))._a="default",By.Cache="cache";class fv{constructor(e,i,r){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)u.type!==3&&r.push(u);e=new vs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const r=i!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this.key=e}}class mv{constructor(e){this.key=e}}class E1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ct(),this.mutatedKeys=Ct(),this.ya=N_(e),this.wa=new ds(this.ya)}get Sa(){return this.fa}ba(e,i){const r=i?i.Da:new Ly,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((R,M)=>{const U=u.get(R),j=ec(this.query,M)?M:null,Z=!!U&&this.mutatedKeys.has(U.key),W=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let X=!1;U&&j?U.data.isEqual(j.data)?Z!==W&&(r.track({type:3,doc:j}),X=!0):this.va(U,j)||(r.track({type:2,doc:j}),X=!0,(_&&this.ya(j,_)>0||v&&this.ya(j,v)<0)&&(g=!0)):!U&&j?(r.track({type:0,doc:j}),X=!0):U&&!j&&(r.track({type:1,doc:U}),X=!0,(_||v)&&(g=!0)),X&&(j?(d=d.add(j),h=W?h.add(R):h.delete(R)):(d=d.delete(R),h=h.delete(R)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const R=this.query.limitType==="F"?d.last():d.first();d=d.delete(R.key),h=h.delete(R.key),r.track({type:1,doc:R})}return{wa:d,Da:r,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((R,M)=>function(j,Z){const W=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return W(j)-W(Z)}(R.type,M.type)||this.ya(R.doc,M.doc)),this.Ca(r),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new vs(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ly,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ct(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const i=[];return e.forEach(r=>{this.pa.has(r)||i.push(new mv(r))}),this.pa.forEach(r=>{e.has(r)||i.push(new dv(r))}),i}Oa(e){this.fa=e.gs,this.pa=Ct();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ad="SyncEngine";class T1{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class A1{constructor(e){this.key=e,this.Ba=!1}}class S1{constructor(e,i,r,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new pr(g=>I_(g),tc),this.qa=new Map,this.Qa=new Set,this.$a=new te(ht.comparator),this.Ua=new Map,this.Ka=new hd,this.Wa={},this.Ga=new Map,this.za=_s.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function b1(s,e,i=!0){const r=Ev(s);let u;const h=r.ka.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await gv(r,e,i,!0),u}async function R1(s,e){const i=Ev(s);await gv(i,e,!0,!1)}async function gv(s,e,i,r){const u=await QS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await w1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&av(s.remoteStore,u),g}async function w1(s,e,i,r,u){s.Ha=(M,U,j)=>async function(W,X,vt,ot){let Et=X.view.ba(vt);Et.ls&&(Et=await Iy(W.localStore,X.query,!1).then(({documents:O})=>X.view.ba(O,Et)));const Ht=ot&&ot.targetChanges.get(X.targetId),dt=ot&&ot.targetMismatches.get(X.targetId)!=null,It=X.view.applyChanges(Et,W.isPrimaryClient,Ht,dt);return ky(W,X.targetId,It.Ma),It.snapshot}(s,M,U,j);const h=await Iy(s.localStore,e,!0),d=new E1(e,h.gs),g=d.ba(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);ky(s,i,v.Ma);const R=new T1(e,i,d);return s.ka.set(e,R),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function D1(s,e,i){const r=_t(s),u=r.ka.get(e),h=r.qa.get(u.targetId);if(h.length>1)return r.qa.set(u.targetId,h.filter(d=>!tc(d,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(u.targetId),r.sharedClientState.isActiveQueryTarget(u.targetId)||await Gf(r.localStore,u.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(u.targetId),i&&gd(r.remoteStore,u.targetId),Yf(r,u.targetId)}).catch(Ss)):(Yf(r,u.targetId),await Gf(r.localStore,u.targetId,!0))}async function C1(s,e){const i=_t(s),r=i.ka.get(e),u=i.qa.get(r.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),gd(i.remoteStore,r.targetId))}async function V1(s,e,i){const r=L1(s);try{const u=await function(d,g){const _=_t(d),v=Se.now(),R=g.reduce((j,Z)=>j.add(Z.key),Ct());let M,U;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let Z=Ui(),W=Ct();return _.ds.getEntries(j,R).next(X=>{Z=X,Z.forEach((vt,ot)=>{ot.isValidDocument()||(W=W.add(vt))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,Z)).next(X=>{M=X;const vt=[];for(const ot of g){const Et=QA(ot,M.get(ot.key).overlayedDocument);Et!=null&&vt.push(new Ma(ot.key,Et,S_(Et.value.mapValue),Ln.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,vt,g)}).next(X=>{U=X;const vt=X.applyToLocalDocumentSet(M,W);return _.documentOverlayCache.saveOverlays(j,X.batchId,vt)})}).then(()=>({batchId:U.batchId,changes:M_(M)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(Dt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(r,u.batchId,i),await tu(r,u.changes),await lc(r.remoteStore)}catch(u){const h=Ed(u,"Failed to persist write");i.reject(h)}}async function pv(s,e){const i=_t(s);try{const r=await jS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(jt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?jt(d.Ba):u.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await tu(i,r,e)}catch(r){await Ss(r)}}function Py(s,e,i){const r=_t(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const u=[];r.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=_t(d);_.onlineState=g;let v=!1;_.queries.forEach((R,M)=>{for(const U of M.ta)U.sa(g)&&(v=!0)}),v&&Td(_)}(r.eventManager,e),u.length&&r.La.p_(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function I1(s,e,i){const r=_t(s);r.sharedClientState.updateQueryState(e,"rejected",i);const u=r.Ua.get(e),h=u&&u.key;if(h){let d=new te(ht.comparator);d=d.insert(h,Qe.newNoDocument(h,pt.min()));const g=Ct().add(h),_=new ac(pt.min(),new Map,new te(Dt),d,g);await pv(r,_),r.$a=r.$a.remove(h),r.Ua.delete(e),Sd(r)}else await Gf(r.localStore,e,!1).then(()=>Yf(r,e,i)).catch(Ss)}async function N1(s,e){const i=_t(s),r=e.batch.batchId;try{const u=await qS(i.localStore,e);_v(i,r,null),yv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,u)}catch(u){await Ss(u)}}async function O1(s,e,i){const r=_t(s);try{const u=await function(d,g){const _=_t(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let R;return _.mutationQueue.lookupMutationBatch(v,g).next(M=>(jt(M!==null),R=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,R,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,R)).next(()=>_.localDocuments.getDocuments(v,R))})}(r.localStore,e);_v(r,e,i),yv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await tu(r,u)}catch(u){await Ss(u)}}function yv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function _v(s,e,i){const r=_t(s);let u=r.Wa[r.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),r.Wa[r.currentUser.toKey()]=u}}function Yf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.qa.get(e))s.ka.delete(r),i&&s.La.Ja(r,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(r=>{s.Ka.containsKey(r)||vv(s,r)})}function vv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(gd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Sd(s))}function ky(s,e,i){for(const r of i)r instanceof dv?(s.Ka.addReference(r.key,e),M1(s,r)):r instanceof mv?(it(Ad,"Document no longer in limbo: "+r.key),s.Ka.removeReference(r.key,e),s.Ka.containsKey(r.key)||vv(s,r.key)):gt()}function M1(s,e){const i=e.key,r=i.path.canonicalString();s.$a.get(i)||s.Qa.has(r)||(it(Ad,"New document in limbo: "+i),s.Qa.add(r),Sd(s))}function Sd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ht(Zt.fromString(e)),r=s.za.next();s.Ua.set(r,new A1(i)),s.$a=s.$a.insert(i,r),av(s.remoteStore,new Ea(ei(rd(i.path)),r,"TargetPurposeLimboResolution",Zo.ae))}}async function tu(s,e,i){const r=_t(s),u=[],h=[],d=[];r.ka.isEmpty()||(r.ka.forEach((g,_)=>{d.push(r.Ha(_,e,i).then(v=>{var R;if((v||i)&&r.isPrimaryClient){const M=v?!v.fromCache:(R=i==null?void 0:i.targetChanges.get(_.targetId))===null||R===void 0?void 0:R.current;r.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(v){u.push(v);const M=dd.Yi(_.targetId,v);h.push(M)}}))}),await Promise.all(d),r.La.p_(u),await async function(_,v){const R=_t(_);try{await R.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Q.forEach(v,U=>Q.forEach(U.Hi,j=>R.persistence.referenceDelegate.addReference(M,U.targetId,j)).next(()=>Q.forEach(U.Ji,j=>R.persistence.referenceDelegate.removeReference(M,U.targetId,j)))))}catch(M){if(!bs(M))throw M;it(md,"Failed to update sequence numbers: "+M)}for(const M of v){const U=M.targetId;if(!M.fromCache){const j=R.Ts.get(U),Z=j.snapshotVersion,W=j.withLastLimboFreeSnapshotVersion(Z);R.Ts=R.Ts.insert(U,W)}}}(r.localStore,h))}async function x1(s,e){const i=_t(s);if(!i.currentUser.isEqual(e)){it(Ad,"User change. New user:",e.toKey());const r=await tv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new lt(Y.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Rs)}}function U1(s,e){const i=_t(s),r=i.Ua.get(e);if(r&&r.Ba)return Ct().add(r.key);{let u=Ct();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function Ev(s){const e=_t(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=pv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=U1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=I1.bind(null,e),e.La.p_=_1.bind(null,e.eventManager),e.La.Ja=v1.bind(null,e.eventManager),e}function L1(s){const e=_t(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=O1.bind(null,e),e}class Ko{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return kS(this.persistence,new zS,e.initialUser,this.serializer)}Xa(e){return new W_(fd.ri,this.serializer)}Za(e){return new YS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ko.provider={build:()=>new Ko};class z1 extends Ko{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){jt(this.persistence.referenceDelegate instanceof Fo);const r=this.persistence.referenceDelegate.garbageCollector;return new AS(r,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new W_(r=>Fo.ri(r,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Py(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x1.bind(null,this.syncEngine),await g1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y1}()}createDatastore(e){const i=rc(e.databaseInfo.databaseId),r=function(h){return new JS(h)}(e.databaseInfo);return function(h,d,g,_){return new n1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,u,h,d,g){return new a1(r,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Py(this.syncEngine,i,0),function(){return My.D()?new My:new KS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,R){const M=new S1(u,h,d,g,_,v);return R&&(M.ja=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=_t(u);it(gr,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):xi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="FirestoreClient";class B1{constructor(e,i,r,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,async d=>{it(Na,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(it(Na,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ed(i,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Rf(s,e){s.asyncQueue.verifyOperationInProgress(),it(Na,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener(async u=>{r.isEqual(u)||(await tv(e.localStore,u),r=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function qy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await P1(s);it(Na,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(r=>Uy(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,u)=>Uy(e.remoteStore,u)),s._onlineComponents=e}async function P1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(Na,"Using user provided OfflineComponentProvider");try{await Rf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Y.FAILED_PRECONDITION||u.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await Rf(s,new Ko)}}else it(Na,"Using default OfflineComponentProvider"),await Rf(s,new z1(void 0));return s._offlineComponents}async function Av(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(Na,"Using user provided OnlineComponentProvider"),await qy(s,s._uninitializedComponentsProvider._online)):(it(Na,"Using default OnlineComponentProvider"),await qy(s,new Kf))),s._onlineComponents}function k1(s){return Av(s).then(e=>e.syncEngine)}async function Sv(s){const e=await Av(s),i=e.eventManager;return i.onListen=b1.bind(null,e.syncEngine),i.onUnlisten=D1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=R1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=C1.bind(null,e.syncEngine),i}function q1(s,e,i={}){const r=new Oi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new Tv({next:U=>{R.su(),d.enqueueAndForget(()=>hv(h,M));const j=U.docs.has(g);!j&&U.fromCache?v.reject(new lt(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&U.fromCache&&_&&_.source==="server"?v.reject(new lt(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),M=new fv(rd(g.path),R,{includeMetadataChanges:!0,Ta:!0});return cv(h,M)}(await Sv(s),s.asyncQueue,e,i,r)),r.promise}function j1(s,e,i={}){const r=new Oi;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const R=new Tv({next:U=>{R.su(),d.enqueueAndForget(()=>hv(h,M)),U.fromCache&&_.source==="server"?v.reject(new lt(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(U)},error:U=>v.reject(U)}),M=new fv(g,R,{includeMetadataChanges:!0,Ta:!0});return cv(h,M)}(await Sv(s),s.asyncQueue,e,i,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(s,e,i){if(!i)throw new lt(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function H1(s,e,i,r){if(e===!0&&r===!0)throw new lt(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Hy(s){if(!ht.isDocumentKey(s))throw new lt(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gy(s){if(ht.isDocumentKey(s))throw new lt(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function bd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt()}function Li(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=bd(s);throw new lt(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="firestore.googleapis.com",Qy=!0;class Fy{constructor(e){var i,r;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wv,this.ssl=Qy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Qy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ES)throw new lt(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bv((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,u){return r.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uc{constructor(e,i,r,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $T;switch(r.type){case"firstParty":return new eA(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const r=jy.get(i);r&&(it("ComponentProvider","Removing Datastore"),jy.delete(i),r.terminate())}(this),Promise.resolve()}}function G1(s,e,i,r={}){var u;const h=(s=Li(s,uc))._getSettings(),d=`${e}:${i}`;if(h.host!==wv&&h.host!==d&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),r.mockUserToken){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Ge.MOCK_USER;else{g=C0(r.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new lt(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new JT(new f_(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oc(this.firestore,e,this._query)}}class fn{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class ba extends oc{constructor(e,i,r){super(e,i,rd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new ht(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function Yy(s,e,...i){if(s=Ra(s),Rv("collection","path",e),s instanceof uc){const r=Zt.fromString(e,...i);return Gy(r),new ba(s,null,r)}{if(!(s instanceof fn||s instanceof ba))throw new lt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Zt.fromString(e,...i));return Gy(r),new ba(s.firestore,null,r)}}function Mo(s,e,...i){if(s=Ra(s),arguments.length===1&&(e=d_.newId()),Rv("doc","path",e),s instanceof uc){const r=Zt.fromString(e,...i);return Hy(r),new fn(s,null,new ht(r))}{if(!(s instanceof fn||s instanceof ba))throw new lt(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Zt.fromString(e,...i));return Hy(r),new fn(s.firestore,s instanceof ba?s.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="AsyncQueue";class Xy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new nv(this,"async_queue_retry"),this.Su=()=>{const r=bf();r&&it(Ky,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const i=bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Oi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;it(Ky,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(r);throw xi("INTERNAL UNHANDLED ERROR: ",u),r}).then(r=>(this.pu=!1,r))));return this.bu=i,i}enqueueAfterDelay(e,i,r){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=vd.createAndSchedule(this,e,i,r,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,r)=>i.targetTimeMs-r.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class ws extends uc{constructor(e,i,r,u){super(e,i,r,u),this.type="firestore",this._queue=new Xy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xy(e),this._firestoreClient=void 0,await e}}}function Q1(s,e){const i=typeof s=="object"?s:BT(),r=typeof s=="string"?s:Po,u=MT(i,"firestore").getImmediate({identifier:r});if(!u._initialized){const h=w0("firestore");h&&G1(u,...h)}return u}function Rd(s){if(s._terminated)throw new lt(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||F1(s),s._firestoreClient}function F1(s){var e,i,r;const u=s._freezeSettings(),h=function(g,_,v,R){return new gA(g,_,v,R.host,R.ssl,R.experimentalForceLongPolling,R.experimentalAutoDetectLongPolling,bv(R.experimentalLongPollingOptions),R.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((r=u.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new B1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Pe.fromBase64String(e))}catch(i){throw new lt(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Es(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,u){if(r.length!==u.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=/^__.*__$/;class K1{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}class Dv{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Ma(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Cv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Vd{constructor(e,i,r,u,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:r,Qu:!1});return u.$u(e),u}Uu(e){var i;const r=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:r,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Xo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Cv(this.Lu)&&Y1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class X1{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||rc(e)}ju(e,i,r,u=!1){return new Vd({Lu:e,methodName:i,zu:r,path:Be.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vv(s){const e=s._freezeSettings(),i=rc(s._databaseId);return new X1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Z1(s,e,i,r,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Id("Data must be an object, but it was:",d,r);const g=Iv(r,d);let _,v;if(h.merge)_=new hn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const R=[];for(const M of h.mergeFields){const U=Xf(e,M,i);if(!d.contains(U))throw new lt(Y.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Ov(R,U)||R.push(U)}_=new hn(R),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new K1(new nn(g),_,v)}class hc extends wd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hc}}function $1(s,e,i,r){const u=s.ju(1,e,i);Id("Data must be an object, but it was:",u,r);const h=[],d=nn.empty();Oa(r,(_,v)=>{const R=Nd(e,_,i);v=Ra(v);const M=u.Uu(R);if(v instanceof hc)h.push(R);else{const U=fc(v,M);U!=null&&(h.push(R),d.set(R,U))}});const g=new hn(h);return new Dv(d,g,u.fieldTransforms)}function J1(s,e,i,r,u,h){const d=s.ju(1,e,i),g=[Xf(e,r,i)],_=[u];if(h.length%2!=0)throw new lt(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<h.length;U+=2)g.push(Xf(e,h[U])),_.push(h[U+1]);const v=[],R=nn.empty();for(let U=g.length-1;U>=0;--U)if(!Ov(v,g[U])){const j=g[U];let Z=_[U];Z=Ra(Z);const W=d.Uu(j);if(Z instanceof hc)v.push(j);else{const X=fc(Z,W);X!=null&&(v.push(j),R.set(j,X))}}const M=new hn(v);return new Dv(R,M,d.fieldTransforms)}function fc(s,e){if(Nv(s=Ra(s)))return Id("Unsupported field value:",e,s),Iv(s,e);if(s instanceof wd)return function(r,u){if(!Cv(u.Lu))throw u.Wu(`${r._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,u){const h=[];let d=0;for(const g of r){let _=fc(g,u.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(r,u){if((r=Ra(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PA(u.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Se.fromDate(r);return{timestampValue:Qo(u.serializer,h)}}if(r instanceof Se){const h=new Se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qo(u.serializer,h)}}if(r instanceof Dd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Es)return{bytesValue:Q_(u.serializer,r._byteString)};if(r instanceof fn){const h=u.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:cd(r.firestore._databaseId||u.databaseId,r._key.path)}}if(r instanceof Cd)return function(d,g){return{mapValue:{fields:{[T_]:{stringValue:A_},[ko]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return sd(g.serializer,v)})}}}}}}(r,u);throw u.Wu(`Unsupported field value: ${bd(r)}`)}(s,e)}function Iv(s,e){const i={};return g_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(s,(r,u)=>{const h=fc(u,e.qu(r));h!=null&&(i[r]=h)}),{mapValue:{fields:i}}}function Nv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Dd||s instanceof Es||s instanceof fn||s instanceof wd||s instanceof Cd)}function Id(s,e,i){if(!Nv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const r=bd(i);throw r==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+r)}}function Xf(s,e,i){if((e=Ra(e))instanceof cc)return e._internalPath;if(typeof e=="string")return Nd(s,e);throw Xo("Field path arguments must be of type string or ",s,!1,void 0,i)}const W1=new RegExp("[~\\*/\\[\\]]");function Nd(s,e,i){if(e.search(W1)>=0)throw Xo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new cc(...e.split("."))._internalPath}catch{throw Xo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xo(s,e,i,r,u){const h=r&&!r.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${r}`),d&&(_+=` in document ${u}`),_+=")"),new lt(Y.INVALID_ARGUMENT,g+s+_)}function Ov(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e,i,r,u,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(xv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tb extends Mv{data(){return super.data()}}function xv(s,e){return typeof e=="string"?Nd(s,e):e instanceof cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nb{convertValue(e,i="none"){switch(Va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Oa(e,(u,h)=>{r[u]=this.convertValue(h,i)}),r}convertVectorValue(e){var i,r,u;const h=(u=(r=(i=e.fields)===null||i===void 0?void 0:i[ko].arrayValue)===null||r===void 0?void 0:r.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new Cd(h)}convertGeoPoint(e){return new Dd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(r=>this.convertValue(r,i))}convertServerTimestamp(e,i){switch(i){case"previous":const r=Jo(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const i=Da(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Zt.fromString(e);jt($_(r));const u=new Yl(r.get(1),r.get(3)),h=new ht(r.popFirst(5));return u.isEqual(i)||xi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(s,e,i){let r;return r=s?s.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uv extends Mv{constructor(e,i,r,u,h,d){super(e,i,r,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}}class xo extends Uv{data(e={}){return super.data(e)}}class ab{constructor(e,i,r,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Bl(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(r=>{e.call(i,new xo(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new xo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Bl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,R=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),R=d.indexOf(g.doc.key)),{type:rb(g.type),doc:_,oldIndex:v,newIndex:R}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function rb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(s){s=Li(s,fn);const e=Li(s.firestore,ws);return q1(Rd(e),s._key).then(i=>hb(e,s,i))}class Lv extends nb{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,i)}}function lb(s){s=Li(s,oc);const e=Li(s.firestore,ws),i=Rd(e),r=new Lv(e);return eb(s._query),j1(i,s._query).then(u=>new ab(e,r,s,u))}function ub(s,e,i,...r){s=Li(s,fn);const u=Li(s.firestore,ws),h=Vv(u);let d;return d=typeof(e=Ra(e))=="string"||e instanceof cc?J1(h,"updateDoc",s._key,e,i,r):$1(h,"updateDoc",s._key,e),Od(u,[d.toMutation(s._key,Ln.exists(!0))])}function ob(s){return Od(Li(s.firestore,ws),[new ld(s._key,Ln.none())])}function cb(s,e){const i=Li(s.firestore,ws),r=Mo(s),u=ib(s.converter,e);return Od(i,[Z1(Vv(s.firestore),"addDoc",r._key,u,s.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}function Od(s,e){return function(r,u){const h=new Oi;return r.asyncQueue.enqueueAndForget(async()=>V1(await k1(r),u,h)),h.promise}(Rd(s),e)}function hb(s,e,i){const r=i.docs.get(e._key),u=new Lv(s);return new Uv(s,u,e._key,r,new Bl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){As=u})(zT),zo(new Hl("firestore",(r,{instanceIdentifier:u,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new ws(new WT(r.getProvider("auth-internal")),new nA(d,r.getProvider("app-check-internal")),function(v,R){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new lt(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(v.options.projectId,R)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),fs(ey,ny,e),fs(ey,ny,"esm2017")})();const fb={apiKey:"AIzaSyDqgVFER5qlTGlj3WulPR3zGxHW5GisHSY",authDomain:"dynamo-web-c0e68.firebaseapp.com",projectId:"dynamo-web-c0e68",storageBucket:"dynamo-web-c0e68.firebasestorage.app",messagingSenderId:"200877536030",appId:"1:200877536030:web:1391eb69031725dc568f0f",measurementId:"G-GXBM1B0KST"},db=i_(fb),xl=Q1(db);function mb(){const[s,e]=Wn.useState(!1),[i,r]=Wn.useState(""),[u,h]=Wn.useState(""),[d,g]=Wn.useState(null),[_,v]=Wn.useState({});Wn.useEffect(()=>{(async()=>{if(localStorage.getItem("adminAuth")==="true"){e(!0);return}const D=Mo(xl,"config","admin"),I=await sb(D);I.exists()?h(I.data().adminPassword):console.error("No se encontr la contrasea en Firestore.")})()},[]);const R=()=>{i===u?(localStorage.setItem("adminAuth","true"),e(!0)):alert("Contrasea incorrecta.")},M=A=>{g(A.id),v({...A})},U=A=>{v({..._,[A.target.name]:A.target.value})},j=A=>{v(S=>({...S,cantidad:Math.max(0,Number(S.cantidad)+A)}))},Z=async()=>{await ub(Mo(xl,"inventario",d),_),vt(X.map(A=>A.id===d?{..._,id:d}:A)),g(null)},W=()=>{g(null),v({})},[X,vt]=Wn.useState([]),[ot,Et]=Wn.useState({nombre:"",descripcion:"",cantidad:"",estado:"",observaciones:"",categoria:"Robtica"});Wn.useEffect(()=>{Ht()},[]);const Ht=async()=>{const S=(await lb(Yy(xl,"inventario"))).docs.map(D=>({id:D.id,...D.data()}));vt(S)},dt=A=>{Et({...ot,[A.target.name]:A.target.value})},It=async A=>{A.preventDefault();const S=await cb(Yy(xl,"inventario"),ot);vt([...X,{id:S.id,...ot}]),Et({nombre:"",descripcion:"",cantidad:"",estado:"",observaciones:"",categoria:"Robtica"})},O=async A=>{await ob(Mo(xl,"inventario",A)),vt(X.filter(S=>S.id!==A))};return tt.jsx("div",{className:"flex-container",children:s?tt.jsxs(tt.Fragment,{children:[tt.jsx("h1",{children:"Inventario 3Dynamo | Laboratorio de Impresin 3D y Robtica"}),tt.jsxs("form",{onSubmit:It,style:{marginBottom:"20px"},children:[tt.jsx("input",{type:"text",name:"nombre",value:ot.nombre,onChange:dt,placeholder:"Nombre del item",required:!0}),tt.jsx("input",{type:"text",name:"descripcion",value:ot.descripcion,onChange:dt,placeholder:"Descripcin del item",required:!0}),tt.jsx("input",{type:"number",name:"cantidad",value:ot.cantidad,onChange:dt,placeholder:"Cantidad del item",required:!0}),tt.jsx("input",{type:"text",name:"estado",value:ot.estado,onChange:dt,placeholder:"Estado del item",required:!0}),tt.jsx("input",{type:"text",name:"observaciones",value:ot.observaciones,onChange:dt,placeholder:"Observaciones del item"}),tt.jsxs("select",{name:"categoria",value:ot.categoria,onChange:dt,children:[tt.jsx("option",{value:"Robtica",children:"Robtica"}),tt.jsx("option",{value:"Impresin 3D",children:"Impresin 3D"})]}),tt.jsx("button",{type:"submit",children:"Agregar"})]}),tt.jsx("h2",{children:"Lista de Items"}),tt.jsx("h3",{className:"categoria--title robotica--title",children:"Robtica"}),tt.jsx("div",{className:"categoria--arrow arrow--1"}),tt.jsx("ul",{children:X.filter(A=>A.categoria==="Robtica").map(A=>tt.jsx("li",{children:d===A.id?tt.jsxs(tt.Fragment,{children:[tt.jsx("input",{type:"text",name:"nombre",value:_.nombre,onChange:U}),tt.jsx("input",{type:"text",name:"descripcion",value:_.descripcion,onChange:U}),tt.jsxs("div",{className:"quantity--container",children:[tt.jsx("button",{className:"quantity--button",onClick:()=>j(-1),children:"-"}),tt.jsx("input",{className:"quantity--input",type:"number",name:"cantidad",value:_.cantidad,onChange:U,readOnly:!0}),tt.jsx("button",{className:"quantity--button",onClick:()=>j(1),children:"+"})]}),tt.jsx("input",{type:"text",name:"estado",value:_.estado,onChange:U}),tt.jsx("input",{type:"text",name:"observaciones",value:_.observaciones,onChange:U}),tt.jsx("button",{className:"confirm--button",onClick:Z,children:"Confirmar"}),tt.jsx("button",{className:"cancel--button",onClick:W,children:"Cancelar"})]}):tt.jsxs(tt.Fragment,{children:[tt.jsxs("p",{children:[tt.jsx("strong",{children:A.nombre})," - ",A.descripcion]}),tt.jsxs("p",{children:["Cantidad: ",A.cantidad," | Estado: ",A.estado," | Observaciones: ",A.observaciones]}),tt.jsxs("div",{className:"options--container",children:[tt.jsx("button",{className:"edit--button",onClick:()=>M(A),children:"Editar"}),tt.jsx("button",{className:"delete--button",onClick:()=>O(A.id),children:"Borrar"})]})]})},A.id))}),tt.jsx("h3",{className:"categoria--title impresion3d--title",children:"Impresin 3D"}),tt.jsx("div",{className:"categoria--arrow arrow--2"}),tt.jsx("ul",{children:X.filter(A=>A.categoria==="Impresin 3D").map(A=>tt.jsx("li",{children:d===A.id?tt.jsxs(tt.Fragment,{children:[tt.jsx("input",{type:"text",name:"nombre",value:_.nombre,onChange:U}),tt.jsx("input",{type:"text",name:"descripcion",value:_.descripcion,onChange:U}),tt.jsxs("div",{className:"quantity--container",children:[tt.jsx("button",{className:"quantity--button",onClick:()=>j(-1),children:"-"}),tt.jsx("input",{className:"quantity--input",type:"number",name:"cantidad",value:_.cantidad,onChange:U,readOnly:!0}),tt.jsx("button",{className:"quantity--button",onClick:()=>j(1),children:"+"})]}),tt.jsx("input",{type:"text",name:"estado",value:_.estado,onChange:U}),tt.jsx("input",{type:"text",name:"observaciones",value:_.observaciones,onChange:U}),tt.jsx("button",{className:"confirm--button",onClick:Z,children:"Confirmar"}),tt.jsx("button",{className:"cancel--button",onClick:W,children:"Cancelar"})]}):tt.jsxs(tt.Fragment,{children:[tt.jsxs("p",{children:[tt.jsx("strong",{children:A.nombre})," - ",A.descripcion]}),tt.jsxs("p",{children:["Cantidad: ",A.cantidad," | Estado: ",A.estado," | Observaciones: ",A.observaciones]}),tt.jsxs("div",{className:"options--container",children:[tt.jsx("button",{className:"edit--button",onClick:()=>M(A),children:"Editar"}),tt.jsx("button",{className:"delete--button",onClick:()=>O(A.id),children:"Borrar"})]})]})},A.id))})]}):tt.jsxs("div",{className:"login--container",children:[tt.jsx("h1",{children:"Acceso Administrador"}),tt.jsx("input",{className:"login--input",type:"password",placeholder:"Ingresa la contrasea de administrador",value:i,onChange:A=>r(A.target.value)}),tt.jsx("button",{className:"login--button",onClick:R,children:"Ingresar"})]})})}p0.createRoot(document.getElementById("root")).render(tt.jsx(Wn.StrictMode,{children:tt.jsx(mb,{})}));
